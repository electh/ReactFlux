var Kl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{a as W,g as Ql,b as Zl,u as ke,c as Y,i as Hs,r as C,j as a,M as Kt,d as tn,e as K,T as H,f as Ha,A as Wa,I as Jl,S as jr,h as ec,k as tc,l as Ws,m as nc,C as Bi,n as rc,o as qs,B as ye,p as sc,D as ic,q as _r,s as Ln,t as qa,v as ac,w as oc,x as lc,y as Hi,z as Ya,E as cc,F as uc,G as Xa,H as re,J as dc,K as hc,L as fc,N as Ga,O as le,P as Nr,Q as Ye,R as nt,U as Et,V as Wi,W as ve,X as Vn,Y as Xe,Z as zn,_ as qi,$ as xs,a0 as ws,a1 as Ka,a2 as Ce,a3 as mc,a4 as pc,a5 as dn,a6 as gc,a7 as vc,a8 as yc,a9 as bc,aa as xc,ab as wc,ac as Sc,ad as se,ae as Ys,af as Cc,ag as Qa,ah as Za,ai as Xs,aj as Ec,ak as Tc,al as jc,am as _c,an as Mc,ao as kc,ap as Mr,aq as Ic,ar as Ac,as as Oc,at as Pc,au as Yi,av as Ja,aw as Rc,ax as Fc,ay as Nc,az as Xi,aA as Dc,aB as eo,aC as $c,aD as Lc,aE as Vc,aF as zc,aG as Uc}from"./vendor-eJ1pqD29.js";var qm=Kl((Gm,nr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const to=(e,t)=>{const r=W((()=>{const s=localStorage.getItem(e);return s!==null?JSON.parse(s):t})());return W(s=>s(r),(s,i,o)=>{const c=typeof o=="function"?o(s(r)):o;i(r,c),localStorage.setItem(e,JSON.stringify(c))})},no=(e,t)=>{const n=W({refresh:null,value:null});return W(r=>{const{refresh:s,value:i}=r(n),o=r(e);return i!==null&&s===o?i:t(r)},(r,s,i)=>{let o;const{refresh:c,value:l}=r(n),u=r(e);typeof i=="function"?o=i(l!==null&&c===u?l:t(r)):o=i,s(n,{refresh:u,value:o})})},Gs={articleWidth:90,fontSize:1.05,homePage:"all",layout:"large",markReadOnScroll:!1,orderBy:"created_at",orderDirection:"desc",pageSize:100,showAllFeeds:!1,showDetailedRelativeTime:!1,showFeedIcon:!0,showStatus:"all",theme:"light",themeColor:"Blue"},dt=e=>(JSON.parse(localStorage.getItem("config"))??{})[e]??Gs[e],xe=to("config",Gs),Ss={Red:{light:"#F53F3F",dark:"#F76965"},Orange:{light:"#F77234",dark:"#F9925A"},Green:{light:"#00B42A",dark:"#27C346"},Blue:{light:"#165DFF",dark:"#3C7EFF"},Purple:{light:"#722ED1",dark:"#8E51DA"},Gold:{light:"#F7BA1E",dark:"#F9CC44"},Cyan:{light:"#14C9C9",dark:"#3FD4CF"},Magenta:{light:"#F5319D",dark:"#F756A9"}},Cs=e=>{const t=Ss[e]||Ss.Blue,n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=dt("theme");return(r==="system"?n:r==="dark")?t.dark:t.light},ro=e=>{Ql(Cs(e),{list:!0}).map(Zl).forEach((n,r)=>{document.body.style.setProperty(`--primary-${r+1}`,n)})},Ks=to("auth",{server:"",token:"",username:"",password:""}),Bc=W(window.innerWidth<=992),Hc=W(window.innerWidth>992),Qs=()=>{const[e,t]=ke(Bc),[n]=ke(Hc);return{collapsed:e,toggleCollapsed:()=>t(s=>!s),isLg:n}},Dr=()=>{const e=Y(xe);return{updateConfig:n=>{e(r=>({...r,...n}))}}},Wc=W(!1),qc=W(!1),Zs=()=>{const[e,t]=ke(Wc),[n,r]=ke(qc);return{addFeedModalVisible:e,setAddFeedModalVisible:t,settingsModalVisible:n,setSettingsModalVisible:r}},so=e=>{const t=new URL(e);return`${t.protocol}//${t.hostname}`},Js=W(!1),$r=W({}),ei=W(0),ti=W(0),ni=W(0),io=W(0),ao=W([]),Qn=no(io,e=>{const t=e($r);return e(ao).map(r=>({...r,unreadCount:t[r.id]??0}))}),oo=W(e=>e(Qn).sort((n,r)=>n.title.localeCompare(r.title,"en"))),lo=W(0),co=W([]),uo=no(lo,e=>{const t=e(Qn);return e(co).map(r=>{const s=t.filter(i=>i.category.id===r.id);return{...r,unreadCount:s.reduce((i,o)=>i+o.unreadCount,0),feedCount:s.length}})}),Zn=W(e=>e(uo).sort((n,r)=>n.title.localeCompare(r.title,"en"))),ho=W(e=>e(Zn).filter(n=>n.hide_globally).map(n=>n.id)),fo=W(e=>{const t=e(ho);return e(oo).filter(r=>r.hide_globally||t.includes(r.category.id)).map(r=>r.id)}),mo=W(e=>{const{showAllFeeds:t}=e(xe),n=e(fo);return e(oo).filter(s=>t||!n.includes(s.id))}),po=W(e=>e(mo).reduce((n,r)=>{Hs(r.site_url)||(r.site_url=so(r.feed_url));const{id:s}=r.category;return n[s]||(n[s]=[]),n[s].push(r),n},{})),Yc=W(e=>{const t=e($r),n=e(mo);return Object.entries(t).reduce((r,[s,i])=>n.some(o=>o.id===Number(s))?r+i:r,0)}),Lr=()=>{const[e,t]=C.useState(window.innerWidth),n=e<=768;return C.useEffect(()=>{const r=()=>t(window.innerWidth);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),{screenWidth:e,isMobileView:n}},go=({feed:e,className:t="feed-icon"})=>{const n=Hs(e.site_url)?e.site_url:so(e.feed_url),{hostname:r}=new URL(n),s=`https://icons.duckduckgo.com/ip3/${r}.ico`;return a.jsx("img",{className:t,src:s,alt:"Feed icon"})},Xc=(e,t,n)=>{C.useLayoutEffect(()=>{let r=null;return e>0&&(clearTimeout(r),r=setTimeout(()=>{n(),clearTimeout(r)},t*4)),()=>clearTimeout(r)},[e,t,n])},ri=({duration:e,color:t})=>{const[n,r]=C.useState([]);Xc(n.length,e,()=>{r([])});const s=i=>{const o=i.currentTarget.getBoundingClientRect(),c=o.width>o.height?o.width:o.height,l=i.pageX-o.x-c/2,u=i.pageY-o.y-c/2,d={x:l,y:u,size:c,id:`${new Date().getTime()}-${l}-${u}`};r([...n,d])};return a.jsx("div",{className:"ripple-container",onMouseDown:s,children:n.length>0&&n.map(i=>a.jsx("span",{className:"ripple-span",style:{top:i.y,left:i.x,width:i.size,height:i.size,backgroundColor:t,animationDuration:`${e}ms`}},i.id))})},vo=Kt.Item,Gc=C.memo(({category:e,path:t})=>{var i;const n=tn(),s=(i=K(po)[e.id])==null?void 0:i.reduce((o,c)=>o+c.unreadCount,0);return a.jsxs("div",{className:t===`/category/${e.id}`?"category-title active-subMenu":"category-title inactive-subMenu",onClick:()=>n(`/category/${e.id}`),style:{cursor:"pointer"},children:[a.jsx(H.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:s?"80%":"100%",fontWeight:500},children:e.title}),s>0&&a.jsx(H.Ellipsis,{className:"unread-count",expandable:!1,style:{fontWeight:500},children:s})]})}),Kc=({atom:e})=>{const t=K(e);return a.jsx(H.Ellipsis,{className:"item-count",expandable:!1,children:t||""})},ur=({path:e,Icon:t,label:n,countAtom:r})=>{const s=Ha(),i=tn(),o=s.pathname===e;return a.jsxs(vo,{onClick:()=>i(e),className:qs("arco-menu-item",{"arco-menu-selected":o}),children:[a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(t,{}),n]}),a.jsx(Kc,{atom:r})]}),a.jsx(ri,{color:"var(--color-text-4)",duration:1e3})]},e)},yo=()=>{const e=Ha(),t=tn(),n=K(Zn),r=K(Js),s=K(po),i=K(ho),o=K(xe),{homePage:c,showAllFeeds:l,showFeedIcon:u}=o,{collapsed:d,toggleCollapsed:h}=Qs(),{screenWidth:g}=Lr(),[w,b]=C.useState([`/${c}`]),[f,p]=C.useState([]),x=e.pathname,j=(E,T)=>{p(T)};return C.useEffect(()=>{b([x])},[x]),C.useEffect(()=>{g<=992&&!d&&h()},[w]),a.jsxs(Kt,{autoScrollIntoView:!0,hasCollapseButton:!1,onClickSubMenu:j,selectedKeys:w,style:{width:"240px",height:"100%"},children:[a.jsxs("div",{className:"menu-header",children:[a.jsx(Wa,{className:"avatar",size:32,children:a.jsx(Jl,{style:{color:"var(--color-bg-1)"}})}),a.jsx(H.Title,{heading:6,style:{margin:"0"},children:"ReactFlux"})]}),a.jsx(H.Title,{className:"section-title",heading:6,style:{paddingLeft:"12px"},children:"Articles"}),a.jsx(jr,{loading:!r,animation:!0,text:{rows:3}}),r&&a.jsxs("div",{children:[a.jsx(ur,{path:"/all",Icon:ec,label:"All",countAtom:Yc}),a.jsx(ur,{path:"/today",Icon:tc,label:"Today",countAtom:ei}),a.jsx(ur,{path:"/starred",Icon:Ws,label:"Starred",countAtom:ti}),a.jsx(ur,{path:"/history",Icon:nc,label:"History",countAtom:ni})]}),a.jsx(H.Title,{className:"section-title",heading:6,style:{paddingLeft:"12px"},children:"Feeds"}),a.jsx(jr,{loading:!r,animation:!0,text:{rows:6}}),r?a.jsx(Bi,{triggerRegion:"icon",bordered:!1,children:n.filter(E=>l||!i.includes(E.id)).map(E=>{var T;return a.jsx(Bi.Item,{name:`/category/${E.id}`,style:{position:"relative",overflow:"hidden"},header:a.jsx(Gc,{category:E,isOpen:f.includes(`/category/${E.id}`),path:x}),expandIcon:a.jsx(rc,{}),children:(T=s[E.id])==null?void 0:T.map(k=>a.jsxs(vo,{style:{position:"relative",overflow:"hidden"},onClick:A=>{A.stopPropagation(),t(`/feed/${k.id}`)},children:[a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs(H.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:k.unreadCount!==0?"80%":"100%",paddingLeft:"20px",boxSizing:"border-box"},children:[u&&a.jsx(go,{feed:k,className:"feed-icon-sidebar"}),k.title]}),k.unreadCount!==0&&a.jsx(H.Ellipsis,{className:"item-count",expandable:!1,children:k.unreadCount})]}),a.jsx(ri,{color:"var(--color-text-4)",duration:1e3})]},`/feed/${k.id}`))},E.id)})}):null]})},Qc=()=>{const e=tn(),{setAddFeedModalVisible:t,setSettingsModalVisible:n}=Zs(),{collapsed:r,isLg:s}=Qs(),[i,o]=ke(xe),c=Y(Ks),{showAllFeeds:l,theme:u}=i,{updateConfig:d}=Dr(),h=()=>{d({showAllFeeds:!l})},g=()=>{d({theme:u==="light"?"dark":"light"})},w=()=>{c({}),o(Gs),document.body.removeAttribute("arco-theme"),ro("Blue"),e("/login"),re.success("Logout successful")},f=(j=>{switch(j){case"dark":return a.jsx(fc,{});case"system":return a.jsx(hc,{});default:return a.jsx(dc,{})}})(u),[p,x]=C.useState(!s);return C.useEffect(()=>{!r&&x(r)},[r]),a.jsxs("div",{className:"header",children:[a.jsx("div",{className:"brand",children:a.jsx(ye,{className:"trigger",onClick:()=>x(!p),shape:"circle",size:"small",children:a.jsx(sc,{})})}),a.jsx(ic,{className:"sidebar-drawer",visible:p,title:null,footer:null,closable:!1,onCancel:()=>x(!1),placement:"left",width:240,children:a.jsx(yo,{})}),a.jsx("div",{className:"button-group",children:a.jsxs(_r,{size:16,children:[a.jsx(Ln,{content:"Add a feed",mini:!0,children:a.jsx(ye,{shape:"circle",size:"small",type:"primary",icon:a.jsx(qa,{}),onClick:()=>t(!0)})}),a.jsx(Ln,{content:l?"Hide some feeds":"Show all feeds",mini:!0,children:a.jsx(ye,{shape:"circle",size:"small",icon:l?a.jsx(ac,{}):a.jsx(oc,{}),onClick:h})}),a.jsx(ye,{shape:"circle",size:"small",icon:a.jsx(lc,{}),onClick:()=>window.open("https://github.com/electh/ReactFlux","_blank")}),a.jsx(Hi,{droplist:a.jsx(Kt,{defaultSelectedKeys:[u],className:"theme-menu",children:["light","dark","system"].map(j=>a.jsxs(Kt.Item,{className:"theme-menu-item",onClick:()=>d({theme:j}),children:[j.charAt(0).toUpperCase()+j.slice(1),u===j&&a.jsx(Ya,{style:{marginLeft:8}})]},j))}),trigger:"hover",position:"bottom",children:a.jsx(ye,{icon:f,shape:"circle",size:"small",onClick:g})}),a.jsx(Hi,{droplist:a.jsxs(Kt,{children:[a.jsxs(Kt.Item,{onClick:()=>n(!0),children:[a.jsx(cc,{className:"icon-right"}),"Settings"]},"0"),a.jsxs(Kt.Item,{onClick:w,children:[a.jsx(uc,{className:"icon-right"}),"Logout"]},"1")]}),trigger:"click",position:"br",children:a.jsx(Wa,{size:28,style:{cursor:"pointer"},children:a.jsx(Xa,{})})})]})})]})},Zc=()=>JSON.parse(localStorage.getItem("auth"))??{},si=e=>{const{server:t,token:n,username:r,password:s}=e;return!t||!Hs(t,{require_protocol:!0})?!1:n||r&&s},he=Ga.create({timeout:3e3,retry:3,retryDelay:1e3});he.interceptors.request.use(e=>{const t=Zc(),{server:n,token:r,username:s,password:i}=t;return si(t)?(e.baseURL=n,r?e.headers["X-Auth-Token"]=r:e.auth={username:s,password:i},e):Promise.reject(new Error("Invalid auth"))},e=>Promise.reject(e));const Jc=async e=>{const{config:t}=e;return!(t!=null&&t.retry)||(t.__retryCount=t.__retryCount??0,t.__retryCount>=t.retry)?Promise.reject(e):(t.__retryCount+=1,await new Promise(r=>{setTimeout(()=>{r()},t.retryDelay??1e3)}),he(t))},eu=async e=>{var n,r,s;const t=((r=(n=e.response)==null?void 0:n.data)==null?void 0:r.error_message)??e.message;return console.log(t),((s=e.response)==null?void 0:s.status)===401&&(localStorage.removeItem("auth"),await Xl.navigate("/login")),Promise.reject(e)};he.interceptors.response.use(e=>e,async e=>{try{return await Jc(e)}catch(t){return eu(t)}});const tu=async()=>he.get("/v1/categories"),nu=async e=>he.post("/v1/categories",{title:e}),ru=async e=>he.delete(`/v1/categories/${e}`),su=async(e,t,n=!1)=>{const r={title:t,hide_globally:n?"on":void 0};return he.put(`/v1/categories/${e}`,r)},iu=async e=>he.put(`/v1/categories/${e}/mark-all-as-read`);var bo={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(le,function(){var n,r,s=1e3,i=6e4,o=36e5,c=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,d=2628e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,g={years:u,months:d,days:c,hours:o,minutes:i,seconds:s,milliseconds:1,weeks:6048e5},w=function(A){return A instanceof T},b=function(A,v,S){return new T(A,S,v.$l)},f=function(A){return r.p(A)+"s"},p=function(A){return A<0},x=function(A){return p(A)?Math.ceil(A):Math.floor(A)},j=function(A){return Math.abs(A)},E=function(A,v){return A?p(A)?{negative:!0,format:""+j(A)+v}:{negative:!1,format:""+A+v}:{negative:!1,format:""}},T=function(){function A(S,M,O){var P=this;if(this.$d={},this.$l=O,S===void 0&&(this.$ms=0,this.parseFromMilliseconds()),M)return b(S*g[f(M)],this);if(typeof S=="number")return this.$ms=S,this.parseFromMilliseconds(),this;if(typeof S=="object")return Object.keys(S).forEach(function(ae){P.$d[f(ae)]=S[ae]}),this.calMilliseconds(),this;if(typeof S=="string"){var q=S.match(h);if(q){var oe=q.slice(2).map(function(ae){return ae!=null?Number(ae):0});return this.$d.years=oe[0],this.$d.months=oe[1],this.$d.weeks=oe[2],this.$d.days=oe[3],this.$d.hours=oe[4],this.$d.minutes=oe[5],this.$d.seconds=oe[6],this.calMilliseconds(),this}}return this}var v=A.prototype;return v.calMilliseconds=function(){var S=this;this.$ms=Object.keys(this.$d).reduce(function(M,O){return M+(S.$d[O]||0)*g[O]},0)},v.parseFromMilliseconds=function(){var S=this.$ms;this.$d.years=x(S/u),S%=u,this.$d.months=x(S/d),S%=d,this.$d.days=x(S/c),S%=c,this.$d.hours=x(S/o),S%=o,this.$d.minutes=x(S/i),S%=i,this.$d.seconds=x(S/s),S%=s,this.$d.milliseconds=S},v.toISOString=function(){var S=E(this.$d.years,"Y"),M=E(this.$d.months,"M"),O=+this.$d.days||0;this.$d.weeks&&(O+=7*this.$d.weeks);var P=E(O,"D"),q=E(this.$d.hours,"H"),oe=E(this.$d.minutes,"M"),ae=this.$d.seconds||0;this.$d.milliseconds&&(ae+=this.$d.milliseconds/1e3,ae=Math.round(1e3*ae)/1e3);var ue=E(ae,"S"),fe=S.negative||M.negative||P.negative||q.negative||oe.negative||ue.negative,De=q.format||oe.format||ue.format?"T":"",we=(fe?"-":"")+"P"+S.format+M.format+P.format+De+q.format+oe.format+ue.format;return we==="P"||we==="-P"?"P0D":we},v.toJSON=function(){return this.toISOString()},v.format=function(S){var M=S||"YYYY-MM-DDTHH:mm:ss",O={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return M.replace(l,function(P,q){return q||String(O[P])})},v.as=function(S){return this.$ms/g[f(S)]},v.get=function(S){var M=this.$ms,O=f(S);return O==="milliseconds"?M%=1e3:M=O==="weeks"?x(M/g[O]):this.$d[O],M||0},v.add=function(S,M,O){var P;return P=M?S*g[f(M)]:w(S)?S.$ms:b(S,this).$ms,b(this.$ms+P*(O?-1:1),this)},v.subtract=function(S,M){return this.add(S,M,!0)},v.locale=function(S){var M=this.clone();return M.$l=S,M},v.clone=function(){return b(this.$ms,this)},v.humanize=function(S){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!S)},v.valueOf=function(){return this.asMilliseconds()},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},A}(),k=function(A,v,S){return A.add(v.years()*S,"y").add(v.months()*S,"M").add(v.days()*S,"d").add(v.hours()*S,"h").add(v.minutes()*S,"m").add(v.seconds()*S,"s").add(v.milliseconds()*S,"ms")};return function(A,v,S){n=S,r=S().$utils(),S.duration=function(P,q){var oe=S.locale();return b(P,{$l:oe},q)},S.isDuration=w;var M=v.prototype.add,O=v.prototype.subtract;v.prototype.add=function(P,q){return w(P)?k(this,P,1):M.bind(this)(P,q)},v.prototype.subtract=function(P,q){return w(P)?k(this,P,-1):O.bind(this)(P,q)}}})})(bo);var au=bo.exports;const ou=Nr(au);var xo={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(le,function(){return function(n,r,s){n=n||{};var i=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(u,d,h,g){return i.fromToBase(u,d,h,g)}s.en.relativeTime=o,i.fromToBase=function(u,d,h,g,w){for(var b,f,p,x=h.$locale().relativeTime||o,j=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=j.length,T=0;T<E;T+=1){var k=j[T];k.d&&(b=g?s(u).diff(h,k.d,!0):h.diff(u,k.d,!0));var A=(n.rounding||Math.round)(Math.abs(b));if(p=b>0,A<=k.r||!k.r){A<=1&&T>0&&(k=j[T-1]);var v=x[k.l];w&&(A=w(""+A)),f=typeof v=="string"?v.replace("%d",A):v(A,d,k.l,p);break}}if(d)return f;var S=p?x.future:x.past;return typeof S=="function"?S(f):S.replace("%s",f)},i.to=function(u,d){return c(u,d,this,!0)},i.from=function(u,d){return c(u,d,this)};var l=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(l(this),u)},i.fromNow=function(u){return this.from(l(this),u)}}})})(xo);var lu=xo.exports;const cu=Nr(lu);var wo={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(le,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(i,o,c){var l=o.prototype;c.utc=function(f){var p={date:f,utc:!0,args:arguments};return new o(p)},l.utc=function(f){var p=c(this.toDate(),{locale:this.$L,utc:!0});return f?p.add(this.utcOffset(),n):p},l.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(f){f.utc&&(this.$u=!0),this.$utils().u(f.$offset)||(this.$offset=f.$offset),u.call(this,f)};var d=l.init;l.init=function(){if(this.$u){var f=this.$d;this.$y=f.getUTCFullYear(),this.$M=f.getUTCMonth(),this.$D=f.getUTCDate(),this.$W=f.getUTCDay(),this.$H=f.getUTCHours(),this.$m=f.getUTCMinutes(),this.$s=f.getUTCSeconds(),this.$ms=f.getUTCMilliseconds()}else d.call(this)};var h=l.utcOffset;l.utcOffset=function(f,p){var x=this.$utils().u;if(x(f))return this.$u?0:x(this.$offset)?h.call(this):this.$offset;if(typeof f=="string"&&(f=function(k){k===void 0&&(k="");var A=k.match(r);if(!A)return null;var v=(""+A[0]).match(s)||["-",0,0],S=v[0],M=60*+v[1]+ +v[2];return M===0?0:S==="+"?M:-M}(f),f===null))return this;var j=Math.abs(f)<=16?60*f:f,E=this;if(p)return E.$offset=j,E.$u=f===0,E;if(f!==0){var T=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(E=this.local().add(j+T,n)).$offset=j,E.$x.$localOffset=T}else E=this.utc();return E};var g=l.format;l.format=function(f){var p=f||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,p)},l.valueOf=function(){var f=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*f},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var w=l.toDate;l.toDate=function(f){return f==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var b=l.diff;l.diff=function(f,p,x){if(f&&this.$u===f.$u)return b.call(this,f,p,x);var j=this.local(),E=c(f).local();return b.call(j,E,p,x)}}})})(wo);var uu=wo.exports;const du=Nr(uu);Ye.extend(ou);Ye.extend(cu);Ye.extend(du);const hu=e=>Ye(e).isAfter(Ye().subtract(24,"hour")),fu=()=>Ye().subtract(24,"hour").unix(),So=e=>{if(!dt("showDetailedRelativeTime")){const w=Ye(e).fromNow();return w==="a few seconds ago"?"just now":w}const n=Ye(),s=Ye(e).diff(n),i=Ye.duration(Math.abs(s)),o=i.years(),c=i.months(),l=i.days(),u=i.hours(),d=i.minutes(),h=[];if(o>0&&h.push(`${o} year${o>1?"s":""}`),c>0&&h.push(`${c} month${c>1?"s":""}`),l>0&&h.push(`${l} day${l>1?"s":""}`),u>0&&h.push(`${u} hour${u>1?"s":""}`),d>0&&h.push(`${d} minute${d>1?"s":""}`),h.length===0)return"just now";const g=h.join(" ");return s>0?`in ${g}`:`${g} ago`},Gi=()=>Ye().utc().format("YYYY-MM-DDTHH:mm:ss.SSSSSSZ"),ii=async(e,t)=>he.put("/v1/entries",{entry_ids:e,status:t}),mu=async e=>he.put(`/v1/entries/${e}/bookmark`),pu=async e=>he.get(`/v1/entries/${e}/fetch-content`),bn=(e,t={})=>{const{baseUrl:n,orderField:r,offset:s,limit:i,status:o}=e,c=dt("orderDirection"),l=new URLSearchParams({order:r,direction:c,offset:s,limit:i,...t});return o&&l.append("status",o),`${n}?${l}`},gu=async(e=0,t=null)=>{const n=dt("orderBy"),r=dt("pageSize"),s={baseUrl:"/v1/entries",orderField:n,offset:e,limit:r,status:t};return he.get(bn(s))},Sr=async(e=0,t=null,n=null)=>{const r=dt("orderBy"),s=n??dt("pageSize"),i=fu(),o={baseUrl:"/v1/entries",orderField:r,offset:e,limit:s,status:t},c={published_after:i};return he.get(bn(o,c))},Co=async(e=0,t=null)=>{const n=dt("pageSize"),r={baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:n,status:t},s={starred:"true"};return he.get(bn(r,s))},Eo=async(e=0)=>{const t=dt("pageSize"),n={baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:t,status:"read"};return he.get(bn(n))},vu=async()=>he.get("/v1/feeds"),yu=async()=>he.get("/v1/feeds/counters"),bu=async e=>he.put(`/v1/feeds/${e}/refresh`),xu=async()=>he.put("/v1/feeds/refresh"),wu=async(e,t,n)=>he.post("/v1/feeds",{feed_url:e,category_id:t,crawler:n}),Su=async e=>he.delete(`/v1/feeds/${e}`),Ki=async(e,t)=>{const{url:n,title:r,categoryId:s,hidden:i,disabled:o,isFullText:c}=t;return he.put(`/v1/feeds/${e}`,{feed_url:n,title:r,category_id:s,hide_globally:i,disabled:o,crawler:c})},Cu=async e=>he.put(`/v1/feeds/${e}/mark-all-as-read`),Eu=async()=>he.get("/v1/me"),Tu=async()=>{const e=await Eu();return he.put(`/v1/users/${e.data.id}/mark-all-as-read`)},ju=W(async()=>{const e=await Promise.all([yu(),Sr(0,"unread"),Co(),Eo(),vu(),tu()]),[t,n,r,s,i,o]=e.map(c=>c.data);return{unreadInfo:t.unreads??{},unreadTodayCount:n.total??0,starredCount:r.total??0,historyCount:s.total??0,feedsData:i,categoriesData:o}}),ai=()=>{const e=Y(Js),t=K(ju),n=Y($r),r=Y(ei),s=Y(ti),i=Y(ni),o=Y(ao),c=Y(io),l=Y(co),u=Y(lo);return{fetchData:()=>{e(!1);const{unreadInfo:h,unreadTodayCount:g,starredCount:w,historyCount:b,feedsData:f,categoriesData:p}=t;n(h),r(g),s(w),i(b),o(f),c(x=>x+1),l(p),u(x=>x+1),e(!0)}}},kr=(e,t)=>e.toLowerCase().includes(t.toLowerCase()),_u=(e,t,n)=>{if(!n)return e;const r=s=>kr(s[t],n);return e.filter(r)},Mu=(e,t,n,r)=>{const s=o=>n||!r.includes(o.feed.id);return["all","today","category"].includes(t)?e.filter(s):e},ku=()=>{const{updateConfig:e}=Dr(),{articleWidth:t,fontSize:n,layout:r,showDetailedRelativeTime:s,showFeedIcon:i,themeColor:o}=K(xe),c=l=>{e(l),l.themeColor&&ro(l.themeColor)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Accent color"}),a.jsx(H.Text,{type:"secondary",children:"Choose your accent color"})]}),a.jsx("div",{style:{display:"flex"},children:Object.keys(Ss).map(l=>a.jsx(Ln,{content:l,children:a.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",margin:"2px",backgroundColor:Cs(l),cursor:"pointer",border:"3px solid var(--color-bg-3)",outline:l===o?`1px solid ${Cs(l)}`:"none"},onClick:()=>c({themeColor:l}),onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&c({themeColor:l})},"aria-label":`Change theme color to ${l}`})},l))})]}),a.jsx(nt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Compact article list"}),a.jsx(H.Text,{type:"secondary",children:"Use small thumbnail in article list"})]}),a.jsx("div",{children:a.jsx(Et,{checked:r==="small",onChange:l=>c({layout:l?"small":"large"})})})]}),a.jsx(nt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Show detailed relative time"}),a.jsx(H.Text,{type:"secondary",children:"Show detailed relative time in article list"})]}),a.jsx("div",{children:a.jsx(Et,{checked:s,onChange:l=>c({showDetailedRelativeTime:l})})})]}),a.jsx(nt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Show feed icon"}),a.jsx(H.Text,{type:"secondary",children:"Show feed icon in feed list and article list"})]}),a.jsx("div",{children:a.jsx(Et,{checked:i,onChange:l=>c({showFeedIcon:l})})})]}),a.jsx(nt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Font size"}),a.jsx(H.Text,{type:"secondary",children:"Adjust article text size"})]}),a.jsx("div",{children:a.jsxs(_r,{children:[a.jsx(H.Text,{style:{fontSize:"0.75rem"},children:"A"}),a.jsx(Wi,{formatTooltip:l=>`${l}rem`,max:1.25,min:.75,showTicks:!0,step:.05,style:{width:200},value:n,onChange:l=>c({fontSize:l})}),a.jsx(H.Text,{style:{fontSize:"1.25rem"},children:"A"})]})})]}),a.jsx(nt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Article width"}),a.jsx(H.Text,{type:"secondary",children:"Adjust article width"})]}),a.jsx("div",{children:a.jsxs(_r,{children:[a.jsx(H.Text,{children:"60%"}),a.jsx(Wi,{formatTooltip:l=>`${l}%`,max:90,min:60,showTicks:!0,step:10,style:{width:160},value:t,onChange:l=>c({articleWidth:l})}),a.jsx(H.Text,{children:"90%"})]})})]})]})},Iu=()=>{const[e]=ve.useForm(),[t,n]=C.useState(!1),[r,s]=C.useState(""),[i,o]=C.useState({}),[c,l]=C.useState(!1),u=K(Zn),d=Y(uo),h=Y(Qn),g=async()=>{if(r.trim()){try{const{data:f}=await nu(r);d(p=>[...p,{...f,feedCount:0}]),re.success("Category added successfully")}catch{re.error("Failed to add category")}s(""),l(!1)}},w=async(f,p,x)=>{try{const{data:j}=await su(f,p,x);h(E=>E.map(T=>T.category.id===f?{...T,category:{...T.category,title:p}}:T)),d(E=>E.map(T=>T.id===f?{...T,...j}:T)),re.success("Category updated successfully")}catch{re.error("Failed to update category")}n(!1),e.resetFields()},b=async f=>{try{(await ru(f)).status===204?(d(x=>x.filter(j=>j.id!==f)),re.success("Category deleted successfully")):re.error("Failed to delete category")}catch{re.error("Failed to delete category")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[u.map(f=>a.jsx(Vn,{className:"tag-style",closable:f.feedCount===0,size:"medium",onClick:()=>{o(f),n(!0),e.setFieldsValue({title:f.title})},onClose:async p=>{p.stopPropagation(),await b(f.id)},children:f.title},f.id)),c?a.jsx(Xe,{autoFocus:!0,className:"input-style",onBlur:g,onChange:s,onPressEnter:g,size:"small",value:r}):a.jsx(Vn,{className:"add-category-tag",icon:a.jsx(qa,{}),onClick:()=>l(!0),size:"medium",tabIndex:0,children:"Add"})]}),i&&a.jsx(zn,{className:"modal-style",onOk:e.submit,title:"Edit Category",unmountOnExit:!0,visible:t,onCancel:()=>{n(!1),e.resetFields()},children:a.jsxs(ve,{form:e,layout:"vertical",onSubmit:f=>w(i.id,f.title,f.hidden),labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}},children:[a.jsx(ve.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(Xe,{placeholder:"Please input category title"})}),a.jsx(ve.Item,{label:"Hidden",field:"hidden",initialValue:i.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Et,{})})]})})]})},{Paragraph:Au}=H,To=W(""),jo=W(e=>{const t=e(Qn),n=e(To);return[...t].sort((r,s)=>r.disabled&&!s.disabled?1:!r.disabled&&s.disabled?-1:0).sort((r,s)=>s.parsing_error_count-r.parsing_error_count).filter(r=>kr(r.title,n)||kr(r.feed_url,n))}),Ou=W(e=>e(jo).map(n=>({category:n.category,checked_at:n.checked_at,crawler:n.crawler,disabled:n.disabled,feed_url:n.feed_url,key:n.id,parsing_error_count:n.parsing_error_count,title:n.title,hidden:n.hide_globally}))),Pu=()=>{const[e,t]=C.useState(!1),[n]=ve.useForm(),[r,s]=C.useState(!1),[i,o]=C.useState(""),[c,l]=C.useState({}),u=K(Zn),d=K(jo),h=Y(Qn),g=Y(To),w=K(Ou),{isMobileView:b}=Lr();C.useEffect(()=>{g("")},[g]);const f=v=>{l(v),s(!0),n.setFieldsValue({category:v.category.id,crawler:v.crawler,title:v.title,url:v.feed_url,hidden:v.hidden,disabled:v.disabled})},p=async(v,S)=>{try{const O=(await v()).status===204,P=O?"Refreshed":"Failed to refresh";O?re.success(P):re.error(P),h(q=>q.map(oe=>S(oe,O)))}catch{re.error("Failed to refresh"),h(O=>O.map(P=>S(P,!1)))}},x=async v=>{await p(()=>bu(v.key),(M,O)=>M.id===v.key?{...M,parsing_error_count:O?0:M.parsing_error_count+1,checked_at:Gi()}:M)},j=async()=>{try{for(const v of d){const S=new URL(v.feed_url).hostname,M=v.feed_url.replace(S,i),O=await Ki(v.id,{url:M});h(P=>P.map(q=>q.id===v.id?{...q,...O.data}:q))}re.success("Successfully bulk updated"),t(!1)}catch{re.error("Failed to bulk update, please try again")}},E=async()=>{await p(xu,(S,M)=>({...S,parsing_error_count:M?0:S.parsing_error_count+1,checked_at:Gi()}))},T=async v=>{try{await Su(v.key),re.success("Unfollowed"),h(S=>S.filter(M=>M.id!==v.key))}catch{re.error("Failed to unfollow")}},k=[{title:"Title",dataIndex:"title",sorter:(v,S)=>v.title.localeCompare(S.title,"en"),render:(v,S)=>{const M=S.parsing_error_count;let O=v;S.disabled?O=`ðŸš« ${v}`:M>0&&(O=`âš ï¸ ${v}`);const P=a.jsxs("div",{children:[v,M>0&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),"âš ï¸ Parsing error count: ",M]})]});return a.jsx(H.Ellipsis,{expandable:!1,children:a.jsx(Ln,{mini:!0,content:P,children:O})})}},!b&&{title:"Url",dataIndex:"feed_url",sorter:(v,S)=>v.feed_url.localeCompare(S.feed_url,"en"),render:v=>a.jsx(H.Ellipsis,{expandable:!1,showTooltip:!0,children:v})},{title:"Category",dataIndex:"category.title",sorter:(v,S)=>v.category.title.localeCompare(S.category.title,"en"),render:v=>a.jsx(H.Ellipsis,{expandable:!1,showTooltip:!0,children:a.jsx(Vn,{children:v})})},!b&&{title:"Checked at",dataIndex:"checked_at",sorter:(v,S)=>v.checked_at.localeCompare(S.checked_at,"en"),render:v=>a.jsx(H.Ellipsis,{expandable:!1,children:So(v)})},{title:"Actions",dataIndex:"op",fixed:"right",width:100,render:(v,S)=>a.jsxs(_r,{children:[a.jsx("button",{"aria-label":"Edit this feed",className:"list-item-action",onClick:()=>f(S),type:"button",children:a.jsx(qi,{})}),a.jsx("button",{"aria-label":"Refresh this feed",className:"list-item-action",onClick:()=>x(S),type:"button",children:a.jsx(ws,{})}),a.jsx(xs,{focusLock:!0,position:"left",title:"Unfollowï¼Ÿ",onOk:()=>T(S),children:a.jsx("span",{className:"list-item-action",children:a.jsx(mc,{})})})]})}].filter(Boolean),A=async(v,S)=>{try{const M=await Ki(v,S);h(O=>O.map(P=>P.id===v?{...P,...M.data}:P)),re.success("Feed updated successfully"),s(!1),n.resetFields()}catch{re.error("Failed to update feed")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[a.jsx("div",{style:{display:"flex",flex:1,justifyContent:"center"},children:a.jsx(Xe.Search,{className:"search-input",placeholder:"Search feed title or url",searchButton:!0,onChange:g})}),a.jsxs("div",{style:{display:"flex",paddingRight:16,paddingBottom:16},children:[a.jsx(ye,{icon:a.jsx(qi,{}),onClick:()=>t(!0),shape:"circle"}),a.jsxs(zn,{onOk:j,title:"Bulk Update Hosts",visible:e,onCancel:()=>{t(!1),o("")},children:[a.jsxs(Au,{children:["This will bulk update filtered feeds' hosts.",a.jsx("br",{}),"Only recommended for RssHub."]}),a.jsx(Xe,{placeholder:"rsshub.app",value:i,onChange:v=>o(v)})]})]}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end",paddingBottom:16},children:a.jsx(xs,{focusLock:!0,title:"Refresh all feeds?",onOk:E,children:a.jsx(ye,{icon:a.jsx(ws,{}),shape:"circle"})})})]}),a.jsx(Ka,{borderCell:!0,className:"feed-table",columns:k,data:w,pagePosition:"bottomCenter",scroll:{x:!0},size:"small"}),c&&a.jsx(zn,{className:"edit-modal",onOk:n.submit,title:"Edit Feed",unmountOnExit:!0,visible:r,onCancel:()=>{s(!1),n.resetFields()},children:a.jsxs(ve,{form:n,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async v=>{const S=v.url.trim(),M={url:S,title:v.title,categoryId:v.category,hidden:v.hidden,disabled:v.disabled,isFullText:v.crawler};S?await A(c.key,M):re.error("Feed URL cannot be empty")},children:[a.jsx(ve.Item,{label:"Feed URL",field:"url",rules:[{required:!0}],children:a.jsx(Xe,{placeholder:"Please input feed URL"})}),a.jsx(ve.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(Xe,{placeholder:"Please input feed title"})}),a.jsx(ve.Item,{label:"Category",required:!0,field:"category",rules:[{required:!0}],children:a.jsx(Ce,{placeholder:"Please select",children:u.map(v=>a.jsx(Ce.Option,{value:v.id,children:v.title},v.id))})}),a.jsx(ve.Item,{label:"Hidden",field:"hidden",initialValue:c.hidden,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Et,{})}),a.jsx(ve.Item,{label:"Disabled",field:"disabled",initialValue:c.disabled,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Et,{})}),a.jsx(ve.Item,{label:"Fetch original content",field:"crawler",tooltip:a.jsx("div",{children:"Only affects newly retrieved articles"}),triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Et,{})})]})})]})},Ru=()=>{const{updateConfig:e}=Dr(),{homePage:t,markReadOnScroll:n,orderBy:r,pageSize:s,showStatus:i}=K(xe);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Default show status"}),a.jsx(H.Text,{type:"secondary",children:"Which status to show by default:"})]}),a.jsx("div",{children:a.jsxs(Ce,{className:"input-select",placeholder:"Select status",value:i,onChange:o=>e({showStatus:o}),children:[a.jsx(Ce.Option,{value:"all",children:"All"}),a.jsx(Ce.Option,{value:"unread",children:"Unread"})]})})]}),a.jsx(nt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Default home page"}),a.jsx(H.Text,{type:"secondary",children:"Which page to show by default:"})]}),a.jsx("div",{children:a.jsxs(Ce,{className:"input-select",onChange:o=>e({homePage:o}),placeholder:"Select page",value:t,children:[a.jsx(Ce.Option,{value:"all",children:"All"}),a.jsx(Ce.Option,{value:"today",children:"Today"}),a.jsx(Ce.Option,{value:"starred",children:"Starred"}),a.jsx(Ce.Option,{value:"history",children:"History"})]})})]}),a.jsx(nt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Entries order"}),a.jsx(H.Text,{type:"secondary",children:"What order to show entries:"})]}),a.jsx("div",{children:a.jsxs(Ce,{className:"input-select",onChange:o=>e({orderBy:o}),placeholder:"Select order",value:r,children:[a.jsx(Ce.Option,{value:"published_at",children:"Published at"}),a.jsx(Ce.Option,{value:"created_at",children:"Created at"})]})})]}),a.jsx(nt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Entries per page"}),a.jsx(H.Text,{type:"secondary",children:"Show how many entries per page:"})]}),a.jsx("div",{children:a.jsx(pc,{className:"input-select",defaultValue:s,min:1,mode:"button",onChange:o=>e({pageSize:o}),size:"small"})})]}),a.jsx(nt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(H.Title,{heading:6,style:{marginTop:0},children:"Mark articles as read when scrolled off screen"}),a.jsx(H.Text,{type:"secondary",children:"Automatically mark articles as read when they are scrolled out of the visible screen area"})]}),a.jsx("div",{children:a.jsx(Et,{checked:n,onChange:o=>e({markReadOnScroll:o})})})]})]})},Fu=[{title:"Key",dataIndex:"keyName",render:e=>a.jsx(Vn,{children:e})},{title:"Function",dataIndex:"description"}],Nu=[{key:"1",keyName:"Esc",description:"Dismiss article"},{key:"2",keyName:"â†",description:"Previous article"},{key:"3",keyName:"â†’",description:"Next article"},{key:"4",keyName:"B",description:"Open link externally"},{key:"5",keyName:"D",description:"Fetch original article"},{key:"6",keyName:"M",description:"Mark as read / unread"},{key:"7",keyName:"S",description:"Star / Unstar"}],Du=()=>a.jsx(Ka,{borderCell:!0,columns:Fu,data:Nu,pagination:!1,size:"small",style:{margin:"0 auto",width:"80%"}}),$u=()=>a.jsxs(dn,{className:"custom-tabs",defaultActiveTab:"1",tabPosition:"top",children:[a.jsx(dn.TabPane,{title:a.jsxs("span",{children:[a.jsx(gc,{style:{marginRight:6}}),"Feeds"]}),children:a.jsx(Pu,{})},"1"),a.jsx(dn.TabPane,{title:a.jsxs("span",{children:[a.jsx(vc,{style:{marginRight:6}}),"Categories"]}),children:a.jsx(Iu,{})},"2"),a.jsx(dn.TabPane,{title:a.jsxs("span",{children:[a.jsx(yc,{style:{marginRight:6}}),"General"]}),children:a.jsx(Ru,{})},"3"),a.jsx(dn.TabPane,{title:a.jsxs("span",{children:[a.jsx(bc,{style:{marginRight:6}}),"Appearance"]}),children:a.jsx(ku,{})},"4"),a.jsx(dn.TabPane,{title:a.jsxs("span",{children:[a.jsx(xc,{style:{marginRight:6}}),"Hotkeys"]}),children:a.jsx(Du,{})},"5")]}),Lu=[{required:!0}],Vu=[{required:!0}],zu=[{type:"boolean"}],Uu=()=>{const{setSettingsModalVisible:e,settingsModalVisible:t}=Zs();return a.jsx(zn,{alignCenter:!1,autoFocus:!1,className:"settings-modal",focusLock:!0,footer:null,onCancel:()=>e(!1),title:"Settings",unmountOnExit:!0,visible:t,children:a.jsx($u,{})})},Bu=()=>{const e=K(Zn),{addFeedModalVisible:t,setAddFeedModalVisible:n}=Zs(),[r,s]=C.useState(!1),[i]=ve.useForm(),{fetchData:o}=ai(),c=async(l,u,d)=>{s(!0);try{await wu(l,u,d),o(),re.success("Added a feed successfully"),n(!1),i.resetFields()}catch{re.error("Failed to add a feed")}finally{s(!1)}};return a.jsx(zn,{title:"Add Feed",visible:t,unmountOnExit:!0,style:{width:"400px"},onOk:i.submit,confirmLoading:r,onCancel:()=>{n(!1),i.resetFields()},children:a.jsxs(ve,{form:i,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async l=>{const u=l.url.trim();u?await c(u,l.category,l.crawler):re.error("Feed URL cannot be empty")},children:[a.jsx(ve.Item,{label:"Feed URL",field:"url",rules:Lu,children:a.jsx(Xe,{placeholder:"Please input a feed URL"})}),a.jsx(ve.Item,{field:"category",label:"Category",required:!0,rules:Vu,children:a.jsx(Ce,{placeholder:"Please select a category",showSearch:!0,filterOption:(l,u)=>kr(u.props.children,l),children:e.map(l=>a.jsx(Ce.Option,{value:l.id,children:l.title},l.id))})}),a.jsx(ve.Item,{field:"crawler",initialValue:!1,label:"Fetch original content",rules:zu,style:{marginBottom:0},triggerPropName:"checked",children:a.jsx(Et,{})})]})})},Hu=()=>a.jsxs("div",{className:"main",children:[a.jsx(wc,{}),a.jsx(Uu,{}),a.jsx(Bu,{})]}),Wu=()=>{const{theme:e}=K(xe),[t,n]=C.useState(window.matchMedia("(prefers-color-scheme: dark)").matches),{collapsed:r,toggleCollapsed:s,isLg:i}=Qs();return C.useEffect(()=>{const o=l=>{n(l.matches)},c=window.matchMedia("(prefers-color-scheme: dark)");return c.addEventListener("change",o),()=>c.removeEventListener("change",o)},[]),C.useEffect(()=>{const o=c=>{const l=c?"dark":"light";document.body.setAttribute("arco-theme",l),document.body.style.colorScheme=l};o(e==="system"?t:e==="dark")},[t,e]),a.jsxs("div",{className:"app",children:[i?a.jsx(Sc.Sider,{breakpoint:"lg",className:"sidebar",collapsed:r,collapsedWidth:0,collapsible:!0,onCollapse:s,trigger:null,width:240,style:{borderRight:r?"none":"1px solid var(--color-border-2)",display:r?"none":"block"},children:a.jsx(yo,{})}):null,a.jsx(Qc,{}),a.jsx(Hu,{})]})};var _o={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const qu=Symbol((_o?"production":void 0)!=="production"?"RESET":"");function Mo(e){const t=Symbol(),n=W(t);(_o?"production":void 0)!=="production"&&(n.debugPrivate=!0);const r=W((s,i)=>{const o=s(n);return o!==t?o:e(s,i)},(s,i,o)=>{if(o===qu)i(n,t);else if(typeof o=="function"){const c=s(r);i(n,o(c))}else i(n,o)});return r}const ko=W(0),Vr=W(0),Io=W(0),oi=W(0),zr=W(!1),Ur=W(!1),Jn=W([]),er=W([]),li=Mo(e=>e(xe).homePage),tr=Mo(e=>{const t=e(li);return["starred","history"].includes(t)?"all":e(xe).showStatus}),Yu=W(e=>{const t=e(tr);return e(t==="all"?Jn:er)}),Br=W("0"),Hr=W(""),ci=W(e=>{const t=e(Yu),n=e(Br),r=e(Hr),s=_u(t,n,r),i=e(li),{showAllFeeds:o}=e(xe),c=e(fo);return Mu(s,i,o,c)}),Ao=W(!0),Oo=W(!1),Xu=W(null),xn=()=>{const[e,t]=ke(Xu);return{activeContent:e,setActiveContent:t}};var nr={};(function e(t,n,r,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=function(){if(!t.OffscreenCanvas)return!1;var y=new OffscreenCanvas(1,1),m=y.getContext("2d");m.fillRect(0,0,1,1);var R=y.transferToImageBitmap();try{m.createPattern(R,"no-repeat")}catch{return!1}return!0}();function l(){}function u(y){var m=n.exports.Promise,R=m!==void 0?m:t.Promise;return typeof R=="function"?new R(y):(y(l,l),null)}var d=function(y,m){return{transform:function(R){if(y)return R;if(m.has(R))return m.get(R);var D=new OffscreenCanvas(R.width,R.height),$=D.getContext("2d");return $.drawImage(R,0,0),m.set(R,D),D},clear:function(){m.clear()}}}(c,new Map),h=function(){var y=Math.floor(16.666666666666668),m,R,D={},$=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function(V){var z=Math.random();return D[z]=requestAnimationFrame(function L(U){$===U||$+y-1<U?($=U,delete D[z],V()):D[z]=requestAnimationFrame(L)}),z},R=function(V){D[V]&&cancelAnimationFrame(D[V])}):(m=function(V){return setTimeout(V,y)},R=function(V){return clearTimeout(V)}),{frame:m,cancel:R}}(),g=function(){var y,m,R={};function D($){function V(z,L){$.postMessage({options:z||{},callback:L})}$.init=function(L){var U=L.transferControlToOffscreen();$.postMessage({canvas:U},[U])},$.fire=function(L,U,F){if(m)return V(L,null),m;var N=Math.random().toString(36).slice(2);return m=u(function(Q){function ee(de){de.data.callback===N&&(delete R[N],$.removeEventListener("message",ee),m=null,d.clear(),F(),Q())}$.addEventListener("message",ee),V(L,N),R[N]=ee.bind(null,{data:{callback:N}})}),m},$.reset=function(){$.postMessage({reset:!0});for(var L in R)R[L](),delete R[L]}}return function(){if(y)return y;if(!r&&i){var $=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{y=new Worker(URL.createObjectURL(new Blob([$])))}catch(V){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",V),null}D(y)}return y}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(y,m){return m?m(y):y}function f(y){return y!=null}function p(y,m,R){return b(y&&f(y[m])?y[m]:w[m],R)}function x(y){return y<0?0:Math.floor(y)}function j(y,m){return Math.floor(Math.random()*(m-y))+y}function E(y){return parseInt(y,16)}function T(y){return y.map(k)}function k(y){var m=String(y).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:E(m.substring(0,2)),g:E(m.substring(2,4)),b:E(m.substring(4,6))}}function A(y){var m=p(y,"origin",Object);return m.x=p(m,"x",Number),m.y=p(m,"y",Number),m}function v(y){y.width=document.documentElement.clientWidth,y.height=document.documentElement.clientHeight}function S(y){var m=y.getBoundingClientRect();y.width=m.width,y.height=m.height}function M(y){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=y,m}function O(y,m,R,D,$,V,z,L,U){y.save(),y.translate(m,R),y.rotate(V),y.scale(D,$),y.arc(0,0,1,z,L,U),y.restore()}function P(y){var m=y.angle*(Math.PI/180),R=y.spread*(Math.PI/180);return{x:y.x,y:y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:y.startVelocity*.5+Math.random()*y.startVelocity,angle2D:-m+(.5*R-Math.random()*R),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:y.color,shape:y.shape,tick:0,totalTicks:y.ticks,decay:y.decay,drift:y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:y.gravity*3,ovalScalar:.6,scalar:y.scalar,flat:y.flat}}function q(y,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.velocity*=m.decay,m.flat?(m.wobble=0,m.wobbleX=m.x+10*m.scalar,m.wobbleY=m.y+10*m.scalar,m.tiltSin=0,m.tiltCos=0,m.random=1):(m.wobble+=m.wobbleSpeed,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble),m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2);var R=m.tick++/m.totalTicks,D=m.x+m.random*m.tiltCos,$=m.y+m.random*m.tiltSin,V=m.wobbleX+m.random*m.tiltCos,z=m.wobbleY+m.random*m.tiltSin;if(y.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-R)+")",y.beginPath(),o&&m.shape.type==="path"&&typeof m.shape.path=="string"&&Array.isArray(m.shape.matrix))y.fill(De(m.shape.path,m.shape.matrix,m.x,m.y,Math.abs(V-D)*.1,Math.abs(z-$)*.1,Math.PI/10*m.wobble));else if(m.shape.type==="bitmap"){var L=Math.PI/10*m.wobble,U=Math.abs(V-D)*.1,F=Math.abs(z-$)*.1,N=m.shape.bitmap.width*m.scalar,Q=m.shape.bitmap.height*m.scalar,ee=new DOMMatrix([Math.cos(L)*U,Math.sin(L)*U,-Math.sin(L)*F,Math.cos(L)*F,m.x,m.y]);ee.multiplySelf(new DOMMatrix(m.shape.matrix));var de=y.createPattern(d.transform(m.shape.bitmap),"no-repeat");de.setTransform(ee),y.globalAlpha=1-R,y.fillStyle=de,y.fillRect(m.x-N/2,m.y-Q/2,N,Q),y.globalAlpha=1}else if(m.shape==="circle")y.ellipse?y.ellipse(m.x,m.y,Math.abs(V-D)*m.ovalScalar,Math.abs(z-$)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):O(y,m.x,m.y,Math.abs(V-D)*m.ovalScalar,Math.abs(z-$)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var G=Math.PI/2*3,Z=4*m.scalar,_e=8*m.scalar,pe=m.x,Ee=m.y,Ve=5,ge=Math.PI/Ve;Ve--;)pe=m.x+Math.cos(G)*_e,Ee=m.y+Math.sin(G)*_e,y.lineTo(pe,Ee),G+=ge,pe=m.x+Math.cos(G)*Z,Ee=m.y+Math.sin(G)*Z,y.lineTo(pe,Ee),G+=ge;else y.moveTo(Math.floor(m.x),Math.floor(m.y)),y.lineTo(Math.floor(m.wobbleX),Math.floor($)),y.lineTo(Math.floor(V),Math.floor(z)),y.lineTo(Math.floor(D),Math.floor(m.wobbleY));return y.closePath(),y.fill(),m.tick<m.totalTicks}function oe(y,m,R,D,$){var V=m.slice(),z=y.getContext("2d"),L,U,F=u(function(N){function Q(){L=U=null,z.clearRect(0,0,D.width,D.height),d.clear(),$(),N()}function ee(){r&&!(D.width===s.width&&D.height===s.height)&&(D.width=y.width=s.width,D.height=y.height=s.height),!D.width&&!D.height&&(R(y),D.width=y.width,D.height=y.height),z.clearRect(0,0,D.width,D.height),V=V.filter(function(de){return q(z,de)}),V.length?L=h.frame(ee):Q()}L=h.frame(ee),U=Q});return{addFettis:function(N){return V=V.concat(N),F},canvas:y,promise:F,reset:function(){L&&h.cancel(L),U&&U()}}}function ae(y,m){var R=!y,D=!!p(m||{},"resize"),$=!1,V=p(m,"disableForReducedMotion",Boolean),z=i&&!!p(m||{},"useWorker"),L=z?g():null,U=R?v:S,F=y&&L?!!y.__confetti_initialized:!1,N=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Q;function ee(G,Z,_e){for(var pe=p(G,"particleCount",x),Ee=p(G,"angle",Number),Ve=p(G,"spread",Number),ge=p(G,"startVelocity",Number),ft=p(G,"decay",Number),Vt=p(G,"gravity",Number),Ge=p(G,"drift",Number),zt=p(G,"colors",T),Ut=p(G,"ticks",Number),Ke=p(G,"shapes"),ze=p(G,"scalar"),at=!!p(G,"flat"),jt=A(G),Bt=pe,_t=[],nn=y.width*jt.x,Ie=y.height*jt.y;Bt--;)_t.push(P({x:nn,y:Ie,angle:Ee,spread:Ve,startVelocity:ge,color:zt[Bt%zt.length],shape:Ke[j(0,Ke.length)],ticks:Ut,decay:ft,gravity:Vt,drift:Ge,scalar:ze,flat:at}));return Q?Q.addFettis(_t):(Q=oe(y,_t,U,Z,_e),Q.promise)}function de(G){var Z=V||p(G,"disableForReducedMotion",Boolean),_e=p(G,"zIndex",Number);if(Z&&N)return u(function(ge){ge()});R&&Q?y=Q.canvas:R&&!y&&(y=M(_e),document.body.appendChild(y)),D&&!F&&U(y);var pe={width:y.width,height:y.height};L&&!F&&L.init(y),F=!0,L&&(y.__confetti_initialized=!0);function Ee(){if(L){var ge={getBoundingClientRect:function(){if(!R)return y.getBoundingClientRect()}};U(ge),L.postMessage({resize:{width:ge.width,height:ge.height}});return}pe.width=pe.height=null}function Ve(){Q=null,D&&($=!1,t.removeEventListener("resize",Ee)),R&&y&&(document.body.removeChild(y),y=null,F=!1)}return D&&!$&&($=!0,t.addEventListener("resize",Ee,!1)),L?L.fire(G,pe,Ve):ee(G,pe,Ve)}return de.reset=function(){L&&L.reset(),Q&&Q.reset()},de}var ue;function fe(){return ue||(ue=ae(null,{useWorker:!0,resize:!0})),ue}function De(y,m,R,D,$,V,z){var L=new Path2D(y),U=new Path2D;U.addPath(L,new DOMMatrix(m));var F=new Path2D;return F.addPath(U,new DOMMatrix([Math.cos(z)*$,Math.sin(z)*$,-Math.sin(z)*V,Math.cos(z)*V,R,D])),F}function we(y){if(!o)throw new Error("path confetti are not supported in this browser");var m,R;typeof y=="string"?m=y:(m=y.path,R=y.matrix);var D=new Path2D(m),$=document.createElement("canvas"),V=$.getContext("2d");if(!R){for(var z=1e3,L=z,U=z,F=0,N=0,Q,ee,de=0;de<z;de+=2)for(var G=0;G<z;G+=2)V.isPointInPath(D,de,G,"nonzero")&&(L=Math.min(L,de),U=Math.min(U,G),F=Math.max(F,de),N=Math.max(N,G));Q=F-L,ee=N-U;var Z=10,_e=Math.min(Z/Q,Z/ee);R=[_e,0,0,_e,-Math.round(Q/2+L)*_e,-Math.round(ee/2+U)*_e]}return{type:"path",path:m,matrix:R}}function Tt(y){var m,R=1,D="#000000",$='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof y=="string"?m=y:(m=y.text,R="scalar"in y?y.scalar:R,$="fontFamily"in y?y.fontFamily:$,D="color"in y?y.color:D);var V=10*R,z=""+V+"px "+$,L=new OffscreenCanvas(V,V),U=L.getContext("2d");U.font=z;var F=U.measureText(m),N=Math.ceil(F.actualBoundingBoxRight+F.actualBoundingBoxLeft),Q=Math.ceil(F.actualBoundingBoxAscent+F.actualBoundingBoxDescent),ee=2,de=F.actualBoundingBoxLeft+ee,G=F.actualBoundingBoxAscent+ee;N+=ee+ee,Q+=ee+ee,L=new OffscreenCanvas(N,Q),U=L.getContext("2d"),U.font=z,U.fillStyle=D,U.fillText(m,de,G);var Z=1/R;return{type:"bitmap",bitmap:L.transferToImageBitmap(),matrix:[Z,0,0,Z,-N*Z/2,-Q*Z/2]}}n.exports=function(){return fe().apply(this,arguments)},n.exports.reset=function(){fe().reset()},n.exports.create=ae,n.exports.shapeFromPath=we,n.exports.shapeFromText=Tt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),nr,!1);const Gu=nr.exports;nr.exports.create;const ui=()=>{const e=Y($r),t=Y(ei),n=Y(ni),r=Y(ti),{activeContent:s,setActiveContent:i}=xn(),o=Y(Jn),c=Y(Vr),l=Y(er),u=Y(oi),d=(p,x)=>p.map(j=>j.id===x.id?x:j),h=(p,x)=>{const j=p.feed.id,E=hu(p.published_at);x==="read"?(e(k=>({...k,[j]:Math.max(0,k[j]-1)})),c(k=>Math.max(0,k-1)),u(k=>Math.max(0,k-1)),n(k=>k+1),E&&t(k=>Math.max(0,k-1))):(e(k=>({...k,[j]:k[j]+1})),c(k=>k+1),u(k=>k+1),n(k=>Math.max(0,k-1)),E&&t(k=>k+1));const T={...p,status:x};s&&i(T),o(k=>d(k,T)),l(k=>d(k,T))},g=(p,x)=>{x?(r(E=>E+1),Gu({particleCount:100,angle:120,spread:70,origin:{x:1,y:1}})):r(E=>Math.max(0,E-1));const j={...p,starred:x};s&&i(j),o(E=>d(E,j)),l(E=>d(E,j))};return{handleEntryStatusUpdate:h,handleFetchContent:async()=>{try{const p=await pu(s.id);re.success("Fetched content successfully"),i({...s,content:p.data.content})}catch{re.error("Failed to fetch content, please try again later")}},handleToggleStarred:async p=>{const x=!p.starred;g(p,x),mu(p.id).catch(()=>{re.error(`Failed to ${x?"star":"unstar"} entry, please try again later`),g(p,!x)})},handleToggleStatus:async p=>{const x=p.status,j=x==="read"?"unread":"read";h(p,j),ii([p.id],j).catch(()=>{re.error(`Failed to mark entry as ${j}, please try again later`),h(p,x)})}}},Qi=(e,t="start")=>{const n=document.querySelector(e);n&&n.scrollIntoView({behavior:"smooth",block:t})},Ku=e=>{const n=new DOMParser().parseFromString(e,"text/html").querySelectorAll("img");return Array.from(n).map(r=>r.getAttribute("src"))},Es=e=>{var s;const r=(s=new DOMParser().parseFromString(e.content,"text/html").querySelector("img"))==null?void 0:s.getAttribute("src");return{...e,imgSrc:r}},Qu=W(!1),Po=()=>{const{pageSize:e}=K(xe),[t,n]=ke(Jn),[r,s]=ke(Io),[i,o]=ke(er),[c,l]=ke(oi),u=K(tr),d=Y(Ur),h=Y(zr),g=K(ko),w=K(Vr),[b,f]=ke(Qu),p=j=>{const E=(T,k)=>k.filter(A=>!T.some(v=>v.id===A.id));u==="all"?(n(T=>[...T,...E(T,j)]),h(t.length<g),s(T=>T+e)):(o(T=>[...T,...E(T,j)]),d(i.length<w),l(T=>T+e))};return{handleLoadMore:async j=>{var E;f(!0);try{let T;if(u==="all"?T=await j(r+e):T=await j(c,u),(E=T==null?void 0:T.data)!=null&&E.entries){const k=T.data.entries.map(Es);p(k)}}catch(T){console.error("Error fetching more articles:",T)}finally{f(!1)}},loadingMore:b}},di=(e,t)=>{const n=K(ci),r=K(tr),s=K(Ur),i=K(zr),{activeContent:o,setActiveContent:c}=xn(),{loadingMore:l}=Po(),[u,d]=C.useState(!1),[h,g]=C.useState(!1);C.useEffect(()=>{h&&!l&&(d(!1),g(!1),f())},[h,l]);const w=(T,k)=>{o&&(c(null),T.current&&(T.current.setAttribute("tabIndex","-1"),T.current.focus()),k.current&&k.current.scrollTo(0,0))},b=()=>{const T=n.findIndex(k=>k.id===(o==null?void 0:o.id));if(T>0){const k=n[T-1];t(k),Qi(".card-custom-selected-style","end")}},f=()=>{if(u)return;const T=n.findIndex(A=>A.id===(o==null?void 0:o.id));if(T===n.length-1&&(r==="all"&&i||s)){d(!0),g(!0);return}if(T===-1){const A=document.querySelector(".entry-list");A&&A.scrollTo(0,0)}if(T<n.length-1){const A=n[T+1];t(A),g(!1),Qi(".card-custom-selected-style")}};return{handleEscapeKey:w,handleLeftKey:b,handleRightKey:f,handleBKey:()=>{o&&window.open(o.url,"_blank")},handleDKey:T=>{o&&T()},handleMKey:T=>{o&&T()},handleSKey:T=>{o&&T()}}};var Ro={},hi={},fi={};Object.defineProperty(fi,"__esModule",{value:!0});var Zi="html",Ji="head",dr="body",Zu=/<([a-zA-Z]+[0-9]?)/,ea=/<head[^]*>/i,ta=/<body[^]*>/i,Ir=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Ts=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},na=typeof window=="object"&&window.DOMParser;if(typeof na=="function"){var Ju=new na,ed="text/html";Ts=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),Ju.parseFromString(e,ed)},Ir=Ts}if(typeof document=="object"&&document.implementation){var hr=document.implementation.createHTMLDocument();Ir=function(e,t){if(t){var n=hr.documentElement.querySelector(t);return n&&(n.innerHTML=e),hr}return hr.documentElement.innerHTML=e,hr}}var fr=typeof document=="object"&&document.createElement("template"),js;fr&&fr.content&&(js=function(e){return fr.innerHTML=e,fr.content.childNodes});function td(e){var t,n,r=e.match(Zu),s=r&&r[1]?r[1].toLowerCase():"";switch(s){case Zi:{var i=Ts(e);if(!ea.test(e)){var o=i.querySelector(Ji);(t=o==null?void 0:o.parentNode)===null||t===void 0||t.removeChild(o)}if(!ta.test(e)){var o=i.querySelector(dr);(n=o==null?void 0:o.parentNode)===null||n===void 0||n.removeChild(o)}return i.querySelectorAll(Zi)}case Ji:case dr:{var c=Ir(e).querySelectorAll(s);return ta.test(e)&&ea.test(e)?c[0].parentNode.childNodes:c}default:{if(js)return js(e);var o=Ir(e,dr).querySelector(dr);return o.childNodes}}}fi.default=td;var vn={},Fo={},rr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(rr);var te={},Dt=le&&le.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),On=le&&le.__assign||function(){return On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},On.apply(this,arguments)};Object.defineProperty(te,"__esModule",{value:!0});te.cloneNode=te.hasChildren=te.isDocument=te.isDirective=te.isComment=te.isText=te.isCDATA=te.isTag=te.Element=te.Document=te.CDATA=te.NodeWithChildren=te.ProcessingInstruction=te.Comment=te.Text=te.DataNode=te.Node=void 0;var Fe=rr,mi=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),pi(this,t)},e}();te.Node=mi;var Wr=function(e){Dt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(mi);te.DataNode=Wr;var No=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Wr);te.Text=No;var Do=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Wr);te.Comment=Do;var $o=function(e){Dt(t,e);function t(n,r){var s=e.call(this,r)||this;return s.name=n,s.type=Fe.ElementType.Directive,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Wr);te.ProcessingInstruction=$o;var qr=function(e){Dt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(mi);te.NodeWithChildren=qr;var Lo=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(qr);te.CDATA=Lo;var Vo=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(qr);te.Document=Vo;var zo=function(e){Dt(t,e);function t(n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=n==="script"?Fe.ElementType.Script:n==="style"?Fe.ElementType.Style:Fe.ElementType.Tag);var o=e.call(this,s)||this;return o.name=n,o.attribs=r,o.type=i,o}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,i;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(i=n["x-attribsPrefix"])===null||i===void 0?void 0:i[r]}})},enumerable:!1,configurable:!0}),t}(qr);te.Element=zo;function Uo(e){return(0,Fe.isTag)(e)}te.isTag=Uo;function Bo(e){return e.type===Fe.ElementType.CDATA}te.isCDATA=Bo;function Ho(e){return e.type===Fe.ElementType.Text}te.isText=Ho;function Wo(e){return e.type===Fe.ElementType.Comment}te.isComment=Wo;function qo(e){return e.type===Fe.ElementType.Directive}te.isDirective=qo;function Yo(e){return e.type===Fe.ElementType.Root}te.isDocument=Yo;function nd(e){return Object.prototype.hasOwnProperty.call(e,"children")}te.hasChildren=nd;function pi(e,t){t===void 0&&(t=!1);var n;if(Ho(e))n=new No(e.data);else if(Wo(e))n=new Do(e.data);else if(Uo(e)){var r=t?ls(e.children):[],s=new zo(e.name,On({},e.attribs),r);r.forEach(function(l){return l.parent=s}),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]=On({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]=On({},e["x-attribsPrefix"])),n=s}else if(Bo(e)){var r=t?ls(e.children):[],i=new Lo(r);r.forEach(function(u){return u.parent=i}),n=i}else if(Yo(e)){var r=t?ls(e.children):[],o=new Vo(r);r.forEach(function(u){return u.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else if(qo(e)){var c=new $o(e.name,e.data);e["x-name"]!=null&&(c["x-name"]=e["x-name"],c["x-publicId"]=e["x-publicId"],c["x-systemId"]=e["x-systemId"]),n=c}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}te.cloneNode=pi;function ls(e){for(var t=e.map(function(r){return pi(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=le&&le.__createBinding||(Object.create?function(c,l,u,d){d===void 0&&(d=u);var h=Object.getOwnPropertyDescriptor(l,u);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(c,d,h)}:function(c,l,u,d){d===void 0&&(d=u),c[d]=l[u]}),n=le&&le.__exportStar||function(c,l){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,c,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=rr,s=te;n(te,e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function c(l,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=i),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??i,this.elementCB=d??null}return c.prototype.onparserinit=function(l){this.parser=l},c.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},c.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},c.prototype.onerror=function(l){this.handleCallback(l)},c.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},c.prototype.onopentag=function(l,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new s.Element(l,u,void 0,d);this.addNode(h),this.tagStack.push(h)},c.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(l);this.addNode(d),this.lastNode=d}},c.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new s.Comment(l);this.addNode(u),this.lastNode=u},c.prototype.oncommentend=function(){this.lastNode=null},c.prototype.oncdatastart=function(){var l=new s.Text(""),u=new s.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},c.prototype.oncdataend=function(){this.lastNode=null},c.prototype.onprocessinginstruction=function(l,u){var d=new s.ProcessingInstruction(l,u);this.addNode(d)},c.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},c.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),d&&(l.prev=d,d.next=l),l.parent=u,this.lastNode=null},c}();e.DomHandler=o,e.default=o})(Fo);var Xo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(Xo);Object.defineProperty(vn,"__esModule",{value:!0});vn.formatDOM=vn.formatAttributes=void 0;var mr=Fo,rd=Xo;function sd(e){return rd.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function Go(e){for(var t={},n=0,r=e.length;n<r;n++){var s=e[n];t[s.name]=s.value}return t}vn.formatAttributes=Go;function id(e){e=e.toLowerCase();var t=sd(e);return t||e}function Ko(e,t,n){t===void 0&&(t=null);for(var r=[],s,i=0,o=e.length;i<o;i++){var c=e[i];switch(c.nodeType){case 1:{var l=id(c.nodeName);s=new mr.Element(l,Go(c.attributes)),s.children=Ko(l==="template"?c.content.childNodes:c.childNodes,s);break}case 3:s=new mr.Text(c.nodeValue);break;case 8:s=new mr.Comment(c.nodeValue);break;default:continue}var u=r[i-1]||null;u&&(u.next=s),s.parent=t,s.prev=u,s.next=null,r.push(s)}return n&&(s=new mr.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),s.next=r[0]||null,s.parent=t,r.unshift(s),r[1]&&(r[1].prev=r[0])),r}vn.formatDOM=Ko;var ad=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hi,"__esModule",{value:!0});var od=ad(fi),ld=vn,cd=/<(![a-zA-Z\s]+)>/;function ud(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(cd),n=t?t[1]:void 0;return(0,ld.formatDOM)((0,od.default)(e),null,n)}hi.default=ud;var Yr={},it={},Xr={},dd=0;Xr.SAME=dd;var hd=1;Xr.CAMELCASE=hd;Xr.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const Qo=0,$t=1,Gr=2,Kr=3,gi=4,Zo=5,Jo=6;function fd(e){return je.hasOwnProperty(e)?je[e]:null}function Pe(e,t,n,r,s,i,o){this.acceptsBooleans=t===Gr||t===Kr||t===gi,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}const je={},md=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];md.forEach(e=>{je[e]=new Pe(e,Qo,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{je[e]=new Pe(e,$t,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{je[e]=new Pe(e,Gr,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{je[e]=new Pe(e,Gr,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{je[e]=new Pe(e,Kr,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{je[e]=new Pe(e,Kr,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{je[e]=new Pe(e,gi,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{je[e]=new Pe(e,Jo,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{je[e]=new Pe(e,Zo,!1,e.toLowerCase(),null,!1,!1)});const vi=/[\-\:]([a-z])/g,yi=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(vi,yi);je[t]=new Pe(t,$t,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(vi,yi);je[t]=new Pe(t,$t,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(vi,yi);je[t]=new Pe(t,$t,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{je[e]=new Pe(e,$t,!1,e.toLowerCase(),null,!1,!1)});const pd="xlinkHref";je[pd]=new Pe("xlinkHref",$t,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{je[e]=new Pe(e,$t,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:gd,SAME:vd,possibleStandardNames:ra}=Xr,yd=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",bd=yd+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",xd=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+bd+"]*$")),wd=Object.keys(ra).reduce((e,t)=>{const n=ra[t];return n===vd?e[t]=t:n===gd?e[t.toLowerCase()]=t:e[t]=n,e},{});it.BOOLEAN=Kr;it.BOOLEANISH_STRING=Gr;it.NUMERIC=Zo;it.OVERLOADED_BOOLEAN=gi;it.POSITIVE_NUMERIC=Jo;it.RESERVED=Qo;it.STRING=$t;it.getPropertyInfo=fd;it.isCustomAttribute=xd;it.possibleStandardNames=wd;var bi={},xi={},sa=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Sd=/\n/g,Cd=/^\s*/,Ed=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Td=/^:\s*/,jd=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,_d=/^[;\s]*/,Md=/^\s+|\s+$/g,kd=`
`,ia="/",aa="*",Qt="",Id="comment",Ad="declaration",Od=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(b){var f=b.match(Sd);f&&(n+=f.length);var p=b.lastIndexOf(kd);r=~p?b.length-p:r+b.length}function i(){var b={line:n,column:r};return function(f){return f.position=new o(b),u(),f}}function o(b){this.start=b,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function c(b){var f=new Error(t.source+":"+n+":"+r+": "+b);if(f.reason=b,f.filename=t.source,f.line=n,f.column=r,f.source=e,!t.silent)throw f}function l(b){var f=b.exec(e);if(f){var p=f[0];return s(p),e=e.slice(p.length),f}}function u(){l(Cd)}function d(b){var f;for(b=b||[];f=h();)f!==!1&&b.push(f);return b}function h(){var b=i();if(!(ia!=e.charAt(0)||aa!=e.charAt(1))){for(var f=2;Qt!=e.charAt(f)&&(aa!=e.charAt(f)||ia!=e.charAt(f+1));)++f;if(f+=2,Qt===e.charAt(f-1))return c("End of comment missing");var p=e.slice(2,f-2);return r+=2,s(p),e=e.slice(f),r+=2,b({type:Id,comment:p})}}function g(){var b=i(),f=l(Ed);if(f){if(h(),!l(Td))return c("property missing ':'");var p=l(jd),x=b({type:Ad,property:oa(f[0].replace(sa,Qt)),value:p?oa(p[0].replace(sa,Qt)):Qt});return l(_d),x}}function w(){var b=[];d(b);for(var f;f=g();)f!==!1&&(b.push(f),d(b));return b}return u(),w()};function oa(e){return e?e.replace(Md,Qt):Qt}var Pd=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});var Rd=Pd(Od);function Fd(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Rd.default)(e),s=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,c=i.value;s?t(o,c,i):c&&(n=n||{},n[o]=c)}}),n}xi.default=Fd;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.camelCase=void 0;var Nd=/^--[a-zA-Z0-9-]+$/,Dd=/-([a-z])/g,$d=/^[^-]+$/,Ld=/^-(webkit|moz|ms|o|khtml)-/,Vd=/^-(ms)-/,zd=function(e){return!e||$d.test(e)||Nd.test(e)},Ud=function(e,t){return t.toUpperCase()},la=function(e,t){return"".concat(t,"-")},Bd=function(e,t){return t===void 0&&(t={}),zd(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Vd,la):e=e.replace(Ld,la),e.replace(Dd,Ud))};Qr.camelCase=Bd;var Hd=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Wd=Hd(xi),qd=Qr;function _s(e,t){var n={};return!e||typeof e!="string"||(0,Wd.default)(e,function(r,s){r&&s&&(n[(0,qd.camelCase)(r,t)]=s)}),n}_s.default=_s;var Yd=_s;(function(e){var t=le&&le.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var n=C,r=t(Yd),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function i(d,h){return d.includes("-")?!s.has(d):!!(h&&typeof h.is=="string")}e.isCustomComponent=i;var o={reactCompat:!0};function c(d,h){if(typeof d=="string"){if(!d.trim()){h.style={};return}try{h.style=(0,r.default)(d,o)}catch{h.style={}}}}e.setStyleProp=c,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(d){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};e.canTextBeChildOfNode=l;var u=function(d){return d};e.returnFirstArg=u})(bi);Object.defineProperty(Yr,"__esModule",{value:!0});var In=it,ca=bi,Xd=["checked","value"],Gd=["input","select","textarea"],Kd={reset:!0,submit:!0};function Qd(e,t){e===void 0&&(e={});var n={},r=!!(e.type&&Kd[e.type]);for(var s in e){var i=e[s];if((0,In.isCustomAttribute)(s)){n[s]=i;continue}var o=s.toLowerCase(),c=ua(o);if(c){var l=(0,In.getPropertyInfo)(c);switch(Xd.includes(c)&&Gd.includes(t)&&!r&&(c=ua("default"+o)),n[c]=i,l&&l.type){case In.BOOLEAN:n[c]=!0;break;case In.OVERLOADED_BOOLEAN:i===""&&(n[c]=!0);break}continue}ca.PRESERVE_CUSTOM_ATTRIBUTES&&(n[s]=i)}return(0,ca.setStyleProp)(e.style,n),n}Yr.default=Qd;function ua(e){return In.possibleStandardNames[e]}var wi={},Zd=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wi,"__esModule",{value:!0});var cs=C,Jd=Zd(Yr),Pn=bi,eh={cloneElement:cs.cloneElement,createElement:cs.createElement,isValidElement:cs.isValidElement};function el(e,t){t===void 0&&(t={});for(var n=[],r=typeof t.replace=="function",s=t.transform||Pn.returnFirstArg,i=t.library||eh,o=i.cloneElement,c=i.createElement,l=i.isValidElement,u=e.length,d=0;d<u;d++){var h=e[d];if(r){var g=t.replace(h,d);if(l(g)){u>1&&(g=o(g,{key:g.key||d})),n.push(s(g,h,d));continue}}if(h.type==="text"){var w=!h.data.trim().length;if(w&&h.parent&&!(0,Pn.canTextBeChildOfNode)(h.parent)||t.trim&&w)continue;n.push(s(h.data,h,d));continue}var b=h,f={};th(b)?((0,Pn.setStyleProp)(b.attribs.style,b.attribs),f=b.attribs):b.attribs&&(f=(0,Jd.default)(b.attribs,b.name));var p=void 0;switch(h.type){case"script":case"style":h.children[0]&&(f.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?f.defaultValue=h.children[0].data:h.children&&h.children.length&&(p=el(h.children,t));break;default:continue}u>1&&(f.key=d),n.push(s(c(h.name,f,p),h,d))}return n.length===1?n[0]:n}wi.default=el;function th(e){return Pn.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,Pn.isCustomComponent)(e.name,e.attribs)}var tl={},ne={},Lt=le&&le.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rn=le&&le.__assign||function(){return Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Rn.apply(this,arguments)};Object.defineProperty(ne,"__esModule",{value:!0});ne.cloneNode=ne.hasChildren=ne.isDocument=ne.isDirective=ne.isComment=ne.isText=ne.isCDATA=ne.isTag=ne.Element=ne.Document=ne.CDATA=ne.NodeWithChildren=ne.ProcessingInstruction=ne.Comment=ne.Text=ne.DataNode=ne.Node=void 0;var Ne=rr,Si=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),Ci(this,t)},e}();ne.Node=Si;var Zr=function(e){Lt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(Si);ne.DataNode=Zr;var nl=function(e){Lt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Zr);ne.Text=nl;var rl=function(e){Lt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Zr);ne.Comment=rl;var sl=function(e){Lt(t,e);function t(n,r){var s=e.call(this,r)||this;return s.name=n,s.type=Ne.ElementType.Directive,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Zr);ne.ProcessingInstruction=sl;var Jr=function(e){Lt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(Si);ne.NodeWithChildren=Jr;var il=function(e){Lt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Jr);ne.CDATA=il;var al=function(e){Lt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Jr);ne.Document=al;var ol=function(e){Lt(t,e);function t(n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=n==="script"?Ne.ElementType.Script:n==="style"?Ne.ElementType.Style:Ne.ElementType.Tag);var o=e.call(this,s)||this;return o.name=n,o.attribs=r,o.type=i,o}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,i;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(i=n["x-attribsPrefix"])===null||i===void 0?void 0:i[r]}})},enumerable:!1,configurable:!0}),t}(Jr);ne.Element=ol;function ll(e){return(0,Ne.isTag)(e)}ne.isTag=ll;function cl(e){return e.type===Ne.ElementType.CDATA}ne.isCDATA=cl;function ul(e){return e.type===Ne.ElementType.Text}ne.isText=ul;function dl(e){return e.type===Ne.ElementType.Comment}ne.isComment=dl;function hl(e){return e.type===Ne.ElementType.Directive}ne.isDirective=hl;function fl(e){return e.type===Ne.ElementType.Root}ne.isDocument=fl;function nh(e){return Object.prototype.hasOwnProperty.call(e,"children")}ne.hasChildren=nh;function Ci(e,t){t===void 0&&(t=!1);var n;if(ul(e))n=new nl(e.data);else if(dl(e))n=new rl(e.data);else if(ll(e)){var r=t?us(e.children):[],s=new ol(e.name,Rn({},e.attribs),r);r.forEach(function(l){return l.parent=s}),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]=Rn({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]=Rn({},e["x-attribsPrefix"])),n=s}else if(cl(e)){var r=t?us(e.children):[],i=new il(r);r.forEach(function(u){return u.parent=i}),n=i}else if(fl(e)){var r=t?us(e.children):[],o=new al(r);r.forEach(function(u){return u.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else if(hl(e)){var c=new sl(e.name,e.data);e["x-name"]!=null&&(c["x-name"]=e["x-name"],c["x-publicId"]=e["x-publicId"],c["x-systemId"]=e["x-systemId"]),n=c}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}ne.cloneNode=Ci;function us(e){for(var t=e.map(function(r){return Ci(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=le&&le.__createBinding||(Object.create?function(c,l,u,d){d===void 0&&(d=u);var h=Object.getOwnPropertyDescriptor(l,u);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(c,d,h)}:function(c,l,u,d){d===void 0&&(d=u),c[d]=l[u]}),n=le&&le.__exportStar||function(c,l){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,c,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=rr,s=ne;n(ne,e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function c(l,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=i),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??i,this.elementCB=d??null}return c.prototype.onparserinit=function(l){this.parser=l},c.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},c.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},c.prototype.onerror=function(l){this.handleCallback(l)},c.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},c.prototype.onopentag=function(l,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new s.Element(l,u,void 0,d);this.addNode(h),this.tagStack.push(h)},c.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(l);this.addNode(d),this.lastNode=d}},c.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new s.Comment(l);this.addNode(u),this.lastNode=u},c.prototype.oncommentend=function(){this.lastNode=null},c.prototype.oncdatastart=function(){var l=new s.Text(""),u=new s.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},c.prototype.oncdataend=function(){this.lastNode=null},c.prototype.onprocessinginstruction=function(l,u){var d=new s.ProcessingInstruction(l,u);this.addNode(d)},c.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},c.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),d&&(l.prev=d,d.next=l),l.parent=u,this.lastNode=null},c}();e.DomHandler=o,e.default=o})(tl);(function(e){var t=le&&le.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var n=t(hi);e.htmlToDOM=n.default;var r=t(Yr);e.attributesToProps=r.default;var s=t(wi);e.domToReact=s.default;var i=tl;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return i.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return i.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return i.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return i.Text}});var o={lowerCaseAttributeNames:!1};function c(l,u){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,s.default)((0,n.default)(l,(u==null?void 0:u.htmlparser2)||o),u):[]}e.default=c})(Ro);const da=Nr(Ro),rh=da.default||da;function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}function Ei(e,t){if(e==null)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(s[n]=e[n]);return s}function Cr(e){var t=C.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var n=Object.create(null);Object.keys(e).forEach(function(r){n[r]=function(){var s;return(s=t.fn[r]).call.apply(s,[t.fn].concat([].slice.call(arguments)))}}),t.curr=n}return t.curr}function Ms(e){return C.useReducer(function(t,n){return Me({},t,typeof n=="function"?n(t):n)},e)}C.createContext(void 0);var St=typeof window<"u"&&"ontouchstart"in window,ks=function(e,t,n){return Math.max(Math.min(e,n),t)},pr=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),ks(e,1*(1-n),Math.max(6,t)*(1+n))},Is=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?C.useEffect:C.useLayoutEffect;function fn(e,t,n){var r=C.useRef(t);r.current=t,C.useEffect(function(){function s(i){r.current(i)}return e&&window.addEventListener(e,s,n),function(){e&&window.removeEventListener(e,s)}},[e])}var sh=["container"];function ih(e){var t=e.container,n=t===void 0?document.body:t,r=Ei(e,sh);return Ys.createPortal(se.createElement("div",Me({},r)),n)}function ah(e){return se.createElement("svg",Me({width:"44",height:"44",viewBox:"0 0 768 768"},e),se.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function oh(e){return se.createElement("svg",Me({width:"44",height:"44",viewBox:"0 0 768 768"},e),se.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function lh(e){return se.createElement("svg",Me({width:"44",height:"44",viewBox:"0 0 768 768"},e),se.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function ch(){return C.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function ha(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var s=e.touches[1],i=s.clientX,o=s.clientY;return[(n+i)/2,(r+o)/2,Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2))]}return[n,r,0]}var Pt=function(e,t,n,r){var s=n*t,i=(s-r)/2,o=void 0,c=e;return s<=r?(o=1,c=0):e>0&&i-e<=0?(o=2,c=i):e<0&&i+e<=0&&(o=3,c=-i),[o,c]};function ds(e,t,n,r,s,i,o,c,l,u){o===void 0&&(o=innerWidth/2),c===void 0&&(c=innerHeight/2),l===void 0&&(l=0),u===void 0&&(u=0);var d=Pt(e,i,n,innerWidth)[0],h=Pt(t,i,r,innerHeight),g=innerWidth/2,w=innerHeight/2;return{x:o-i/s*(o-(g+e))-g+(r/n>=3&&n*i===innerWidth?0:d?l/2:l),y:c-i/s*(c-(w+t))-w+(h[0]?u/2:u),lastCX:o,lastCY:c}}function As(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function hs(e,t,n){var r=As(n,innerWidth,innerHeight),s=r[0],i=r[1],o=0,c=s,l=i,u=e/t*i,d=t/e*s;return e<s&&t<i?(c=e,l=t):e<s&&t>=i?c=u:e>=s&&t<i||e/t>s/i?l=d:t/e>=3&&!r[2]?o=((l=d)-i)/2:c=u,{width:c,height:l,x:0,y:o,pause:!0}}function gr(e,t){var n=t.leading,r=n!==void 0&&n,s=t.maxWait,i=t.wait,o=i===void 0?s||0:i,c=C.useRef(e);c.current=e;var l=C.useRef(0),u=C.useRef(),d=function(){return u.current&&clearTimeout(u.current)},h=C.useCallback(function(){var g=[].slice.call(arguments),w=Date.now();function b(){l.current=w,d(),c.current.apply(null,g)}var f=l.current,p=w-f;if(f===0&&(r&&b(),l.current=w),s!==void 0){if(p>s)return void b()}else p<o&&(l.current=w);d(),u.current=setTimeout(function(){b(),l.current=0},o)},[o,s,r]);return h.cancel=d,h}var fa=function(e,t,n){return Zt(e,t,n,100,function(r){return r},function(){return Zt(t,e,n)})},uh=function(e){return 1-Math.pow(1-e,4)};function Zt(e,t,n,r,s,i){r===void 0&&(r=400),s===void 0&&(s=uh);var o=t-e;if(o!==0){var c=Date.now(),l=0,u=function(){var h=Math.min(1,(Date.now()-c)/r);n(e+s(h)*o)&&h<1?d():(cancelAnimationFrame(l),h>=1&&i&&i())};d()}function d(){l=requestAnimationFrame(u)}}var dh={T:0,L:0,W:0,H:0,FIT:void 0},ml=function(){var e=C.useRef(!1);return C.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},hh=["className"];function fh(e){var t=e.className,n=Ei(e,hh);return se.createElement("div",Me({className:"PhotoView__Spinner "+t},n),se.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},se.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),se.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var mh=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function ph(e){var t=e.src,n=e.loaded,r=e.broken,s=e.className,i=e.onPhotoLoad,o=e.loadingElement,c=e.brokenElement,l=Ei(e,mh),u=ml();return t&&!r?se.createElement(se.Fragment,null,se.createElement("img",Me({className:"PhotoView__Photo"+(s?" "+s:""),src:t,onLoad:function(d){var h=d.target;u.current&&i({loaded:!0,naturalWidth:h.naturalWidth,naturalHeight:h.naturalHeight})},onError:function(){u.current&&i({broken:!0})},alt:""},l)),!n&&(se.createElement("span",{className:"PhotoView__icon"},o)||se.createElement(fh,{className:"PhotoView__icon"}))):c?se.createElement("span",{className:"PhotoView__icon"},typeof c=="function"?c({src:t}):c):null}var gh={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function vh(e){var t=e.item,n=t.src,r=t.render,s=t.width,i=s===void 0?0:s,o=t.height,c=o===void 0?0:o,l=t.originRef,u=e.visible,d=e.speed,h=e.easing,g=e.wrapClassName,w=e.className,b=e.style,f=e.loadingElement,p=e.brokenElement,x=e.onPhotoTap,j=e.onMaskTap,E=e.onReachMove,T=e.onReachUp,k=e.onPhotoResize,A=e.isActive,v=e.expose,S=Ms(gh),M=S[0],O=S[1],P=C.useRef(0),q=ml(),oe=M.naturalWidth,ae=oe===void 0?i:oe,ue=M.naturalHeight,fe=ue===void 0?c:ue,De=M.width,we=De===void 0?i:De,Tt=M.height,y=Tt===void 0?c:Tt,m=M.loaded,R=m===void 0?!n:m,D=M.broken,$=M.x,V=M.y,z=M.touched,L=M.stopRaf,U=M.maskTouched,F=M.rotate,N=M.scale,Q=M.CX,ee=M.CY,de=M.lastX,G=M.lastY,Z=M.lastCX,_e=M.lastCY,pe=M.lastScale,Ee=M.touchTime,Ve=M.touchLength,ge=M.pause,ft=M.reach,Vt=Cr({onScale:function(_){return Ge(pr(_))},onRotate:function(_){F!==_&&(v({rotate:_}),O(Me({rotate:_},hs(ae,fe,_))))}});function Ge(_,B,ce){N!==_&&(v({scale:_}),O(Me({scale:_},ds($,V,we,y,N,_,B,ce),_<=1&&{x:0,y:0})))}var zt=gr(function(_,B,ce){if(ce===void 0&&(ce=0),(z||U)&&A){var Ht=As(F,we,y),mt=Ht[0],Qe=Ht[1];if(ce===0&&P.current===0){var Te=Math.abs(_-Q)<=20,$e=Math.abs(B-ee)<=20;if(Te&&$e)return void O({lastCX:_,lastCY:B});P.current=Te?B>ee?3:2:1}var Wt=_-Z,qt=B-_e,Ze=void 0;if(ce===0){var Yt=Pt(Wt+de,N,mt,innerWidth)[0],an=Pt(qt+G,N,Qe,innerHeight);Ze=function(Mt,gt,vt,lt){return gt&&Mt===1||lt==="x"?"x":vt&&Mt>1||lt==="y"?"y":void 0}(P.current,Yt,an[0],ft),Ze!==void 0&&E(Ze,_,B,N)}if(Ze==="x"||U)return void O({reach:"x"});var pt=pr(N+(ce-Ve)/100/2*N,ae/we,.2);v({scale:pt}),O(Me({touchLength:ce,reach:Ze,scale:pt},ds($,V,we,y,N,pt,_,B,Wt,qt)))}},{maxWait:8});function Ut(_){return!L&&!z&&(q.current&&O(Me({},_,{pause:u})),q.current)}var Ke,ze,at,jt,Bt,_t,nn,Ie,or=(Bt=function(_){return Ut({x:_})},_t=function(_){return Ut({y:_})},nn=function(_){return q.current&&(v({scale:_}),O({scale:_})),!z&&q.current},Ie=Cr({X:function(_){return Bt(_)},Y:function(_){return _t(_)},S:function(_){return nn(_)}}),function(_,B,ce,Ht,mt,Qe,Te,$e,Wt,qt,Ze){var Yt=As(qt,mt,Qe),an=Yt[0],pt=Yt[1],Mt=Pt(_,$e,an,innerWidth),gt=Mt[0],vt=Mt[1],lt=Pt(B,$e,pt,innerHeight),on=lt[0],cr=lt[1],ln=Date.now()-Ze;if(ln>=200||$e!=Te||Math.abs(Wt-Te)>1){var kt=ds(_,B,mt,Qe,Te,$e),yt=kt.x,Xt=kt.y,Ue=gt?vt:yt!==_?yt:null,cn=on?cr:Xt!==B?Xt:null;return Ue!==null&&Zt(_,Ue,Ie.X),cn!==null&&Zt(B,cn,Ie.Y),void($e!=Te&&Zt(Te,$e,Ie.S))}var Gt=(_-ce)/ln,It=(B-Ht)/ln,At=Math.sqrt(Math.pow(Gt,2)+Math.pow(It,2)),bt=!1,xt=!1;(function(Je,Ae){var Oe=Je,wt=0,et=void 0,Be=0,un=function(En){et||(et=En);var Tn=En-et,Vi=Math.sign(Je),zi=-.001*Vi,Ui=Math.sign(-Oe)*Math.pow(Oe,2)*2e-4,Gl=Oe*Tn+(zi+Ui)*Math.pow(Tn,2)/2;wt+=Gl,et=En,Vi*(Oe+=(zi+Ui)*Tn)<=0?He():Ae(wt)?ct():He()};function ct(){Be=requestAnimationFrame(un)}function He(){cancelAnimationFrame(Be)}ct()})(At,function(Je){var Ae=_+Je*(Gt/At),Oe=B+Je*(It/At),wt=Pt(Ae,Te,an,innerWidth),et=wt[0],Be=wt[1],un=Pt(Oe,Te,pt,innerHeight),ct=un[0],He=un[1];if(et&&!bt&&(bt=!0,gt?Zt(Ae,Be,Ie.X):fa(Be,Ae+(Ae-Be),Ie.X)),ct&&!xt&&(xt=!0,on?Zt(Oe,He,Ie.Y):fa(He,Oe+(Oe-He),Ie.Y)),bt&&xt)return!1;var En=bt||Ie.X(Be),Tn=xt||Ie.Y(He);return En&&Tn})}),rn=(Ke=x,ze=function(_,B){ft||Ge(N!==1?1:Math.max(2,ae/we),_,B)},at=C.useRef(0),jt=gr(function(){at.current=0,Ke.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var _=[].slice.call(arguments);at.current+=1,jt.apply(void 0,_),at.current>=2&&(jt.cancel(),at.current=0,ze.apply(void 0,_))});function sn(_,B){if(P.current=0,(z||U)&&A){O({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var ce=pr(N,ae/we);if(or($,V,de,G,we,y,N,ce,pe,F,Ee),T(_,B),Q===_&&ee===B){if(z)return void rn(_,B);U&&j(_,B)}}}function Cn(_,B,ce){ce===void 0&&(ce=0),O({touched:!0,CX:_,CY:B,lastCX:_,lastCY:B,lastX:$,lastY:V,lastScale:N,touchLength:ce,touchTime:Date.now()})}function lr(_){O({maskTouched:!0,CX:_.clientX,CY:_.clientY,lastX:$,lastY:V})}fn(St?void 0:"mousemove",function(_){_.preventDefault(),zt(_.clientX,_.clientY)}),fn(St?void 0:"mouseup",function(_){sn(_.clientX,_.clientY)}),fn(St?"touchmove":void 0,function(_){_.preventDefault();var B=ha(_);zt.apply(void 0,B)},{passive:!1}),fn(St?"touchend":void 0,function(_){var B=_.changedTouches[0];sn(B.clientX,B.clientY)},{passive:!1}),fn("resize",gr(function(){R&&!z&&(O(hs(ae,fe,F)),k())},{maxWait:8})),Is(function(){A&&v(Me({scale:N,rotate:F},Vt))},[A]);var ot=function(_,B,ce,Ht,mt,Qe,Te,$e,Wt,qt){var Ze=function(yt,Xt,Ue,cn,Gt){var It=C.useRef(!1),At=Ms({lead:!0,scale:Ue}),bt=At[0],xt=bt.lead,Je=bt.scale,Ae=At[1],Oe=gr(function(wt){try{return Gt(!0),Ae({lead:!1,scale:wt}),Promise.resolve()}catch(et){return Promise.reject(et)}},{wait:cn});return Is(function(){It.current?(Gt(!1),Ae({lead:!0}),Oe(Ue)):It.current=!0},[Ue]),xt?[yt*Je,Xt*Je,Ue/Je]:[yt*Ue,Xt*Ue,1]}(Qe,Te,$e,Wt,qt),Yt=Ze[0],an=Ze[1],pt=Ze[2],Mt=function(yt,Xt,Ue,cn,Gt){var It=C.useState(dh),At=It[0],bt=It[1],xt=C.useState(0),Je=xt[0],Ae=xt[1],Oe=C.useRef(),wt=Cr({OK:function(){return yt&&Ae(4)}});function et(Be){Gt(!1),Ae(Be)}return C.useEffect(function(){if(Oe.current||(Oe.current=Date.now()),Ue){if(function(Be,un){var ct=Be&&Be.current;if(ct&&ct.nodeType===1){var He=ct.getBoundingClientRect();un({T:He.top,L:He.left,W:He.width,H:He.height,FIT:ct.tagName==="IMG"?getComputedStyle(ct).objectFit:void 0})}}(Xt,bt),yt)return Date.now()-Oe.current<250?(Ae(1),requestAnimationFrame(function(){Ae(2),requestAnimationFrame(function(){return et(3)})}),void setTimeout(wt.OK,cn)):void Ae(4);et(5)}},[yt,Ue]),[Je,At]}(_,B,ce,Wt,qt),gt=Mt[0],vt=Mt[1],lt=vt.W,on=vt.FIT,cr=innerWidth/2,ln=innerHeight/2,kt=gt<3||gt>4;return[kt?lt?vt.L:cr:Ht+(cr-Qe*$e/2),kt?lt?vt.T:ln:mt+(ln-Te*$e/2),Yt,kt&&on?Yt*(vt.H/lt):an,gt===0?pt:kt?lt/(Qe*$e)||.01:pt,kt?on?1:0:1,gt,on]}(u,l,R,$,V,we,y,N,d,function(_){return O({pause:_})}),J=ot[4],me=ot[6],Se="transform "+d+"ms "+h,be={className:w,onMouseDown:St?void 0:function(_){_.stopPropagation(),_.button===0&&Cn(_.clientX,_.clientY,0)},onTouchStart:St?function(_){_.stopPropagation(),Cn.apply(void 0,ha(_))}:void 0,onWheel:function(_){if(!ft){var B=pr(N-_.deltaY/100/2,ae/we);O({stopRaf:!0}),Ge(B,_.clientX,_.clientY)}},style:{width:ot[2],height:ot[3],opacity:ot[5],objectFit:me===4?void 0:ot[7],transform:F?"rotate("+F+"deg)":void 0,transition:me>2?Se+", opacity "+d+"ms ease, height "+(me<4?d/2:me>4?d:0)+"ms "+h:void 0}};return se.createElement("div",{className:"PhotoView__PhotoWrap"+(g?" "+g:""),style:b,onMouseDown:!St&&A?lr:void 0,onTouchStart:St&&A?function(_){return lr(_.touches[0])}:void 0},se.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+J+", 0, 0, "+J+", "+ot[0]+", "+ot[1]+")",transition:z||ge?void 0:Se,willChange:A?"transform":void 0}},n?se.createElement(ph,Me({src:n,loaded:R,broken:D},be,{onPhotoLoad:function(_){O(Me({},_,_.loaded&&hs(_.naturalWidth||0,_.naturalHeight||0,F)))},loadingElement:f,brokenElement:p})):r&&r({attrs:be,scale:J,rotate:F})))}var ma={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function yh(e){var t=e.loop,n=t===void 0?3:t,r=e.speed,s=e.easing,i=e.photoClosable,o=e.maskClosable,c=o===void 0||o,l=e.maskOpacity,u=l===void 0?1:l,d=e.pullClosable,h=d===void 0||d,g=e.bannerVisible,w=g===void 0||g,b=e.overlayRender,f=e.toolbarRender,p=e.className,x=e.maskClassName,j=e.photoClassName,E=e.photoWrapClassName,T=e.loadingElement,k=e.brokenElement,A=e.images,v=e.index,S=v===void 0?0:v,M=e.onIndexChange,O=e.visible,P=e.onClose,q=e.afterClose,oe=e.portalContainer,ae=Ms(ma),ue=ae[0],fe=ae[1],De=C.useState(0),we=De[0],Tt=De[1],y=ue.x,m=ue.touched,R=ue.pause,D=ue.lastCX,$=ue.lastCY,V=ue.bg,z=V===void 0?u:V,L=ue.lastBg,U=ue.overlay,F=ue.minimal,N=ue.scale,Q=ue.rotate,ee=ue.onScale,de=ue.onRotate,G=e.hasOwnProperty("index"),Z=G?S:we,_e=G?M:Tt,pe=C.useRef(Z),Ee=A.length,Ve=A[Z],ge=typeof n=="boolean"?n:Ee>n,ft=function(J,me){var Se=C.useReducer(function(ce){return!ce},!1)[1],be=C.useRef(0),_=function(ce,Ht){var mt=C.useRef(ce);function Qe(Te){mt.current=Te}return C.useMemo(function(){(function(Te){J?(Te(J),be.current=1):be.current=2})(Qe)},[ce]),[mt.current,Qe]}(J),B=_[1];return[_[0],be.current,function(){Se(),be.current===2&&(B(!1),me&&me()),be.current=0}]}(O,q),Vt=ft[0],Ge=ft[1],zt=ft[2];Is(function(){if(Vt)return fe({pause:!0,x:Z*-(innerWidth+20)}),void(pe.current=Z);fe(ma)},[Vt]);var Ut=Cr({close:function(J){de&&de(0),fe({overlay:!0,lastBg:z}),P(J)},changeIndex:function(J,me){me===void 0&&(me=!1);var Se=ge?pe.current+(J-Z):J,be=Ee-1,_=ks(Se,0,be),B=ge?Se:_,ce=innerWidth+20;fe({touched:!1,lastCX:void 0,lastCY:void 0,x:-ce*B,pause:me}),pe.current=B,_e&&_e(ge?J<0?be:J>be?0:J:_)}}),Ke=Ut.close,ze=Ut.changeIndex;function at(J){return J?Ke():fe({overlay:!U})}function jt(){fe({x:-(innerWidth+20)*Z,lastCX:void 0,lastCY:void 0,pause:!0}),pe.current=Z}function Bt(J,me,Se,be){J==="x"?function(_){if(D!==void 0){var B=_-D,ce=B;!ge&&(Z===0&&B>0||Z===Ee-1&&B<0)&&(ce=B/2),fe({touched:!0,lastCX:D,x:-(innerWidth+20)*pe.current+ce,pause:!1})}else fe({touched:!0,lastCX:_,x:y,pause:!1})}(me):J==="y"&&function(_,B){if($!==void 0){var ce=u===null?null:ks(u,.01,u-Math.abs(_-$)/100/4);fe({touched:!0,lastCY:$,bg:B===1?ce:u,minimal:B===1})}else fe({touched:!0,lastCY:_,bg:z,minimal:!0})}(Se,be)}function _t(J,me){var Se=J-(D??J),be=me-($??me),_=!1;if(Se<-40)ze(Z+1);else if(Se>40)ze(Z-1);else{var B=-(innerWidth+20)*pe.current;Math.abs(be)>100&&F&&h&&(_=!0,Ke()),fe({touched:!1,x:B,lastCX:void 0,lastCY:void 0,bg:u,overlay:!!_||U})}}fn("keydown",function(J){if(O)switch(J.key){case"ArrowLeft":ze(Z-1,!0);break;case"ArrowRight":ze(Z+1,!0);break;case"Escape":Ke()}});var nn=function(J,me,Se){return C.useMemo(function(){var be=J.length;return Se?J.concat(J).concat(J).slice(be+me-1,be+me+2):J.slice(Math.max(me-1,0),Math.min(me+2,be+1))},[J,me,Se])}(A,Z,ge);if(!Vt)return null;var Ie=U&&!Ge,or=O?z:L,rn=ee&&de&&{images:A,index:Z,visible:O,onClose:Ke,onIndexChange:ze,overlayVisible:Ie,overlay:Ve&&Ve.overlay,scale:N,rotate:Q,onScale:ee,onRotate:de},sn=r?r(Ge):400,Cn=s?s(Ge):"cubic-bezier(0.25, 0.8, 0.25, 1)",lr=r?r(3):600,ot=s?s(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return se.createElement(ih,{className:"PhotoView-Portal"+(Ie?"":" PhotoView-Slider__clean")+(O?"":" PhotoView-Slider__willClose")+(p?" "+p:""),role:"dialog",onClick:function(J){return J.stopPropagation()},container:oe},O&&se.createElement(ch,null),se.createElement("div",{className:"PhotoView-Slider__Backdrop"+(x?" "+x:"")+(Ge===1?" PhotoView-Slider__fadeIn":Ge===2?" PhotoView-Slider__fadeOut":""),style:{background:or?"rgba(0, 0, 0, "+or+")":void 0,transitionTimingFunction:Cn,transitionDuration:(m?0:sn)+"ms",animationDuration:sn+"ms"},onAnimationEnd:zt}),w&&se.createElement("div",{className:"PhotoView-Slider__BannerWrap"},se.createElement("div",{className:"PhotoView-Slider__Counter"},Z+1," / ",Ee),se.createElement("div",{className:"PhotoView-Slider__BannerRight"},f&&rn&&f(rn),se.createElement(ah,{className:"PhotoView-Slider__toolbarIcon",onClick:Ke}))),nn.map(function(J,me){var Se=ge||Z!==0?pe.current-1+me:Z+me;return se.createElement(vh,{key:ge?J.key+"/"+J.src+"/"+Se:J.key,item:J,speed:sn,easing:Cn,visible:O,onReachMove:Bt,onReachUp:_t,onPhotoTap:function(){return at(i)},onMaskTap:function(){return at(c)},wrapClassName:E,className:j,style:{left:(innerWidth+20)*Se+"px",transform:"translate3d("+y+"px, 0px, 0)",transition:m||R?void 0:"transform "+lr+"ms "+ot},loadingElement:T,brokenElement:k,onPhotoResize:jt,isActive:pe.current===Se,expose:fe})}),!St&&w&&se.createElement(se.Fragment,null,(ge||Z!==0)&&se.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return ze(Z-1,!0)}},se.createElement(oh,null)),(ge||Z+1<Ee)&&se.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return ze(Z+1,!0)}},se.createElement(lh,null))),b&&rn&&se.createElement("div",{className:"PhotoView-Slider__Overlay"},b(rn)))}const bh=({info:e,handleEntryClick:t,entryListRef:n,entryDetailRef:r})=>{const{activeContent:s}=xn(),{handleFetchContent:i,handleToggleStarred:o,handleToggleStatus:c}=ui(),{handleLeftKey:l,handleRightKey:u,handleEscapeKey:d}=di(e,t);if(!s)return null;const h=s.status==="unread",g=s.starred;return a.jsxs(ye.Group,{className:"action-buttons",children:[a.jsx(ye,{icon:a.jsx(Cc,{}),onClick:()=>d(n,r),shape:"round",type:"primary"}),a.jsx(ye,{icon:h?a.jsx(Qa,{}):a.jsx(Za,{}),onClick:()=>c(s),type:"primary"}),a.jsx(ye,{icon:g?a.jsx(Xs,{style:{color:"#ffcd00"}}):a.jsx(Ws,{}),onClick:()=>o(s),type:"primary"}),a.jsx(ye,{icon:a.jsx(Ec,{}),onClick:l,type:"primary"}),a.jsx(ye,{icon:a.jsx(Tc,{}),onClick:u,type:"primary"}),a.jsx(ye,{icon:a.jsx(jc,{}),onClick:i,shape:"round",type:"primary"})]})},xh=({url:e,text:t})=>{const[n,r]=C.useState(!1),s=()=>r(!n);return a.jsx(Mc,{to:e,style:{color:"inherit",textDecoration:n?"underline":"none"},onMouseEnter:s,onMouseLeave:s,children:t})},wh=({node:e,index:t,togglePhotoSlider:n})=>{const r=K(xe),{fontSize:s}=r,[i,o]=C.useState(!1),[c,l]=C.useState(!1),{isMobileView:u}=Lr();return C.useEffect(()=>{const d=new Image;d.src=e.attribs.src,d.onload=()=>{d.width<=64&&d.height<=64&&l(!0)}},[]),c?a.jsx("img",{...e.attribs,alt:e.attribs.alt,style:{display:"inline-block",width:"auto",height:`${s}rem`,margin:0}}):a.jsx("div",{style:{textAlign:"center",position:"relative"},children:a.jsxs("div",{style:{display:"inline-block",position:"relative"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx("img",{...e.attribs,alt:e.attribs.alt}),a.jsx(ye,{icon:a.jsx(kc,{}),shape:"circle",style:{position:"absolute",top:30,right:10,color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",opacity:u||i?1:0,transition:"opacity 0.3s"},onClick:d=>{d.preventDefault(),n(t)}})]})})},Sh=(e,t)=>({replace:n=>{if(n.type==="tag"&&n.name==="img"){const r=e.findIndex(s=>s===n.attribs.src);return a.jsx(wh,{node:n,index:r,togglePhotoSlider:t})}return n}}),Ch=C.forwardRef(({info:e,handleEntryClick:t,entryListRef:n},r)=>{const s=tn(),{activeContent:i}=xn(),o=K(xe),{articleWidth:c,fontSize:l}=o,u=Y(Oo),[d,h]=C.useState(!1),[g,w]=C.useState(0),b=Y(Hr),f=Y(Br),{handleEscapeKey:p}=di(e,t),x=()=>{f("author"),b(i.author),p(n,r)},j=S=>{w(S),h(M=>!M)};if(C.useEffect(()=>{var M;const S=(M=r.current)==null?void 0:M.querySelector(".scroll-container");S&&(S.setAttribute("tabIndex","-1"),setTimeout(()=>{S.focus()},200))},[i==null?void 0:i.id]),!i)return a.jsxs("div",{ref:r,className:"content-empty",children:[a.jsx(_c,{style:{fontSize:"64px"}}),a.jsx(H.Title,{heading:6,style:{color:"var(--color-text-3)",marginTop:"10px"},children:"ReactFlux"})]});const E=Ku(i.content),T=Sh(E,j),k=rh(i.content,T),A=i.feed.category.id,v=i.feed.category.title;return a.jsxs("div",{className:"article-content",onBlur:()=>u(!1),onFocus:()=>u(!0),ref:r,children:[a.jsxs("div",{className:"scroll-container",children:[a.jsxs("div",{className:"article-header",style:{width:`${c}%`},children:[a.jsx(H.Title,{className:"article-title",heading:3,children:a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",children:i.title})}),a.jsxs("div",{className:"article-meta",children:[a.jsx(H.Text,{children:a.jsx(xh,{url:`/feed/${i.feed.id}`,text:i.feed.title})}),a.jsx(H.Text,{onClick:x,style:{cursor:"pointer"},children:` - ${i.author}`}),a.jsx(H.Text,{children:a.jsx(Vn,{size:"small",onClick:()=>{s(`/category/${A}`)},style:{marginLeft:"10px",cursor:"pointer"},children:v})})]}),a.jsx(H.Text,{className:"article-date",children:Ye(i.published_at).format("dddd, MMMM D, YYYY [at] h:mm A")}),a.jsx(nt,{})]}),a.jsxs("div",{className:"article-body",style:{fontSize:`${l}rem`,width:`${c}%`},children:[k,a.jsx(yh,{images:E.map(S=>({src:S,key:S})),visible:d,onClose:()=>{h(!1),u(!0)},index:g,onIndexChange:w})]},i.id)]}),a.jsx(bh,{info:e,handleEntryClick:t,entryListRef:n,entryDetailRef:r})]})});function jn(e,t,n){let r=n.initialDeps??[],s;return()=>{var i,o,c,l;let u;n.key&&((i=n.debug)!=null&&i.call(n))&&(u=Date.now());const d=e();if(!(d.length!==r.length||d.some((w,b)=>r[b]!==w)))return s;r=d;let g;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(g=Date.now()),s=t(...d),n.key&&((c=n.debug)!=null&&c.call(n))){const w=Math.round((Date.now()-u)*100)/100,b=Math.round((Date.now()-g)*100)/100,f=b/16,p=(x,j)=>{for(x=String(x);x.length<j;)x=" "+x;return x};console.info(`%câ± ${p(b,5)} /${p(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,s),s}}function fs(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const Eh=(e,t)=>Math.abs(e-t)<1,Th=(e,t)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}},jh=e=>e,_h=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Mh=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=i=>{const{width:o,height:c}=i;t({width:Math.round(o),height:Math.round(c)})};if(r(n.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const s=new ResizeObserver(i=>{const o=i[0];if(o!=null&&o.borderBoxSize){const c=o.borderBoxSize[0];if(c){r({width:c.inlineSize,height:c.blockSize});return}}r(n.getBoundingClientRect())});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},pa={passive:!0},kh=typeof window>"u"?!0:"onscrollend"in window,Ih=(e,t)=>{const n=e.scrollElement;if(!n)return;let r=0;const s=kh?()=>{}:Th(()=>{t(r,!1)},e.options.isScrollingResetDelay),i=l=>()=>{r=n[e.options.horizontal?"scrollLeft":"scrollTop"],s(),t(r,l)},o=i(!0),c=i(!1);return c(),n.addEventListener("scroll",o,pa),n.addEventListener("scrollend",c,pa),()=>{n.removeEventListener("scroll",o),n.removeEventListener("scrollend",c)}},Ah=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Oh=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class Ph{constructor(t){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(typeof ResizeObserver<"u"?n=new ResizeObserver(s=>{s.forEach(i=>{this._measureElement(i.target,i)})}):null);return{disconnect:()=>{var s;return(s=r())==null?void 0:s.disconnect()},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:jh,rangeExtractor:_h,onChange:()=>{},measureElement:Ah,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...n}},this.notify=(n,r)=>{var s,i;const{startIndex:o,endIndex:c}=this.range??{startIndex:void 0,endIndex:void 0},l=this.calculateRange();(n||o!==(l==null?void 0:l.startIndex)||c!==(l==null?void 0:l.endIndex))&&((i=(s=this.options).onChange)==null||i.call(s,this,r))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const n=this.options.getScrollElement();this.scrollElement!==n&&(this.cleanup(),this.scrollElement=n,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(r,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.scrollOffset<r?"forward":"backward":null,this.scrollOffset=r;const i=this.isScrolling;this.isScrolling=s,this.notify(i!==s,s)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=jn(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(n,r,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i}),{key:!1}),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const c=n[o];if(s.has(c.lane))continue;const l=i.get(c.lane);if(l==null||c.end>l.end?i.set(c.lane,c):c.end<l.end&&s.set(c.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,c)=>o.end===c.end?o.index-c.index:o.end-c.end)[0]:void 0},this.getMeasurements=jn(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i},o)=>{const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const l=this.measurementsCache.slice(0,c);for(let u=c;u<n;u++){const d=i(u),h=this.options.lanes===1?l[u-1]:this.getFurthestMeasurement(l,u),g=h?h.end+this.options.gap:r+s,w=o.get(d),b=typeof w=="number"?w:this.options.estimateSize(u),f=g+b,p=h?h.lane:u%this.options.lanes;l[u]={index:u,start:g,size:b,end:f,key:d,lane:p}}return this.measurementsCache=l,l},{key:!1,debug:()=>this.options.debug}),this.calculateRange=jn(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(n,r,s)=>this.range=n.length>0&&r>0?Rh({measurements:n,outerSize:r,scrollOffset:s}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=jn(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,s,i)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:s,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.measurementsCache[this.indexFromElement(n)];if(!s||!n.isConnected){this.measureElementCache.forEach((c,l)=>{c===n&&(this.observer.unobserve(n),this.measureElementCache.delete(l))});return}const i=this.measureElementCache.get(s.key);i!==n&&(i&&this.observer.unobserve(i),this.observer.observe(n),this.measureElementCache.set(s.key,n));const o=this.options.measureElement(n,r,this);this.resizeItem(s,o)},this.resizeItem=(n,r)=>{const s=this.itemSizeCache.get(n.key)??n.size,i=r-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,i,this):n.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,r)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=jn(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const c=n[i],l=r[c];s.push(l)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();return fs(r[pl(0,r.length-1,s=>fs(r[s]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const s=this.getSize();r==="auto"&&(n<=this.scrollOffset?r="start":n>=this.scrollOffset+s?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-s:r==="center"&&(n=n-s/2);const i=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-this.getSize();return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=fs(this.getMeasurements()[n]);if(r==="auto")if(s.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)r="end";else if(s.start<=this.scrollOffset+this.options.scrollPaddingStart)r="start";else return[this.scrollOffset,r];const i=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,r),r]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[i,o]=this.getOffsetForIndex(n,r);this._scrollToOffset(i,{adjustments:void 0,behavior:s}),s!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(n))){const[l]=this.getOffsetForIndex(n,o);Eh(l,this.scrollOffset)||this.scrollToIndex(n,{align:o,behavior:s})}else this.scrollToIndex(n,{align:o,behavior:s})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;return r.length===0?s=this.options.paddingStart:s=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(i=>i.end)),s-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{var n,r;this.itemSizeCache=new Map,(r=(n=this.options).onChange)==null||r.call(n,this,!1)},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(n=>{this.itemSizeCache.set(n.key,n.size)}),this.notify(!1,!1)}}const pl=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function Rh({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,i=pl(0,r,c=>e[c].start,n);let o=i;for(;o<r&&e[o].end<n+t;)o++;return{startIndex:i,endIndex:o}}const Fh=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Nh(e){const t=C.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?Ys.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=C.useState(()=>new Ph(n));return r.setOptions(n),C.useEffect(()=>r._didMount(),[]),Fh(()=>r._willUpdate()),r}function Dh(e){return Nh({observeElementRect:Mh,observeElementOffset:Ih,scrollToFn:Oh,...e})}var $h=Object.defineProperty,Lh=(e,t)=>{for(var n in t)$h(e,n,{get:t[n],enumerable:!0})},st={};Lh(st,{assign:()=>Uh,colors:()=>Nt,createStringInterpolator:()=>Ai,skipAnimation:()=>Sl,to:()=>wl,willAdvance:()=>Oi});var Ti=ir(),X=e=>sr(e,Ti),ji=ir();X.write=e=>sr(e,ji);var es=ir();X.onStart=e=>sr(e,es);var _i=ir();X.onFrame=e=>sr(e,_i);var Mi=ir();X.onFinish=e=>sr(e,Mi);var pn=[];X.setTimeout=(e,t)=>{const n=X.now()+t,r=()=>{const i=pn.findIndex(o=>o.cancel==r);~i&&pn.splice(i,1),Ft-=~i?1:0},s={time:n,handler:e,cancel:r};return pn.splice(gl(n),0,s),Ft+=1,vl(),s};var gl=e=>~(~pn.findIndex(t=>t.time>e)||~pn.length);X.cancel=e=>{es.delete(e),_i.delete(e),Mi.delete(e),Ti.delete(e),ji.delete(e)};X.sync=e=>{Os=!0,X.batchedUpdates(e),Os=!1};X.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,X.onStart(n)}return r.handler=e,r.cancel=()=>{es.delete(n),t=null},r};var ki=typeof window<"u"?window.requestAnimationFrame:()=>{};X.use=e=>ki=e;X.now=typeof performance<"u"?()=>performance.now():Date.now;X.batchedUpdates=e=>e();X.catch=console.error;X.frameLoop="always";X.advance=()=>{X.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):bl()};var Rt=-1,Ft=0,Os=!1;function sr(e,t){Os?(t.delete(e),e(0)):(t.add(e),vl())}function vl(){Rt<0&&(Rt=0,X.frameLoop!=="demand"&&ki(yl))}function Vh(){Rt=-1}function yl(){~Rt&&(ki(yl),X.batchedUpdates(bl))}function bl(){const e=Rt;Rt=X.now();const t=gl(Rt);if(t&&(xl(pn.splice(0,t),n=>n.handler()),Ft-=t),!Ft){Vh();return}es.flush(),Ti.flush(e?Math.min(64,Rt-e):16.667),_i.flush(),ji.flush(),Mi.flush()}function ir(){let e=new Set,t=e;return{add(n){Ft+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Ft-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Ft-=t.size,xl(t,r=>r(n)&&e.add(r)),Ft+=e.size,t=e)}}}function xl(e,t){e.forEach(n=>{try{t(n)}catch(r){X.catch(r)}})}function Ps(){}var zh=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),I={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ct(e,t){if(I.arr(e)){if(!I.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var ie=(e,t)=>e.forEach(t);function ht(e,t,n){if(I.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Le=e=>I.und(e)?[]:I.arr(e)?e:[e];function Fn(e,t){if(e.size){const n=Array.from(e);e.clear(),ie(n,t)}}var An=(e,...t)=>Fn(e,n=>n(...t)),Ii=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ai,wl,Nt=null,Sl=!1,Oi=Ps,Uh=e=>{e.to&&(wl=e.to),e.now&&(X.now=e.now),e.colors!==void 0&&(Nt=e.colors),e.skipAnimation!=null&&(Sl=e.skipAnimation),e.createStringInterpolator&&(Ai=e.createStringInterpolator),e.requestAnimationFrame&&X.use(e.requestAnimationFrame),e.batchedUpdates&&(X.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Oi=e.willAdvance),e.frameLoop&&(X.frameLoop=e.frameLoop)},Nn=new Set,qe=[],ms=[],Ar=0,ts={get idle(){return!Nn.size&&!qe.length},start(e){Ar>e.priority?(Nn.add(e),X.onStart(Bh)):(Cl(e),X(Rs))},advance:Rs,sort(e){if(Ar)X.onFrame(()=>ts.sort(e));else{const t=qe.indexOf(e);~t&&(qe.splice(t,1),El(e))}},clear(){qe=[],Nn.clear()}};function Bh(){Nn.forEach(Cl),Nn.clear(),X(Rs)}function Cl(e){qe.includes(e)||El(e)}function El(e){qe.splice(Hh(qe,t=>t.priority>e.priority),0,e)}function Rs(e){const t=ms;for(let n=0;n<qe.length;n++){const r=qe[n];Ar=r.priority,r.idle||(Oi(r),r.advance(e),r.idle||t.push(r))}return Ar=0,ms=qe,ms.length=0,qe=t,qe.length>0}function Hh(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Wh=(e,t,n)=>Math.min(Math.max(n,e),t),qh={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},rt="[-+]?\\d*\\.?\\d+",Or=rt+"%";function ns(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Yh=new RegExp("rgb"+ns(rt,rt,rt)),Xh=new RegExp("rgba"+ns(rt,rt,rt,rt)),Gh=new RegExp("hsl"+ns(rt,Or,Or)),Kh=new RegExp("hsla"+ns(rt,Or,Or,rt)),Qh=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Zh=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Jh=/^#([0-9a-fA-F]{6})$/,ef=/^#([0-9a-fA-F]{8})$/;function tf(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Jh.exec(e))?parseInt(t[1]+"ff",16)>>>0:Nt&&Nt[e]!==void 0?Nt[e]:(t=Yh.exec(e))?(hn(t[1])<<24|hn(t[2])<<16|hn(t[3])<<8|255)>>>0:(t=Xh.exec(e))?(hn(t[1])<<24|hn(t[2])<<16|hn(t[3])<<8|ya(t[4]))>>>0:(t=Qh.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ef.exec(e))?parseInt(t[1],16)>>>0:(t=Zh.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Gh.exec(e))?(ga(va(t[1]),vr(t[2]),vr(t[3]))|255)>>>0:(t=Kh.exec(e))?(ga(va(t[1]),vr(t[2]),vr(t[3]))|ya(t[4]))>>>0:null}function ps(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ga(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,i=ps(s,r,e+1/3),o=ps(s,r,e),c=ps(s,r,e-1/3);return Math.round(i*255)<<24|Math.round(o*255)<<16|Math.round(c*255)<<8}function hn(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function va(e){return(parseFloat(e)%360+360)%360/360}function ya(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function vr(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function ba(e){let t=tf(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,i=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${i})`}var Un=(e,t,n)=>{if(I.fun(e))return e;if(I.arr(e))return Un({range:e,output:t,extrapolate:n});if(I.str(e.output[0]))return Ai(e);const r=e,s=r.output,i=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",c=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const d=rf(u,i);return nf(u,i[d],i[d+1],s[d],s[d+1],l,o,c,r.map)}};function nf(e,t,n,r,s,i,o,c,l){let u=l?l(e):e;if(u<t){if(o==="identity")return u;o==="clamp"&&(u=t)}if(u>n){if(c==="identity")return u;c==="clamp"&&(u=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=i(u),r===-1/0?u=-u:s===1/0?u=u+r:u=u*(s-r)+r,u)}function rf(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var sf=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,s=t==="end"?Math.floor(r):Math.ceil(r);return Wh(0,1,s/e)},Pr=1.70158,yr=Pr*1.525,xa=Pr+1,wa=2*Math.PI/3,Sa=2*Math.PI/4.5,br=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,af={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>xa*e*e*e-Pr*e*e,easeOutBack:e=>1+xa*Math.pow(e-1,3)+Pr*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((yr+1)*2*e-yr)/2:(Math.pow(2*e-2,2)*((yr+1)*(e*2-2)+yr)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*wa),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*wa)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Sa))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Sa)/2+1,easeInBounce:e=>1-br(1-e),easeOutBounce:br,easeInOutBounce:e=>e<.5?(1-br(1-2*e))/2:(1+br(2*e-1))/2,steps:sf},Bn=Symbol.for("FluidValue.get"),yn=Symbol.for("FluidValue.observers"),We=e=>!!(e&&e[Bn]),Re=e=>e&&e[Bn]?e[Bn]():e,Ca=e=>e[yn]||null;function of(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Hn(e,t){const n=e[yn];n&&n.forEach(r=>{of(r,t)})}var Tl=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");lf(this,e)}},lf=(e,t)=>jl(e,Bn,t);function wn(e,t){if(e[Bn]){let n=e[yn];n||jl(e,yn,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Wn(e,t){const n=e[yn];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[yn]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var jl=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Er=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,cf=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ea=new RegExp(`(${Er.source})(%|[a-z]+)`,"i"),uf=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,rs=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,_l=e=>{const[t,n]=df(e);if(!t||Ii())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&rs.test(n))return _l(n);if(n)return n}return e},df=e=>{const t=rs.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},gs,hf=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,Ml=e=>{gs||(gs=Nt?new RegExp(`(${Object.keys(Nt).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>Re(i).replace(rs,_l).replace(cf,ba).replace(gs,ba)),n=t.map(i=>i.match(Er).map(Number)),s=n[0].map((i,o)=>n.map(c=>{if(!(o in c))throw Error('The arity of each "output" value must be equal');return c[o]})).map(i=>Un({...e,output:i}));return i=>{var l;const o=!Ea.test(t[0])&&((l=t.find(u=>Ea.test(u)))==null?void 0:l.replace(Er,""));let c=0;return t[0].replace(Er,()=>`${s[c++](i)}${o||""}`).replace(uf,hf)}},Pi="react-spring: ",kl=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Pi}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},ff=kl(console.warn);function mf(){ff(`${Pi}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var pf=kl(console.warn);function gf(){pf(`${Pi}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ss(e){return I.str(e)&&(e[0]=="#"||/\d/.test(e)||!Ii()&&rs.test(e)||e in(Nt||{}))}var Ri=Ii()?C.useEffect:C.useLayoutEffect,vf=()=>{const e=C.useRef(!1);return Ri(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Il(){const e=C.useState()[1],t=vf();return()=>{t.current&&e(Math.random())}}function yf(e,t){const[n]=C.useState(()=>({inputs:t,result:e()})),r=C.useRef(),s=r.current;let i=s;return i?t&&i.inputs&&bf(t,i.inputs)||(i={inputs:t,result:e()}):i=n,C.useEffect(()=>{r.current=i,s==n&&(n.inputs=n.result=void 0)},[i]),i.result}function bf(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var Al=e=>C.useEffect(e,xf),xf=[];function Ta(e){const t=C.useRef();return C.useEffect(()=>{t.current=e}),t.current}var qn=Symbol.for("Animated:node"),wf=e=>!!e&&e[qn]===e,ut=e=>e&&e[qn],Fi=(e,t)=>zh(e,qn,t),is=e=>e&&e[qn]&&e[qn].getPayload(),Ol=class{constructor(){Fi(this,this)}getPayload(){return this.payload||[]}},ar=class extends Ol{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,I.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new ar(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return I.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,I.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Yn=class extends ar{constructor(e){super(0),this._string=null,this._toString=Un({output:[e,e]})}static create(e){return new Yn(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(I.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Un({output:[this.getValue(),e]})),this._value=0,super.reset()}},Rr={dependencies:null},as=class extends Ol{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return ht(this.source,(n,r)=>{wf(n)?t[r]=n.getValue(e):We(n)?t[r]=Re(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&ie(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return ht(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Rr.dependencies&&We(e)&&Rr.dependencies.add(e);const t=is(e);t&&ie(t,n=>this.add(n))}},Pl=class extends as{constructor(e){super(e)}static create(e){return new Pl(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Sf)),!0)}};function Sf(e){return(ss(e)?Yn:ar).create(e)}function Fs(e){const t=ut(e);return t?t.constructor:I.arr(e)?Pl:ss(e)?Yn:ar}var ja=(e,t)=>{const n=!I.fun(e)||e.prototype&&e.prototype.isReactComponent;return C.forwardRef((r,s)=>{const i=C.useRef(null),o=n&&C.useCallback(b=>{i.current=Tf(s,b)},[s]),[c,l]=Ef(r,t),u=Il(),d=()=>{const b=i.current;if(n&&!b)return;(b?t.applyAnimatedValues(b,c.getValue(!0)):!1)===!1&&u()},h=new Cf(d,l),g=C.useRef();Ri(()=>(g.current=h,ie(l,b=>wn(b,h)),()=>{g.current&&(ie(g.current.deps,b=>Wn(b,g.current)),X.cancel(g.current.update))})),C.useEffect(d,[]),Al(()=>()=>{const b=g.current;ie(b.deps,f=>Wn(f,b))});const w=t.getComponentProps(c.getValue());return C.createElement(e,{...w,ref:o})})},Cf=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&X.write(this.update)}};function Ef(e,t){const n=new Set;return Rr.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new as(e),Rr.dependencies=null,[e,n]}function Tf(e,t){return e&&(I.fun(e)?e(t):e.current=t),t}var _a=Symbol.for("AnimatedComponent"),jf=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new as(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=o=>{const c=Ma(o)||"Anonymous";return I.str(o)?o=i[o]||(i[o]=ja(o,s)):o=o[_a]||(o[_a]=ja(o,s)),o.displayName=`Animated(${c})`,o};return ht(e,(o,c)=>{I.arr(e)&&(c=Ma(o)),i[c]=i(o)}),{animated:i}},Ma=e=>I.str(e)?e:e&&I.str(e.displayName)?e.displayName:I.fun(e)&&e.name||null;function Jt(e,...t){return I.fun(e)?e(...t):e}var Dn=(e,t)=>e===!0||!!(t&&e&&(I.fun(e)?e(t):Le(e).includes(t))),Rl=(e,t)=>I.obj(e)?t&&e[t]:e,Fl=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,_f=e=>e,Ni=(e,t=_f)=>{let n=Mf;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const i=t(e[s],s);I.und(i)||(r[s]=i)}return r},Mf=["config","onProps","onStart","onChange","onPause","onResume","onRest"],kf={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function If(e){const t={};let n=0;if(ht(e,(r,s)=>{kf[s]||(t[s]=r,n++)}),n)return t}function Nl(e){const t=If(e);if(t){const n={to:t};return ht(e,(r,s)=>s in t||(n[s]=r)),n}return{...e}}function Xn(e){return e=Re(e),I.arr(e)?e.map(Xn):ss(e)?st.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Af(e){for(const t in e)return!0;return!1}function Ns(e){return I.fun(e)||I.arr(e)&&I.obj(e[0])}function Of(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Pf(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var Rf={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Ds={...Rf.default,mass:1,damping:1,easing:af.linear,clamp:!1},Ff=class{constructor(){this.velocity=0,Object.assign(this,Ds)}};function Nf(e,t,n){n&&(n={...n},ka(n,t),t={...n,...t}),ka(e,t),Object.assign(e,t);for(const o in Ds)e[o]==null&&(e[o]=Ds[o]);let{frequency:r,damping:s}=e;const{mass:i}=e;return I.und(r)||(r<.01&&(r=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/r,2)*i,e.friction=4*Math.PI*s*i/r),e}function ka(e,t){if(!I.und(t.decay))e.duration=void 0;else{const n=!I.und(t.tension)||!I.und(t.friction);(n||!I.und(t.frequency)||!I.und(t.damping)||!I.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var Ia=[],Df=class{constructor(){this.changed=!1,this.values=Ia,this.toValues=null,this.fromValues=Ia,this.config=new Ff,this.immediate=!1}};function Dl(e,{key:t,props:n,defaultProps:r,state:s,actions:i}){return new Promise((o,c)=>{let l,u,d=Dn(n.cancel??(r==null?void 0:r.cancel),t);if(d)w();else{I.und(n.pause)||(s.paused=Dn(n.pause,t));let b=r==null?void 0:r.pause;b!==!0&&(b=s.paused||Dn(b,t)),l=Jt(n.delay||0,t),b?(s.resumeQueue.add(g),i.pause()):(i.resume(),g())}function h(){s.resumeQueue.add(g),s.timeouts.delete(u),u.cancel(),l=u.time-X.now()}function g(){l>0&&!st.skipAnimation?(s.delayed=!0,u=X.setTimeout(w,l),s.pauseQueue.add(h),s.timeouts.add(u)):w()}function w(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(h),s.timeouts.delete(u),e<=(s.cancelId||0)&&(d=!0);try{i.start({...n,callId:e,cancel:d},o)}catch(b){c(b)}}})}var Di=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?gn(e.get()):t.every(n=>n.noop)?$l(e.get()):tt(e.get(),t.every(n=>n.finished)),$l=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),tt=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),gn=e=>({value:e,cancelled:!0,finished:!1});function Ll(e,t,n,r){const{callId:s,parentId:i,onRest:o}=t,{asyncTo:c,promise:l}=n;return!i&&e===c&&!t.reset?l:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const u=Ni(t,(p,x)=>x==="onRest"?void 0:p);let d,h;const g=new Promise((p,x)=>(d=p,h=x)),w=p=>{const x=s<=(n.cancelId||0)&&gn(r)||s!==n.asyncId&&tt(r,!1);if(x)throw p.result=x,h(p),p},b=(p,x)=>{const j=new Aa,E=new Oa;return(async()=>{if(st.skipAnimation)throw Gn(n),E.result=tt(r,!1),h(E),E;w(j);const T=I.obj(p)?{...p}:{...x,to:p};T.parentId=s,ht(u,(A,v)=>{I.und(T[v])&&(T[v]=A)});const k=await r.start(T);return w(j),n.paused&&await new Promise(A=>{n.resumeQueue.add(A)}),k})()};let f;if(st.skipAnimation)return Gn(n),tt(r,!1);try{let p;I.arr(e)?p=(async x=>{for(const j of x)await b(j)})(e):p=Promise.resolve(e(b,r.stop.bind(r))),await Promise.all([p.then(d),g]),f=tt(r.get(),!0,!1)}catch(p){if(p instanceof Aa)f=p.result;else if(p instanceof Oa)f=p.result;else throw p}finally{s==n.asyncId&&(n.asyncId=i,n.asyncTo=i?c:void 0,n.promise=i?l:void 0)}return I.fun(o)&&X.batchedUpdates(()=>{o(f,r,r.item)}),f})()}function Gn(e,t){Fn(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Aa=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Oa=class extends Error{constructor(){super("SkipAnimationSignal")}},$s=e=>e instanceof $i,$f=1,$i=class extends Tl{constructor(){super(...arguments),this.id=$f++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ut(this);return e&&e.getValue()}to(...e){return st.to(this,e)}interpolate(...e){return mf(),st.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Hn(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||ts.sort(this),Hn(this,{type:"priority",parent:this,priority:e})}},en=Symbol.for("SpringPhase"),Vl=1,Ls=2,Vs=4,vs=e=>(e[en]&Vl)>0,Ot=e=>(e[en]&Ls)>0,_n=e=>(e[en]&Vs)>0,Pa=(e,t)=>t?e[en]|=Ls|Vl:e[en]&=~Ls,Ra=(e,t)=>t?e[en]|=Vs:e[en]&=~Vs,Lf=class extends $i{constructor(e,t){if(super(),this.animation=new Df,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!I.und(e)||!I.und(t)){const n=I.obj(e)?{...e}:{...t,from:e};I.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ot(this)||this._state.asyncTo)||_n(this)}get goal(){return Re(this.animation.to)}get velocity(){const e=ut(this);return e instanceof ar?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return vs(this)}get isAnimating(){return Ot(this)}get isPaused(){return _n(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:s}=r;const{config:i}=r,o=is(r.to);!o&&We(r.to)&&(s=Le(Re(r.to))),r.values.forEach((u,d)=>{if(u.done)return;const h=u.constructor==Yn?1:o?o[d].lastPosition:s[d];let g=r.immediate,w=h;if(!g){if(w=u.lastPosition,i.tension<=0){u.done=!0;return}let b=u.elapsedTime+=e;const f=r.fromValues[d],p=u.v0!=null?u.v0:u.v0=I.arr(i.velocity)?i.velocity[d]:i.velocity;let x;const j=i.precision||(f==h?.005:Math.min(1,Math.abs(h-f)*.001));if(I.und(i.duration))if(i.decay){const E=i.decay===!0?.998:i.decay,T=Math.exp(-(1-E)*b);w=f+p/(1-E)*(1-T),g=Math.abs(u.lastPosition-w)<=j,x=p*T}else{x=u.lastVelocity==null?p:u.lastVelocity;const E=i.restVelocity||j/10,T=i.clamp?0:i.bounce,k=!I.und(T),A=f==h?u.v0>0:f<h;let v,S=!1;const M=1,O=Math.ceil(e/M);for(let P=0;P<O&&(v=Math.abs(x)>E,!(!v&&(g=Math.abs(h-w)<=j,g)));++P){k&&(S=w==h||w>h==A,S&&(x=-x*T,w=h));const q=-i.tension*1e-6*(w-h),oe=-i.friction*.001*x,ae=(q+oe)/i.mass;x=x+ae*M,w=w+x*M}}else{let E=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,b=u.elapsedTime+=e)),E=(i.progress||0)+b/this._memoizedDuration,E=E>1?1:E<0?0:E,u.durationProgress=E),w=f+i.easing(E)*(h-f),x=(w-u.lastPosition)/e,g=E==1}u.lastVelocity=x,Number.isNaN(w)&&(console.warn("Got NaN while animating:",this),g=!0)}o&&!o[d].done&&(g=!1),g?u.done=!0:t=!1,u.setValue(w,i.round)&&(n=!0)});const c=ut(this),l=c.getValue();if(t){const u=Re(r.to);(l!==u||n)&&!i.decay?(c.setValue(u),this._onChange(u)):n&&i.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(e){return X.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ot(this)){const{to:e,config:t}=this.animation;X.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return I.und(e)?(n=this.queue||[],this.queue=[]):n=[I.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Di(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Gn(this._state,e&&this._lastCallId),X.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=I.obj(n)?n[t]:n,(n==null||Ns(n))&&(n=void 0),r=I.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:n,from:r};return vs(this)||(e.reverse&&([n,r]=[r,n]),r=Re(r),I.und(r)?ut(this)||this._set(n):this._set(r)),s}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Ni(e,(o,c)=>/^on/.test(c)?Rl(o,n):o)),Na(this,e,"onProps"),kn(this,"onProps",e,this);const s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return Dl(++this._lastCallId,{key:n,props:e,defaultProps:r,state:i,actions:{pause:()=>{_n(this)||(Ra(this,!0),An(i.pauseQueue),kn(this,"onPause",tt(this,Mn(this,this.animation.to)),this))},resume:()=>{_n(this)&&(Ra(this,!1),Ot(this)&&this._resume(),An(i.resumeQueue),kn(this,"onResume",tt(this,Mn(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const c=zl(e);if(c)return this._update(c,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(gn(this));const r=!I.und(e.to),s=!I.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(gn(this));const{key:i,defaultProps:o,animation:c}=this,{to:l,from:u}=c;let{to:d=l,from:h=u}=e;s&&!r&&(!t.default||I.und(d))&&(d=h),t.reverse&&([d,h]=[h,d]);const g=!Ct(h,u);g&&(c.from=h),h=Re(h);const w=!Ct(d,l);w&&this._focus(d);const b=Ns(t.to),{config:f}=c,{decay:p,velocity:x}=f;(r||s)&&(f.velocity=0),t.config&&!b&&Nf(f,Jt(t.config,i),t.config!==o.config?Jt(o.config,i):void 0);let j=ut(this);if(!j||I.und(d))return n(tt(this,!0));const E=I.und(t.reset)?s&&!t.default:!I.und(h)&&Dn(t.reset,i),T=E?h:this.get(),k=Xn(d),A=I.num(k)||I.arr(k)||ss(k),v=!b&&(!A||Dn(o.immediate||t.immediate,i));if(w){const P=Fs(d);if(P!==j.constructor)if(v)j=this._set(k);else throw Error(`Cannot animate between ${j.constructor.name} and ${P.name}, as the "to" prop suggests`)}const S=j.constructor;let M=We(d),O=!1;if(!M){const P=E||!vs(this)&&g;(w||P)&&(O=Ct(Xn(T),k),M=!O),(!Ct(c.immediate,v)&&!v||!Ct(f.decay,p)||!Ct(f.velocity,x))&&(M=!0)}if(O&&Ot(this)&&(c.changed&&!E?M=!0:M||this._stop(l)),!b&&((M||We(l))&&(c.values=j.getPayload(),c.toValues=We(d)?null:S==Yn?[1]:Le(k)),c.immediate!=v&&(c.immediate=v,!v&&!E&&this._set(l)),M)){const{onRest:P}=c;ie(zf,oe=>Na(this,t,oe));const q=tt(this,Mn(this,l));An(this._pendingCalls,q),this._pendingCalls.add(n),c.changed&&X.batchedUpdates(()=>{var oe;c.changed=!E,P==null||P(q,this),E?Jt(o.onRest,q):(oe=c.onStart)==null||oe.call(c,q,this)})}E&&this._set(T),b?n(Ll(t.to,t,this._state,this)):M?this._start():Ot(this)&&!w?this._pendingCalls.add(n):n($l(T))}_focus(e){const t=this.animation;e!==t.to&&(Ca(this)&&this._detach(),t.to=e,Ca(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;We(t)&&(wn(t,this),$s(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;We(e)&&Wn(e,this)}_set(e,t=!0){const n=Re(e);if(!I.und(n)){const r=ut(this);if(!r||!Ct(n,r.getValue())){const s=Fs(n);!r||r.constructor!=s?Fi(this,s.create(n)):r.setValue(n),r&&X.batchedUpdates(()=>{this._onChange(n,t)})}}return ut(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,kn(this,"onStart",tt(this,Mn(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Jt(this.animation.onChange,e,this)),Jt(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ut(this).reset(Re(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Ot(this)||(Pa(this,!0),_n(this)||this._resume())}_resume(){st.skipAnimation?this.finish():ts.start(this)}_stop(e,t){if(Ot(this)){Pa(this,!1);const n=this.animation;ie(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Hn(this,{type:"idle",parent:this});const r=t?gn(this.get()):tt(this.get(),Mn(this,e??n.to));An(this._pendingCalls,r),n.changed&&(n.changed=!1,kn(this,"onRest",r,this))}}};function Mn(e,t){const n=Xn(t),r=Xn(e.get());return Ct(r,n)}function zl(e,t=e.loop,n=e.to){const r=Jt(t);if(r){const s=r!==!0&&Nl(r),i=(s||e).reverse,o=!s||s.reset;return Kn({...e,loop:t,default:!1,pause:void 0,to:!i||Ns(n)?n:void 0,from:o?e.from:void 0,reset:o,...s})}}function Kn(e){const{to:t,from:n}=e=Nl(e),r=new Set;return I.obj(t)&&Fa(t,r),I.obj(n)&&Fa(n,r),e.keys=r.size?Array.from(r):null,e}function Vf(e){const t=Kn(e);return I.und(t.default)&&(t.default=Ni(t)),t}function Fa(e,t){ht(e,(n,r)=>n!=null&&t.add(r))}var zf=["onStart","onRest","onChange","onPause","onResume"];function Na(e,t,n){e.animation[n]=t[n]!==Fl(t,n)?Rl(t[n],e.key):void 0}function kn(e,t,...n){var r,s,i,o;(s=(r=e.animation)[t])==null||s.call(r,...n),(o=(i=e.defaultProps)[t])==null||o.call(i,...n)}var Uf=["onStart","onChange","onRest"],Bf=1,Hf=class{constructor(e,t){this.id=Bf++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];I.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Kn(e)),this}start(e){let{queue:t}=this;return e?t=Le(e).map(Kn):this.queue=[],this._flush?this._flush(this,t):(ql(this,t),zs(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;ie(Le(t),r=>n[r].stop(!!e))}else Gn(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(I.und(e))this.start({pause:!0});else{const t=this.springs;ie(Le(e),n=>t[n].pause())}return this}resume(e){if(I.und(e))this.start({pause:!1});else{const t=this.springs;ie(Le(e),n=>t[n].resume())}return this}each(e){ht(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,Fn(e,([c,l])=>{l.value=this.get(),c(l,this,this._item)}));const i=!r&&this._started,o=s||i&&n.size?this.get():null;s&&t.size&&Fn(t,([c,l])=>{l.value=o,c(l,this,this._item)}),i&&(this._started=!1,Fn(n,([c,l])=>{l.value=o,c(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;X.onFrame(this._onFrame)}};function zs(e,t){return Promise.all(t.map(n=>Ul(e,n))).then(n=>Di(e,n))}async function Ul(e,t,n){const{keys:r,to:s,from:i,loop:o,onRest:c,onResolve:l}=t,u=I.obj(t.default)&&t.default;o&&(t.loop=!1),s===!1&&(t.to=null),i===!1&&(t.from=null);const d=I.arr(s)||I.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):ie(Uf,f=>{const p=t[f];if(I.fun(p)){const x=e._events[f];t[f]=({finished:j,cancelled:E})=>{const T=x.get(p);T?(j||(T.finished=!1),E&&(T.cancelled=!0)):x.set(p,{value:null,finished:j||!1,cancelled:E||!1})},u&&(u[f]=t[f])}});const h=e._state;t.pause===!h.paused?(h.paused=t.pause,An(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const g=(r||Object.keys(e.springs)).map(f=>e.springs[f].start(t)),w=t.cancel===!0||Fl(t,"cancel")===!0;(d||w&&h.asyncId)&&g.push(Dl(++e._lastAsyncId,{props:t,state:h,actions:{pause:Ps,resume:Ps,start(f,p){w?(Gn(h,e._lastAsyncId),p(gn(e))):(f.onRest=c,p(Ll(d,f,h,e)))}}})),h.paused&&await new Promise(f=>{h.resumeQueue.add(f)});const b=Di(e,await Promise.all(g));if(o&&b.finished&&!(n&&b.noop)){const f=zl(t,o,s);if(f)return ql(e,[f]),Ul(e,f,!0)}return l&&X.batchedUpdates(()=>l(b,e,e.item)),b}function Da(e,t){const n={...e.springs};return t&&ie(Le(t),r=>{I.und(r.keys)&&(r=Kn(r)),I.obj(r.to)||(r={...r,to:void 0}),Wl(n,r,s=>Hl(s))}),Bl(e,n),n}function Bl(e,t){ht(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,wn(n,e))})}function Hl(e,t){const n=new Lf;return n.key=e,t&&wn(n,t),n}function Wl(e,t,n){t.keys&&ie(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function ql(e,t){ie(t,n=>{Wl(e.springs,n,r=>Hl(r,e))})}var os=({children:e,...t})=>{const n=C.useContext(Fr),r=t.pause||!!n.pause,s=t.immediate||!!n.immediate;t=yf(()=>({pause:r,immediate:s}),[r,s]);const{Provider:i}=Fr;return C.createElement(i,{value:t},e)},Fr=Wf(os,{});os.Provider=Fr.Provider;os.Consumer=Fr.Consumer;function Wf(e,t){return Object.assign(e,C.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var qf=()=>{const e=[],t=function(r){gf();const s=[];return ie(e,(i,o)=>{if(I.und(r))s.push(i.start());else{const c=n(r,i,o);c&&s.push(i.start(c))}}),s};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return ie(e,r=>r.pause(...arguments)),this},t.resume=function(){return ie(e,r=>r.resume(...arguments)),this},t.set=function(r){ie(e,(s,i)=>{const o=I.fun(r)?r(i,s):r;o&&s.set(o)})},t.start=function(r){const s=[];return ie(e,(i,o)=>{if(I.und(r))s.push(i.start());else{const c=this._getProps(r,i,o);c&&s.push(i.start(c))}}),s},t.stop=function(){return ie(e,r=>r.stop(...arguments)),this},t.update=function(r){return ie(e,(s,i)=>s.update(this._getProps(r,s,i))),this};const n=function(r,s,i){return I.fun(r)?r(i,s):r};return t._getProps=n,t};function Yf(e,t,n){const r=I.fun(t)&&t;r&&!n&&(n=[]);const s=C.useMemo(()=>r||arguments.length==3?qf():void 0,[]),i=C.useRef(0),o=Il(),c=C.useMemo(()=>({ctrls:[],queue:[],flush(x,j){const E=Da(x,j);return i.current>0&&!c.queue.length&&!Object.keys(E).some(k=>!x.springs[k])?zs(x,j):new Promise(k=>{Bl(x,E),c.queue.push(()=>{k(zs(x,j))}),o()})}}),[]),l=C.useRef([...c.ctrls]),u=[],d=Ta(e)||0;C.useMemo(()=>{ie(l.current.slice(e,d),x=>{Of(x,s),x.stop(!0)}),l.current.length=e,h(d,e)},[e]),C.useMemo(()=>{h(0,Math.min(d,e))},n);function h(x,j){for(let E=x;E<j;E++){const T=l.current[E]||(l.current[E]=new Hf(null,c.flush)),k=r?r(E,T):t[E];k&&(u[E]=Vf(k))}}const g=l.current.map((x,j)=>Da(x,u[j])),w=C.useContext(os),b=Ta(w),f=w!==b&&Af(w);Ri(()=>{i.current++,c.ctrls=l.current;const{queue:x}=c;x.length&&(c.queue=[],ie(x,j=>j())),ie(l.current,(j,E)=>{s==null||s.add(j),f&&j.start({default:w});const T=u[E];T&&(Pf(j,T.ref),j.ref?j.queue.push(T):j.start(T))})}),Al(()=>()=>{ie(c.ctrls,x=>x.stop(!0))});const p=g.map(x=>({...x}));return s?[p,s]:p}function Xf(e,t){const n=I.fun(e),[[r],s]=Yf(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,s]:r}var Gf=class extends $i{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Un(...t);const n=this._get(),r=Fs(n);Fi(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Ct(t,n)||(ut(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&$a(this._active)&&ys(this)}_get(){const e=I.arr(this.source)?this.source.map(Re):Le(Re(this.source));return this.calc(...e)}_start(){this.idle&&!$a(this._active)&&(this.idle=!1,ie(is(this),e=>{e.done=!1}),st.skipAnimation?(X.batchedUpdates(()=>this.advance()),ys(this)):ts.start(this))}_attach(){let e=1;ie(Le(this.source),t=>{We(t)&&wn(t,this),$s(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){ie(Le(this.source),e=>{We(e)&&Wn(e,this)}),this._active.clear(),ys(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Le(this.source).reduce((t,n)=>Math.max(t,($s(n)?n.priority:0)+1),0))}};function Kf(e){return e.idle!==!1}function $a(e){return!e.size||Array.from(e).every(Kf)}function ys(e){e.idle||(e.idle=!0,ie(is(e),t=>{t.done=!0}),Hn(e,{type:"idle",parent:e}))}st.assign({createStringInterpolator:Ml,to:(e,t)=>new Gf(e,t)});var Yl=/^--/;function Qf(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Yl.test(e)&&!($n.hasOwnProperty(e)&&$n[e])?t+"px":(""+t).trim()}var La={};function Zf(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:s,scrollTop:i,scrollLeft:o,viewBox:c,...l}=t,u=Object.values(l),d=Object.keys(l).map(h=>n||e.hasAttribute(h)?h:La[h]||(La[h]=h.replace(/([A-Z])/g,g=>"-"+g.toLowerCase())));s!==void 0&&(e.textContent=s);for(const h in r)if(r.hasOwnProperty(h)){const g=Qf(h,r[h]);Yl.test(h)?e.style.setProperty(h,g):e.style[h]=g}d.forEach((h,g)=>{e.setAttribute(h,u[g])}),i!==void 0&&(e.scrollTop=i),o!==void 0&&(e.scrollLeft=o),c!==void 0&&e.setAttribute("viewBox",c)}var $n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jf=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),em=["Webkit","Ms","Moz","O"];$n=Object.keys($n).reduce((e,t)=>(em.forEach(n=>e[Jf(n,t)]=e[t]),e),$n);var tm=/^(matrix|translate|scale|rotate|skew)/,nm=/^(translate)/,rm=/^(rotate|skew)/,bs=(e,t)=>I.num(e)&&e!==0?e+t:e,Tr=(e,t)=>I.arr(e)?e.every(n=>Tr(n,t)):I.num(e)?e===t:parseFloat(e)===t,sm=class extends as{constructor({x:e,y:t,z:n,...r}){const s=[],i=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),i.push(o=>[`translate3d(${o.map(c=>bs(c,"px")).join(",")})`,Tr(o,0)])),ht(r,(o,c)=>{if(c==="transform")s.push([o||""]),i.push(l=>[l,l===""]);else if(tm.test(c)){if(delete r[c],I.und(o))return;const l=nm.test(c)?"px":rm.test(c)?"deg":"";s.push(Le(o)),i.push(c==="rotate3d"?([u,d,h,g])=>[`rotate3d(${u},${d},${h},${bs(g,l)})`,Tr(g,0)]:u=>[`${c}(${u.map(d=>bs(d,l)).join(",")})`,Tr(u,c.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new im(s,i)),super(r)}},im=class extends Tl{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return ie(this.inputs,(n,r)=>{const s=Re(n[0]),[i,o]=this.transforms[r](I.arr(s)?s:n.map(Re));e+=" "+i,t=t&&o}),t?"none":e}observerAdded(e){e==1&&ie(this.inputs,t=>ie(t,n=>We(n)&&wn(n,this)))}observerRemoved(e){e==0&&ie(this.inputs,t=>ie(t,n=>We(n)&&Wn(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Hn(this,e)}},am=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];st.assign({batchedUpdates:Ys.unstable_batchedUpdates,createStringInterpolator:Ml,colors:qh});var om=jf(am,{applyAnimatedValues:Zf,createAnimatedStyle:e=>new sm(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),lm=om.animated,Us=new Map,xr=new WeakMap,Va=0,cm=void 0;function um(e){return e?(xr.has(e)||(Va+=1,xr.set(e,Va.toString())),xr.get(e)):"0"}function dm(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?um(e.root):e[t]}`).toString()}function hm(e){const t=dm(e);let n=Us.get(t);if(!n){const r=new Map;let s;const i=new IntersectionObserver(o=>{o.forEach(c=>{var l;const u=c.isIntersecting&&s.some(d=>c.intersectionRatio>=d);e.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=u),(l=r.get(c.target))==null||l.forEach(d=>{d(u,c)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:r},Us.set(t,n)}return n}function fm(e,t,n={},r=cm){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:s,observer:i,elements:o}=hm(n),c=o.get(e)||[];return o.has(e)||o.set(e,c),c.push(t),i.observe(e),function(){c.splice(c.indexOf(t),1),c.length===0&&(o.delete(e),i.unobserve(e)),o.size===0&&(i.disconnect(),Us.delete(s))}}function Li({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:s,triggerOnce:i,skip:o,initialInView:c,fallbackInView:l,onChange:u}={}){var d;const[h,g]=C.useState(null),w=C.useRef(),[b,f]=C.useState({inView:!!c,entry:void 0});w.current=u,C.useEffect(()=>{if(o||!h)return;let E;return E=fm(h,(T,k)=>{f({inView:T,entry:k}),w.current&&w.current(T,k),k.isIntersecting&&i&&E&&(E(),E=void 0)},{root:s,rootMargin:r,threshold:e,trackVisibility:n,delay:t},l),()=>{E&&E()}},[Array.isArray(e)?e.toString():e,h,s,r,i,o,n,l,t]);const p=(d=b.entry)==null?void 0:d.target,x=C.useRef();!h&&p&&!i&&!o&&x.current!==p&&(x.current=p,f({inView:!!c,entry:void 0}));const j=[g,b.inView,b.entry];return j.ref=j[0],j.inView=j[1],j.entry=j[2],j}const mm="Left",pm="Right",gm="Up",vm="Down",mn={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Bs={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},za="mousemove",Ua="mouseup",ym="touchend",bm="touchmove",xm="touchstart";function wm(e,t,n,r){return e>t?n>0?pm:mm:r>0?vm:gm}function Ba(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),s=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,s]}function Sm(e,t){const n=d=>{const h="touches"in d;h&&d.touches.length>1||e((g,w)=>{w.trackMouse&&!h&&(document.addEventListener(za,r),document.addEventListener(Ua,o));const{clientX:b,clientY:f}=h?d.touches[0]:d,p=Ba([b,f],w.rotationAngle);return w.onTouchStartOrOnMouseDown&&w.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},g),Bs),{initial:p.slice(),xy:p,start:d.timeStamp||0})})},r=d=>{e((h,g)=>{const w="touches"in d;if(w&&d.touches.length>1)return h;if(d.timeStamp-h.start>g.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;const{clientX:b,clientY:f}=w?d.touches[0]:d,[p,x]=Ba([b,f],g.rotationAngle),j=p-h.xy[0],E=x-h.xy[1],T=Math.abs(j),k=Math.abs(E),A=(d.timeStamp||0)-h.start,v=Math.sqrt(T*T+k*k)/(A||1),S=[j/(A||1),E/(A||1)],M=wm(T,k,j,E),O=typeof g.delta=="number"?g.delta:g.delta[M.toLowerCase()]||mn.delta;if(T<O&&k<O&&!h.swiping)return h;const P={absX:T,absY:k,deltaX:j,deltaY:E,dir:M,event:d,first:h.first,initial:h.initial,velocity:v,vxvy:S};P.first&&g.onSwipeStart&&g.onSwipeStart(P),g.onSwiping&&g.onSwiping(P);let q=!1;return(g.onSwiping||g.onSwiped||g[`onSwiped${M}`])&&(q=!0),q&&g.preventScrollOnSwipe&&g.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:P,swiping:!0})})},s=d=>{e((h,g)=>{let w;if(h.swiping&&h.eventData){if(d.timeStamp-h.start<g.swipeDuration){w=Object.assign(Object.assign({},h.eventData),{event:d}),g.onSwiped&&g.onSwiped(w);const b=g[`onSwiped${w.dir}`];b&&b(w)}}else g.onTap&&g.onTap({event:d});return g.onTouchEndOrOnMouseUp&&g.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},h),Bs),{eventData:w})})},i=()=>{document.removeEventListener(za,r),document.removeEventListener(Ua,o)},o=d=>{i(),s(d)},c=(d,h)=>{let g=()=>{};if(d&&d.addEventListener){const w=Object.assign(Object.assign({},mn.touchEventOptions),h.touchEventOptions),b=[[xm,n,w],[bm,r,Object.assign(Object.assign({},w),h.preventScrollOnSwipe?{passive:!1}:{})],[ym,s,w]];b.forEach(([f,p,x])=>d.addEventListener(f,p,x)),g=()=>b.forEach(([f,p])=>d.removeEventListener(f,p))}return g},u={ref:d=>{d!==null&&e((h,g)=>{if(h.el===d)return h;const w={};return h.el&&h.el!==d&&h.cleanUpTouch&&(h.cleanUpTouch(),w.cleanUpTouch=void 0),g.trackTouch&&d&&(w.cleanUpTouch=c(d,g)),Object.assign(Object.assign(Object.assign({},h),{el:d}),w)})}};return t.trackMouse&&(u.onMouseDown=n),[u,c]}function Cm(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function Em(e){const{trackMouse:t}=e,n=C.useRef(Object.assign({},Bs)),r=C.useRef(Object.assign({},mn)),s=C.useRef(Object.assign({},r.current));s.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},mn),e);let i;for(i in mn)r.current[i]===void 0&&(r.current[i]=mn[i]);const[o,c]=C.useMemo(()=>Sm(l=>n.current=l(n.current,r.current),{trackMouse:t}),[t]);return n.current=Cm(n.current,r.current,s.current,c),o}const Tm=({alt:e,borderRadius:t,height:n,src:r,status:s,width:i})=>{const[o,c]=C.useState(!1),{ref:l}=Li({onChange:(u,d)=>{if(u&&!o){const h=new Image;h.onload=()=>c(!0),h.onerror=()=>{d.target.style.display="none"},h.src=r}}});return a.jsx("div",{className:"image-container",ref:l,children:a.jsx("div",{className:"img-placeholder",style:{width:"100%",height:"100%",backgroundColor:"var(--color-fill-2)",position:"absolute",left:0,top:0},children:o?a.jsx("img",{className:s==="unread"?"":"read",src:r,alt:e,style:{width:i,height:n,objectFit:"cover",borderRadius:t}}):a.jsx("div",{className:"skeleton-container",children:a.jsx(jr,{text:{rows:0},image:{style:{width:i,height:n,margin:"0",borderRadius:t}},animation:!0})})})})},jm=({entry:e,isThumbnail:t})=>{const n={width:t?"80px":"100%",height:t?"80px":"160px"};return e.imgSrc?a.jsx("div",{className:t?"thumbnail":"cover-image",children:a.jsx(Tm,{alt:e.id,borderRadius:t?"2px":void 0,src:e.imgSrc,status:e.status,width:n.width,height:n.height})}):null},_m=({entry:e,showFeedIcon:t,mini:n,children:r})=>{const s=qs({"article-card-mini-content":n,"article-card-mini-content-padding":n&&t});return a.jsxs("div",{className:s,style:{width:"100%",boxSizing:"border-box"},children:[a.jsx("div",{style:{padding:e.imgSrc?n?"0 10px 0 0":"0 0 10px 0":"0"},children:a.jsx(jm,{entry:e,isThumbnail:n})}),a.jsxs("div",{className:n?"article-card-mini-content-text":"",children:[a.jsx(H.Text,{className:e.status==="unread"?"title-unread":"title-read",children:e.title}),a.jsxs(H.Text,{className:"article-info",children:[a.jsx("br",{}),t&&a.jsx(go,{feed:e.feed,className:n?"feed-icon-mini":"feed-icon"}),e.feed.title,a.jsx("br",{}),So(e.published_at)]}),e.starred&&a.jsx(Xs,{className:"icon-starred"})]}),a.jsx("div",{children:r})]})},Mm=({entry:e,handleEntryClick:t,mini:n,children:r})=>{const{activeContent:s}=xn(),i=K(xe),{markReadOnScroll:o,showFeedIcon:c}=i,l=s&&e.id===s.id,{handleToggleStarred:u,handleToggleStatus:d}=ui(),[h,g]=C.useState(0),w=100,b=.5,f=e.starred,p=e.status==="unread",x=Em({preventScrollOnSwipe:!0,delta:w/2,onSwiping:O=>{const P=Math.min(Math.abs(O.deltaX*b),w)*Math.sign(O.deltaX);g(P)},onSwiped:async O=>{try{O.deltaX>w?(await u(e),re.success(f?"Unmarked as starred":"Marked as starred")):O.deltaX<-w&&(await d(e),re.success(p?"Marked as read":"Marked as unread"))}catch{re.error("Failed to update, please try again")}g(0)}}),[j,E]=C.useState(!1),[T,k]=C.useState(!1),A=()=>d(e),v=20,{ref:S}=Li({skip:T,onChange:async(O,P)=>{if(!(!o||!p)){if(O)E(!0);else if(j){const{top:q}=P.boundingClientRect;q<v&&(await A(),k(!0))}}}}),M=Xf({x:h});return C.createElement("div",{...x,className:"article-card",key:e.id},a.jsxs("div",{ref:S,children:[a.jsx(lm.div,{className:"swipe-card",style:M,children:a.jsx(Mr,{className:qs("swipe-content","card-custom-style","card-custom-hover-style",{"card-custom-selected-style":l}),"data-entry-id":e.id,hoverable:!0,onClick:()=>t(e),bordered:!1,children:a.jsx(Mr.Meta,{description:a.jsx(_m,{entry:e,showFeedIcon:c,mini:n,children:r})})})}),a.jsxs("div",{className:"swipe-actions",children:[a.jsx("div",{className:"swipe-action left",children:f?a.jsx(Xs,{style:{color:"#ffcd00",fontSize:"24px"}}):a.jsx(Ws,{style:{color:"#ffffff",fontSize:"24px"}})}),a.jsx("div",{className:"swipe-action right",children:p?a.jsx(Qa,{style:{color:"#ffffff",fontSize:"24px"}}):a.jsx(Za,{style:{color:"#ffffff",fontSize:"24px"}})})]})]}))},km=({loading:e})=>{const{layout:t}=K(xe),n=t==="large"?2:4,r=s=>a.jsx(Mr,{className:"card-style",cover:t==="large"?a.jsx("div",{className:"card-cover-style"}):null,children:a.jsx(Mr.Meta,{description:a.jsx(jr,{loading:e,animation:!0,text:{rows:3,width:150}})})},s);return e?Array.from({length:n},(s,i)=>r(i)):null},Im=()=>{const{isMobileView:e}=Lr(),t=K(xe),{updateConfig:n}=Dr(),{orderDirection:r}=t,[s,i]=ke(Hr),[o,c]=ke(Br),l=()=>{n({orderDirection:r==="desc"?"asc":"desc"})};return C.useEffect(()=>{c("title"),i("")},[]),a.jsxs("div",{className:"search-and-sort-bar",children:[a.jsx(Xe.Search,{allowClear:!0,onChange:i,placeholder:"Search...",style:{width:e?"100%":278,marginLeft:8},value:s,addBefore:a.jsxs(Ce,{placeholder:"Select type",onChange:c,style:{width:100},value:o,children:[a.jsx(Ce.Option,{value:"title",children:"Title"}),a.jsx(Ce.Option,{value:"content",children:"Content"}),a.jsx(Ce.Option,{value:"author",children:"Author"})]})}),a.jsx(Ln,{mini:!0,content:r==="desc"?"Newest first":"Oldest first",children:a.jsx(ye,{shape:"circle",size:"small",style:{margin:"0 8px",flexShrink:0},icon:r==="desc"?a.jsx(Ic,{}):a.jsx(Ac,{}),onClick:l})})]})},Am=C.forwardRef(({loading:e,getEntries:t,handleEntryClick:n,cardsRef:r},s)=>{const i=K(ci),o=K(tr),c=K(Ur),l=K(zr),{loadingMore:u,handleLoadMore:d}=Po(),{layout:h}=K(xe),g=h==="small",{ref:w,inView:b}=Li({skip:!l&&!c}),f=Dh({count:i.length,getScrollElement:()=>r.current,estimateSize:()=>g?120:280}),p=f.getVirtualItems();return C.useEffect(()=>{let x;if(b&&!e&&!u&&(l||c)){const j=async()=>{await d(t)};j(),x=setInterval(j,1e3)}else x&&clearInterval(x);return()=>{x&&clearInterval(x)}},[b,e,u,l,c,d,t]),a.jsxs(a.Fragment,{children:[a.jsx(Im,{}),a.jsxs("div",{className:"entry-list",ref:s,children:[a.jsx(km,{loading:e}),!e&&a.jsx("div",{ref:r,children:a.jsx("div",{style:{height:f.getTotalSize(),width:"100%",position:"relative"},children:p.map(x=>a.jsx("div",{"data-index":x.index,ref:f.measureElement,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${x.start}px)`},children:a.jsx(Mm,{entry:i[x.index],handleEntryClick:n,mini:g,children:a.jsx(ri,{color:"var(--color-text-4)",duration:1e3})})},x.key))})}),!e&&(o==="all"?l:c)&&a.jsxs("div",{className:"load-more-container",ref:w,children:[a.jsx(Oc,{loading:u,style:{paddingRight:"10px"}}),"Loading more ..."]})]})]})}),Om=C.forwardRef(({info:e,refreshArticleList:t,markAllAsRead:n},r)=>{const s=K(Ao),i=Y(Jn),o=Y(er),c=Y(Hr),l=Y(Br),u=Y(Vr),[d,h]=ke(tr),{fetchData:g}=ai(),w=async()=>{try{await n(),re.success("Marked all as read successfully"),g(),i(f=>f.map(p=>({...p,status:"read"}))),o([]),d==="all"?i(f=>f.map(p=>({...p,status:"read"}))):o([]),u(0)}catch{re.error("Failed to mark all as read")}},b=f=>{r.current&&r.current.scrollTo(0,0),h(f)};return C.useEffect(()=>{l("title"),c("")},[d]),a.jsxs("div",{className:"entry-panel",children:[!["starred","history"].includes(e.from)&&a.jsx(xs,{focusLock:!0,title:"Mark All As Read?",onOk:w,children:a.jsx(ye,{icon:a.jsx(Ya,{}),shape:"circle"})}),a.jsx(Pc.Group,{disabled:e.from==="history",onChange:f=>b(f),options:[{label:"ALL",value:"all"},{label:"UNREAD",value:"unread"}],type:"button",value:d}),a.jsx(ye,{icon:a.jsx(ws,{}),loading:s,shape:"circle",onClick:t})]})}),Sn=({info:e,getEntries:t,markAllAsRead:n})=>{const{activeContent:r,setActiveContent:s}=xn(),i=K(Js),{fetchData:o}=ai(),c=K(xe),{orderBy:l,orderDirection:u}=c,[d,h]=ke(Oo),[g,w]=ke(Ao),b=Y(Jn),f=Y(Ur),p=Y(zr),x=Y(Io),j=Y(ko),E=Y(Vr),T=Y(er),k=Y(oi),A=K(ci),v=Y(li),{handleFetchContent:S,handleToggleStarred:M,handleToggleStatus:O,handleEntryStatusUpdate:P}=ui(),[q,oe]=C.useState(!1),ae=C.useRef(null),ue=C.useRef(null),fe=C.useRef(null);C.useEffect(()=>{!q||e.from==="history"||U()},[l]),C.useEffect(()=>{v(e.from),U()},[e,u]);const De=async F=>{s(null),setTimeout(()=>{s({...F,status:"read"})},200),F.status==="unread"&&(setTimeout(()=>{P(F,"read")},200),ii([F.id],"read").catch(()=>{re.error("Failed to mark entry as read, please try again later"),P(F,"unread")})),fe.current&&fe.current.scrollTo(0,0)},{handleBKey:we,handleDKey:Tt,handleEscapeKey:y,handleLeftKey:m,handleMKey:R,handleRightKey:D,handleSKey:$}=di(e,De);C.useEffect(()=>{const F={27:()=>y(ae,fe),37:()=>m(),39:()=>D(),66:()=>we(),68:()=>Tt(S),77:()=>R(()=>O(r)),83:()=>$(()=>M(r))},N=Q=>{const ee=F[Q.keyCode];ee&&ee()};return d?document.addEventListener("keydown",N):document.removeEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[r,A,d]);const V=(F,N,Q,ee)=>{b(F),T(N),j(Q.data.total),p(F.length<Q.data.total),E(ee.data.total),f(N.length<ee.data.total)},z=(F,N)=>{var Q,ee;if((Q=F==null?void 0:F.data)!=null&&Q.entries&&((ee=N==null?void 0:N.data)==null?void 0:ee.total)>=0){const de=F.data.entries.map(Es),G=N.data.entries.map(Es);V(de,G,F,N)}},L=async()=>{w(!0);let F,N;try{e.from==="history"?F=N=await t():[F,N]=await Promise.all([t(),t(0,"unread")]),z(F,N)}catch(Q){console.error("Error fetching articles:",Q)}finally{w(!1)}},U=async()=>{if(ae.current&&ae.current.scrollTo(0,0),x(0),k(0),!i){o();return}await L()};return C.useEffect(()=>{r&&s(null)},[]),C.useEffect(()=>{if(!i)try{L(),oe(!0),h(!0)}catch{re.error("Failed to fetch articles, please try again later")}},[i]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"entry-col",children:[a.jsx(Yi,{in:!g,timeout:200,nodeRef:ue,classNames:"fade",children:a.jsx(Am,{cardsRef:ue,loading:g,getEntries:t,handleEntryClick:De,ref:ae})}),a.jsx(Om,{info:e,refreshArticleList:U,markAllAsRead:n,ref:ae})]}),a.jsx(Yi,{in:r!==null,timeout:200,nodeRef:fe,classNames:"fade",unmountOnExit:!0,children:a.jsx(Ch,{info:e,handleEntryClick:De,entryListRef:ae,ref:fe})})]})},Pm=()=>a.jsx(Sn,{info:{from:"all",id:""},getEntries:gu,markAllAsRead:Tu}),Rm=()=>{const{id:e}=Ja(),{orderBy:t,pageSize:n}=K(xe),r=async(s=0,i=null)=>{const o={baseUrl:`/v1/categories/${e}/entries`,orderField:t,offset:s,limit:n,status:i};return he.get(bn(o))};return a.jsx(Sn,{info:{from:"category",id:e},getEntries:r,markAllAsRead:()=>iu(e)})},Fm=()=>{const e=tn();return a.jsx("div",{id:"error-page",style:{top:"30%",position:"relative"},children:a.jsx(Rc,{status:"404",subTitle:"Whoops, that page is gone. ",extra:[a.jsx(ye,{type:"primary",onClick:()=>e("/"),children:"Back to Home"},"back")]})})},Nm=()=>{const{id:e}=Ja(),{orderBy:t,pageSize:n}=K(xe),r=async(s=0,i=null)=>{const o={baseUrl:`/v1/feeds/${e}/entries`,orderField:t,offset:s,limit:n,status:i};return he.get(bn(o))};return a.jsx(Sn,{info:{from:"feed",id:e},getEntries:r,markAllAsRead:()=>Cu(e)})},Dm=()=>a.jsx(Sn,{info:{from:"history",id:""},getEntries:Eo}),$m="/assets/background-CYt9APEB.jpg",Lm=e=>{const t=e.getFieldsValue();let n=!0;for(const[r,s]of Object.entries(t))if(r!=="password"){const i=s==null?void 0:s.trim();e.setFieldValue(r,i),i||(n=!1)}else s||(n=!1);return n},wr=(e,t)=>{e.key==="Enter"&&t.submit()},Vm=()=>{const[e]=Fc(),[t,n]=C.useState(!1),[r,s]=C.useState("token"),i=Y(Ks),o=tn(),c=async()=>{n(!0);const{server:u,token:d,username:h,password:g}=e.getFieldsValue();try{(await Ga({url:"/v1/me",method:"get",baseURL:u,headers:{"X-Auth-Token":d},auth:{username:h,password:g},timeout:5e3})).status===200&&(re.success("Success"),i({server:u,token:d,username:h,password:g}),o("/"))}catch(w){console.error(w),re.error(w.message)}n(!1)},l=async()=>{const u=e.getFieldsValue();if(!si(u)){re.error("Please check your server address and credentials");return}await c()};return a.jsxs("div",{className:"page-layout",style:{height:"100%",display:"flex"},children:[a.jsx("div",{className:"form-panel",style:{backgroundColor:"var(--color-bg-1)",width:"50%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflowY:"auto",zIndex:2},children:a.jsxs("div",{className:"login-form",style:{width:"340px"},children:[a.jsx(H.Title,{heading:3,children:"Connect to your server"}),a.jsxs(ve,{autoComplete:"off",form:e,layout:"vertical",onSubmit:async()=>{Lm(e)?await l():re.error("Please fill in all required fields")},children:[a.jsx(ve.Item,{field:"server",label:"Server address",rules:[{required:!0}],onKeyDown:u=>{wr(u,e)},children:a.jsx(Xe,{disabled:t,placeholder:"Please input server address",prefix:a.jsx(Nc,{})})}),r==="token"&&a.jsx(ve.Item,{field:"token",label:"API Token",rules:[{required:!0}],onKeyDown:u=>{wr(u,e)},children:a.jsx(Xe,{disabled:t,placeholder:"Please input api token",prefix:a.jsx(Xi,{})})}),r==="user"&&a.jsxs(a.Fragment,{children:[a.jsx(ve.Item,{field:"username",label:"Username",rules:[{required:!0}],onKeyDown:u=>{wr(u,e)},children:a.jsx(Xe,{disabled:t,prefix:a.jsx(Xa,{}),placeholder:"Please input username"})}),a.jsx(ve.Item,{field:"password",label:"Password",rules:[{required:!0}],onKeyDown:u=>{wr(u,e)},children:a.jsx(Xe.Password,{disabled:t,prefix:a.jsx(Xi,{}),placeholder:"Please input password"})})]})]}),a.jsx(ye,{loading:t,type:"primary",long:!0,onClick:()=>e.submit(),style:{marginTop:"20px"},children:"Connect"}),a.jsx(nt,{orientation:"center",children:"Or connect with"}),a.jsx(ye,{type:"secondary",long:!0,onClick:()=>s(r==="token"?"user":"token"),style:{marginTop:"20px"},children:r==="token"?"Username and password":"API Token"}),a.jsxs("div",{style:{display:"flex",marginTop:"40px"},children:[a.jsx(H.Text,{disabled:!0,children:"Need more info?"}),a.jsx(Dc,{href:"https://miniflux.app/docs/api.html#authentication",style:{fontWeight:"500"},children:"Go to Miniflux official website"})]})]})}),a.jsx("div",{className:"background",style:{backgroundImage:`url(${$m})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"50%",height:"100%"}})]})},zm=({children:e})=>{const t=K(Ks);return si(t)?a.jsx(a.Fragment,{children:e}):a.jsx(eo,{to:"/login"})},Um=()=>a.jsx(Sn,{info:{from:"starred",id:""},getEntries:Co}),Bm=()=>{const e=async()=>{const t=await Sr(0,"unread"),n=t.data.total;let r=t.data.entries;n>r.length&&(r=Sr(0,"unread",n).then(i=>i.data.entries));const s=r.map(i=>i.id);return ii(s,"read")};return a.jsx(Sn,{info:{from:"today",id:""},getEntries:Sr,markAllAsRead:e})},Hm=dt("homePage"),Wm=[{path:"/all",element:a.jsx(Pm,{})},{path:"/today",element:a.jsx(Bm,{})},{path:"/starred",element:a.jsx(Um,{})},{path:"/history",element:a.jsx(Dm,{})},{path:"/category/:id",element:a.jsx(Rm,{})},{path:"/feed/:id",element:a.jsx(Nm,{})}],Xl=$c([{path:"/",element:a.jsx(zm,{children:a.jsx(Wu,{})}),errorElement:a.jsx(Fm,{}),children:[...Wm,{index:!0,element:a.jsx(eo,{to:`/${Hm}`,replace:!0})}]},{path:"/login",element:a.jsx(Vm,{})}]);Lc.createRoot(document.getElementById("root")).render(a.jsx(Vc,{locale:zc,children:a.jsx(Uc,{router:Xl})}))});export default qm();

var Fl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{a as Q,g as Dl,b as $l,u as Re,c as ne,d as yn,j as a,B as be,I as Ll,S as Cr,T as $n,e as Fa,f as Vl,h as Ul,i as Bl,D as Ls,M as Ot,k as Da,l as zl,m as Hl,A as $a,n as La,o as re,p as Wl,q as Yl,r as ql,s as zi,t as Va,v as se,w as Or,x as Ye,y as K,z as B,C as tt,E as Ft,F as Vs,G as S,H as ve,J as Ln,K as nt,L as Rr,P as bi,N as xi,O as Ua,Q as Ce,R as Xl,U as Gl,V as Kl,W as un,X as Ql,Y as Zl,Z as Jl,_ as ec,$ as tc,a0 as nc,a1 as rc,a2 as Ba,a3 as ic,a4 as jr,a5 as sc,a6 as ac,a7 as Hi,a8 as oc,a9 as lc,aa as Wi,ab as ee,ac as za,ad as cc,ae as Ha,af as Wa,ag as Yi,ah as uc,ai as dc,aj as hc,ak as fc,al as mc,am as pc,an as Tr,ao as gc,ap as vc,aq as yc,ar as bc,as as Us,at as Ya,au as xc,av as wc,aw as Sc,ax as Bs,ay as Cc,az as qa,aA as jc,aB as Tc,aC as Ec,aD as _c,aE as kc}from"./vendor-cJDax0Sr.js";var bm=Fl((Sm,Jn)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Xa=(e,t)=>{const r=Q((()=>{const i=localStorage.getItem(e);return i!==null?JSON.parse(i):t})());return Q(i=>i(r),(i,s,l)=>{const u=typeof l=="function"?l(i(r)):l;s(r,u),localStorage.setItem(e,JSON.stringify(u))})},Ga=(e,t)=>{const n=Q({refresh:null,value:null});return Q(r=>{const{refresh:i,value:s}=r(n),l=r(e);return s!==null&&i===l?s:t(r)},(r,i,s)=>{let l;const{refresh:u,value:o}=r(n),c=r(e);typeof s=="function"?l=s(o!==null&&u===c?o:t(r)):l=s,i(n,{refresh:c,value:l})})},qi={articleWidth:90,fontSize:1.05,homePage:"all",layout:"large",markReadOnScroll:!1,orderBy:"created_at",orderDirection:"desc",pageSize:100,showAllFeeds:!1,showDetailedRelativeTime:!1,showFeedIcon:!0,showStatus:"all",theme:"light",themeColor:"Blue"},dt=e=>(JSON.parse(localStorage.getItem("config"))??{})[e]??qi[e],xe=Xa("config",qi),wi={Red:{light:"#F53F3F",dark:"#F76965"},Orange:{light:"#F77234",dark:"#F9925A"},Green:{light:"#00B42A",dark:"#27C346"},Blue:{light:"#165DFF",dark:"#3C7EFF"},Purple:{light:"#722ED1",dark:"#8E51DA"},Gold:{light:"#F7BA1E",dark:"#F9CC44"},Cyan:{light:"#14C9C9",dark:"#3FD4CF"},Magenta:{light:"#F5319D",dark:"#F756A9"}},Si=e=>{const t=wi[e]||wi.Blue,n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=dt("theme");return(r==="system"?n:r==="dark")?t.dark:t.light},Ka=e=>{Dl(Si(e),{list:!0}).map($l).forEach((n,r)=>{document.body.style.setProperty(`--primary-${r+1}`,n)})},Xi=Xa("auth",{server:"",token:"",username:"",password:""}),Mc=Q(window.innerWidth<=992),Qa=()=>{const[e,t]=Re(Mc);return{collapsed:e,toggleCollapsed:()=>t(r=>!r)}},Nr=()=>{const e=ne(xe);return{updateConfig:n=>{e(r=>({...r,...n}))}}},Ac=Q(!1),Ic=Q(!1),Gi=()=>{const[e,t]=Re(Ac),[n,r]=Re(Ic);return{addFeedModalVisible:e,setAddFeedModalVisible:t,settingsModalVisible:n,setSettingsModalVisible:r}},Pc=()=>{const e=yn(),{setAddFeedModalVisible:t,setSettingsModalVisible:n}=Gi(),{toggleCollapsed:r}=Qa(),[i,s]=Re(xe),l=ne(Xi),{showAllFeeds:u,theme:o}=i,{updateConfig:c}=Nr(),d=()=>{c({showAllFeeds:!u})},f=()=>{c({theme:o==="light"?"dark":"light"})},y=()=>{l({}),s(qi),document.body.removeAttribute("arco-theme"),Ka("Blue"),e("/login"),re.success("Logout successful")},g=(h=>{switch(h){case"dark":return a.jsx(ql,{});case"system":return a.jsx(Yl,{});default:return a.jsx(Wl,{})}})(o);return a.jsxs("div",{className:"header",children:[a.jsx("div",{className:"brand",children:a.jsx(be,{className:"trigger",onClick:r,shape:"circle",size:"small",children:a.jsx(Ll,{})})}),a.jsx("div",{className:"button-group",children:a.jsxs(Cr,{size:16,children:[a.jsx($n,{content:"Add a feed",mini:!0,children:a.jsx(be,{shape:"circle",size:"small",type:"primary",icon:a.jsx(Fa,{}),onClick:()=>t(!0)})}),a.jsx($n,{content:u?"Hide some feeds":"Show all feeds",mini:!0,children:a.jsx(be,{shape:"circle",size:"small",icon:u?a.jsx(Vl,{}):a.jsx(Ul,{}),onClick:d})}),a.jsx(be,{shape:"circle",size:"small",icon:a.jsx(Bl,{}),onClick:()=>window.open("https://github.com/electh/ReactFlux","_blank")}),a.jsx(Ls,{droplist:a.jsx(Ot,{defaultSelectedKeys:[o],className:"theme-menu",children:["light","dark","system"].map(h=>a.jsxs(Ot.Item,{className:"theme-menu-item",onClick:()=>c({theme:h}),children:[h.charAt(0).toUpperCase()+h.slice(1),o===h&&a.jsx(Da,{style:{marginLeft:8}})]},h))}),trigger:"hover",position:"bottom",children:a.jsx(be,{icon:g,shape:"circle",size:"small",onClick:f})}),a.jsx(Ls,{droplist:a.jsxs(Ot,{children:[a.jsxs(Ot.Item,{onClick:()=>n(!0),children:[a.jsx(zl,{className:"icon-right"}),"Settings"]},"0"),a.jsxs(Ot.Item,{onClick:y,children:[a.jsx(Hl,{className:"icon-right"}),"Logout"]},"1")]}),trigger:"click",position:"br",children:a.jsx($a,{size:28,style:{cursor:"pointer"},children:a.jsx(La,{})})})]})})]})},Oc=()=>JSON.parse(localStorage.getItem("auth"))??{},Ki=e=>{const{server:t,token:n,username:r,password:i}=e;return!t||!zi(t,{require_protocol:!0})?!1:n||r&&i},ue=Va.create({timeout:3e3,retry:3,retryDelay:1e3});ue.interceptors.request.use(e=>{const t=Oc(),{server:n,token:r,username:i,password:s}=t;return Ki(t)?(e.baseURL=n,r?e.headers["X-Auth-Token"]=r:e.auth={username:i,password:s},e):Promise.reject(new Error("Invalid auth"))},e=>Promise.reject(e));const Rc=async e=>{const{config:t}=e;return!(t!=null&&t.retry)||(t.__retryCount=t.__retryCount??0,t.__retryCount>=t.retry)?Promise.reject(e):(t.__retryCount+=1,await new Promise(r=>{setTimeout(()=>{r()},t.retryDelay??1e3)}),ue(t))},Nc=async e=>{var n,r,i;const t=((r=(n=e.response)==null?void 0:n.data)==null?void 0:r.error_message)??e.message;return console.log(t),((i=e.response)==null?void 0:i.status)===401&&(localStorage.removeItem("auth"),await Rl.navigate("/login")),Promise.reject(e)};ue.interceptors.response.use(e=>e,async e=>{try{return await Rc(e)}catch(t){return Nc(t)}});const Fc=async()=>ue.get("/v1/categories"),Dc=async e=>ue.post("/v1/categories",{title:e}),$c=async e=>ue.delete(`/v1/categories/${e}`),Lc=async(e,t,n=!1)=>{const r={title:t,hide_globally:n?"on":void 0};return ue.put(`/v1/categories/${e}`,r)},Vc=async e=>ue.put(`/v1/categories/${e}/mark-all-as-read`);var Za={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(se,function(){var n,r,i=1e3,s=6e4,l=36e5,u=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,d=2628e6,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,y={years:c,months:d,days:u,hours:l,minutes:s,seconds:i,milliseconds:1,weeks:6048e5},x=function(k){return k instanceof w},g=function(k,T,E){return new w(k,E,T.$l)},h=function(k){return r.p(k)+"s"},v=function(k){return k<0},C=function(k){return v(k)?Math.ceil(k):Math.floor(k)},A=function(k){return Math.abs(k)},p=function(k,T){return k?v(k)?{negative:!0,format:""+A(k)+T}:{negative:!1,format:""+k+T}:{negative:!1,format:""}},w=function(){function k(E,I,O){var L=this;if(this.$d={},this.$l=O,E===void 0&&(this.$ms=0,this.parseFromMilliseconds()),I)return g(E*y[h(I)],this);if(typeof E=="number")return this.$ms=E,this.parseFromMilliseconds(),this;if(typeof E=="object")return Object.keys(E).forEach(function(ce){L.$d[h(ce)]=E[ce]}),this.calMilliseconds(),this;if(typeof E=="string"){var W=E.match(f);if(W){var ie=W.slice(2).map(function(ce){return ce!=null?Number(ce):0});return this.$d.years=ie[0],this.$d.months=ie[1],this.$d.weeks=ie[2],this.$d.days=ie[3],this.$d.hours=ie[4],this.$d.minutes=ie[5],this.$d.seconds=ie[6],this.calMilliseconds(),this}}return this}var T=k.prototype;return T.calMilliseconds=function(){var E=this;this.$ms=Object.keys(this.$d).reduce(function(I,O){return I+(E.$d[O]||0)*y[O]},0)},T.parseFromMilliseconds=function(){var E=this.$ms;this.$d.years=C(E/c),E%=c,this.$d.months=C(E/d),E%=d,this.$d.days=C(E/u),E%=u,this.$d.hours=C(E/l),E%=l,this.$d.minutes=C(E/s),E%=s,this.$d.seconds=C(E/i),E%=i,this.$d.milliseconds=E},T.toISOString=function(){var E=p(this.$d.years,"Y"),I=p(this.$d.months,"M"),O=+this.$d.days||0;this.$d.weeks&&(O+=7*this.$d.weeks);var L=p(O,"D"),W=p(this.$d.hours,"H"),ie=p(this.$d.minutes,"M"),ce=this.$d.seconds||0;this.$d.milliseconds&&(ce+=this.$d.milliseconds/1e3,ce=Math.round(1e3*ce)/1e3);var de=p(ce,"S"),me=E.negative||I.negative||L.negative||W.negative||ie.negative||de.negative,qe=W.format||ie.format||de.format?"T":"",we=(me?"-":"")+"P"+E.format+I.format+L.format+qe+W.format+ie.format+de.format;return we==="P"||we==="-P"?"P0D":we},T.toJSON=function(){return this.toISOString()},T.format=function(E){var I=E||"YYYY-MM-DDTHH:mm:ss",O={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return I.replace(o,function(L,W){return W||String(O[L])})},T.as=function(E){return this.$ms/y[h(E)]},T.get=function(E){var I=this.$ms,O=h(E);return O==="milliseconds"?I%=1e3:I=O==="weeks"?C(I/y[O]):this.$d[O],I||0},T.add=function(E,I,O){var L;return L=I?E*y[h(I)]:x(E)?E.$ms:g(E,this).$ms,g(this.$ms+L*(O?-1:1),this)},T.subtract=function(E,I){return this.add(E,I,!0)},T.locale=function(E){var I=this.clone();return I.$l=E,I},T.clone=function(){return g(this.$ms,this)},T.humanize=function(E){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!E)},T.valueOf=function(){return this.asMilliseconds()},T.milliseconds=function(){return this.get("milliseconds")},T.asMilliseconds=function(){return this.as("milliseconds")},T.seconds=function(){return this.get("seconds")},T.asSeconds=function(){return this.as("seconds")},T.minutes=function(){return this.get("minutes")},T.asMinutes=function(){return this.as("minutes")},T.hours=function(){return this.get("hours")},T.asHours=function(){return this.as("hours")},T.days=function(){return this.get("days")},T.asDays=function(){return this.as("days")},T.weeks=function(){return this.get("weeks")},T.asWeeks=function(){return this.as("weeks")},T.months=function(){return this.get("months")},T.asMonths=function(){return this.as("months")},T.years=function(){return this.get("years")},T.asYears=function(){return this.as("years")},k}(),_=function(k,T,E){return k.add(T.years()*E,"y").add(T.months()*E,"M").add(T.days()*E,"d").add(T.hours()*E,"h").add(T.minutes()*E,"m").add(T.seconds()*E,"s").add(T.milliseconds()*E,"ms")};return function(k,T,E){n=E,r=E().$utils(),E.duration=function(L,W){var ie=E.locale();return g(L,{$l:ie},W)},E.isDuration=x;var I=T.prototype.add,O=T.prototype.subtract;T.prototype.add=function(L,W){return x(L)?_(this,L,1):I.bind(this)(L,W)},T.prototype.subtract=function(L,W){return x(L)?_(this,L,-1):O.bind(this)(L,W)}}})})(Za);var Uc=Za.exports;const Bc=Or(Uc);var Ja={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(se,function(){return function(n,r,i){n=n||{};var s=r.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function u(c,d,f,y){return s.fromToBase(c,d,f,y)}i.en.relativeTime=l,s.fromToBase=function(c,d,f,y,x){for(var g,h,v,C=f.$locale().relativeTime||l,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=A.length,w=0;w<p;w+=1){var _=A[w];_.d&&(g=y?i(c).diff(f,_.d,!0):f.diff(c,_.d,!0));var k=(n.rounding||Math.round)(Math.abs(g));if(v=g>0,k<=_.r||!_.r){k<=1&&w>0&&(_=A[w-1]);var T=C[_.l];x&&(k=x(""+k)),h=typeof T=="string"?T.replace("%d",k):T(k,d,_.l,v);break}}if(d)return h;var E=v?C.future:C.past;return typeof E=="function"?E(h):E.replace("%s",h)},s.to=function(c,d){return u(c,d,this,!0)},s.from=function(c,d){return u(c,d,this)};var o=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(o(this),c)},s.fromNow=function(c){return this.from(o(this),c)}}})})(Ja);var zc=Ja.exports;const Hc=Or(zc);var eo={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(se,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,l,u){var o=l.prototype;u.utc=function(h){var v={date:h,utc:!0,args:arguments};return new l(v)},o.utc=function(h){var v=u(this.toDate(),{locale:this.$L,utc:!0});return h?v.add(this.utcOffset(),n):v},o.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var c=o.parse;o.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),c.call(this,h)};var d=o.init;o.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else d.call(this)};var f=o.utcOffset;o.utcOffset=function(h,v){var C=this.$utils().u;if(C(h))return this.$u?0:C(this.$offset)?f.call(this):this.$offset;if(typeof h=="string"&&(h=function(_){_===void 0&&(_="");var k=_.match(r);if(!k)return null;var T=(""+k[0]).match(i)||["-",0,0],E=T[0],I=60*+T[1]+ +T[2];return I===0?0:E==="+"?I:-I}(h),h===null))return this;var A=Math.abs(h)<=16?60*h:h,p=this;if(v)return p.$offset=A,p.$u=h===0,p;if(h!==0){var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(p=this.local().add(A+w,n)).$offset=A,p.$x.$localOffset=w}else p=this.utc();return p};var y=o.format;o.format=function(h){var v=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,v)},o.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var x=o.toDate;o.toDate=function(h){return h==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var g=o.diff;o.diff=function(h,v,C){if(h&&this.$u===h.$u)return g.call(this,h,v,C);var A=this.local(),p=u(h).local();return g.call(A,p,v,C)}}})})(eo);var Wc=eo.exports;const Yc=Or(Wc);Ye.extend(Bc);Ye.extend(Hc);Ye.extend(Yc);const qc=e=>Ye(e).isAfter(Ye().subtract(24,"hour")),Xc=()=>Ye().subtract(24,"hour").unix(),to=e=>{if(!dt("showDetailedRelativeTime")){const x=Ye(e).fromNow();return x==="a few seconds ago"?"just now":x}const n=Ye(),i=Ye(e).diff(n),s=Ye.duration(Math.abs(i)),l=s.years(),u=s.months(),o=s.days(),c=s.hours(),d=s.minutes(),f=[];if(l>0&&f.push(`${l} year${l>1?"s":""}`),u>0&&f.push(`${u} month${u>1?"s":""}`),o>0&&f.push(`${o} day${o>1?"s":""}`),c>0&&f.push(`${c} hour${c>1?"s":""}`),d>0&&f.push(`${d} minute${d>1?"s":""}`),f.length===0)return"just now";const y=f.join(" ");return i>0?`in ${y}`:`${y} ago`},zs=()=>Ye().utc().format("YYYY-MM-DDTHH:mm:ss.SSSSSSZ"),Qi=async(e,t)=>ue.put("/v1/entries",{entry_ids:e,status:t}),Gc=async e=>ue.put(`/v1/entries/${e}/bookmark`),Kc=async e=>ue.get(`/v1/entries/${e}/fetch-content`),bn=(e,t={})=>{const{baseUrl:n,orderField:r,limit:i,status:s,afterId:l}=e,u=dt("orderDirection"),o=new URLSearchParams({order:r,direction:u,limit:i,...t});return s&&o.append("status",s),l&&o.append("after_entry_id",l),`${n}?${o}`},Qc=async(e=null,t=null)=>{const n=dt("orderBy"),r=dt("pageSize"),i={baseUrl:"/v1/entries",orderField:n,limit:r,status:e,afterId:t};return ue.get(bn(i))},br=async(e=null,t=null,n=null)=>{const r=dt("orderBy"),i=n??dt("pageSize"),s=Xc(),l={baseUrl:"/v1/entries",orderField:r,limit:i,status:e,afterId:t},u={published_after:s};return ue.get(bn(l,u))},no=async(e=null,t=null)=>{const r={baseUrl:"/v1/entries",orderField:"changed_at",limit:dt("pageSize"),status:e,afterId:t},i={starred:"true"};return ue.get(bn(r,i))},ro=async(e="read",t=null)=>{const r={baseUrl:"/v1/entries",orderField:"changed_at",limit:dt("pageSize"),status:e,afterId:t};return ue.get(bn(r))},Zc=async()=>ue.get("/v1/feeds"),Jc=async()=>ue.get("/v1/feeds/counters"),eu=async e=>ue.put(`/v1/feeds/${e}/refresh`),tu=async()=>ue.put("/v1/feeds/refresh"),nu=async(e,t,n)=>ue.post("/v1/feeds",{feed_url:e,category_id:t,crawler:n}),ru=async e=>ue.delete(`/v1/feeds/${e}`),iu=async(e,t)=>{const{url:n,title:r,categoryId:i,isFullText:s,hidden:l=!1}=t;return ue.put(`/v1/feeds/${e}`,{feed_url:n,title:r,category_id:i,crawler:s,hide_globally:l})},su=async e=>ue.put(`/v1/feeds/${e}/mark-all-as-read`),au=async()=>ue.get("/v1/me"),ou=async()=>{const e=await au();return ue.put(`/v1/users/${e.data.id}/mark-all-as-read`)},io=e=>{const t=new URL(e);return`${t.protocol}//${t.hostname}`},Zi=Q(!1),Fr=Q({}),Dr=Q(0),Ji=Q(0),es=Q(0),so=Q(0),ao=Q([]),$r=Ga(so,e=>{const t=e(Fr);return e(ao).map(r=>({...r,unreadCount:t[r.id]??0}))}),ts=Q(e=>e($r).sort((n,r)=>n.title.localeCompare(r.title,"en"))),oo=Q(0),lo=Q([]),lu=Ga(oo,e=>{const t=e($r);return e(lo).map(r=>{const i=t.filter(s=>s.category.id===r.id);return{...r,unreadCount:i.reduce((s,l)=>s+l.unreadCount,0),feedCount:i.length}})}),Gn=Q(e=>e(lu).sort((n,r)=>n.title.localeCompare(r.title,"en"))),co=Q(e=>e(Gn).filter(n=>n.hide_globally).map(n=>n.id)),uo=Q(e=>{const t=e(co);return e(ts).filter(r=>r.hide_globally||t.includes(r.category.id)).map(r=>r.id)}),ho=Q(e=>{const{showAllFeeds:t}=e(xe),n=e(uo);return e(ts).filter(i=>t||!n.includes(i.id))}),fo=Q(e=>e(ho).reduce((n,r)=>{zi(r.site_url)||(r.site_url=io(r.feed_url));const{id:i}=r.category;return n[i]||(n[i]=[]),n[i].push(r),n},{})),cu=Q(e=>{const t=e(Fr),n=e(ho);return Object.entries(t).reduce((r,[i,s])=>n.some(l=>l.id===Number(i))?r+s:r,0)}),uu=Q(async()=>{const e=await Promise.all([Jc(),br(0,"unread"),no(),ro(),Zc(),Fc()]),[t,n,r,i,s,l]=e.map(u=>u.data);return{unreadInfo:t.unreads??{},unreadTodayCount:n.total??0,starredCount:r.total??0,historyCount:i.total??0,feedsData:s,categoriesData:l}}),ns=()=>{const e=ne(Zi),t=K(uu),n=ne(Fr),r=ne(Dr),i=ne(Ji),s=ne(es),l=ne(ao),u=ne(so),o=ne(lo),c=ne(oo);return{fetchData:()=>{e(!1);const{unreadInfo:f,unreadTodayCount:y,starredCount:x,historyCount:g,feedsData:h,categoriesData:v}=t;n(f),r(y),i(x),s(g),l(h),u(C=>C+1),o(v),c(C=>C+1),e(!0)}}},Er=(e,t)=>e.toLowerCase().includes(t.toLowerCase()),du=(e,t,n)=>{if(!n)return e;const r=i=>Er(i[t],n);return e.filter(r)},hu=(e,t,n,r)=>{const i=l=>n||!r.includes(l.feed.id);return["all","today","category"].includes(t)?e.filter(i):e},fu=()=>{const{updateConfig:e}=Nr(),{articleWidth:t,fontSize:n,layout:r,showDetailedRelativeTime:i,showFeedIcon:s,themeColor:l}=K(xe),u=o=>{e(o),o.themeColor&&Ka(o.themeColor)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Accent color"}),a.jsx(B.Text,{type:"secondary",children:"Choose your accent color"})]}),a.jsx("div",{style:{display:"flex"},children:Object.keys(wi).map(o=>a.jsx($n,{content:o,children:a.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",margin:"2px",backgroundColor:Si(o),cursor:"pointer",border:"3px solid var(--color-bg-3)",outline:o===l?`1px solid ${Si(o)}`:"none"},onClick:()=>u({themeColor:o}),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&u({themeColor:o})},"aria-label":`Change theme color to ${o}`})},o))})]}),a.jsx(tt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Compact article list"}),a.jsx(B.Text,{type:"secondary",children:"Use small thumbnail in article list"})]}),a.jsx("div",{children:a.jsx(Ft,{checked:r==="small",onChange:o=>u({layout:o?"small":"large"})})})]}),a.jsx(tt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Show detailed relative time"}),a.jsx(B.Text,{type:"secondary",children:"Show detailed relative time in article list"})]}),a.jsx("div",{children:a.jsx(Ft,{checked:i,onChange:o=>u({showDetailedRelativeTime:o})})})]}),a.jsx(tt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Show feed icon"}),a.jsx(B.Text,{type:"secondary",children:"Show feed icon in feed list and article list"})]}),a.jsx("div",{children:a.jsx(Ft,{checked:s,onChange:o=>u({showFeedIcon:o})})})]}),a.jsx(tt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Font size"}),a.jsx(B.Text,{type:"secondary",children:"Adjust article text size"})]}),a.jsx("div",{children:a.jsxs(Cr,{children:[a.jsx(B.Text,{style:{fontSize:"0.75rem"},children:"A"}),a.jsx(Vs,{formatTooltip:o=>`${o}rem`,max:1.25,min:.75,showTicks:!0,step:.05,style:{width:200},value:n,onChange:o=>u({fontSize:o})}),a.jsx(B.Text,{style:{fontSize:"1.25rem"},children:"A"})]})})]}),a.jsx(tt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Article width"}),a.jsx(B.Text,{type:"secondary",children:"Adjust article width"})]}),a.jsx("div",{children:a.jsxs(Cr,{children:[a.jsx(B.Text,{children:"60%"}),a.jsx(Vs,{formatTooltip:o=>`${o}%`,max:90,min:60,showTicks:!0,step:10,style:{width:160},value:t,onChange:o=>u({articleWidth:o})}),a.jsx(B.Text,{children:"90%"})]})})]})]})},mu=()=>{const e=ne($r),[t,n]=Re(Gn),[r,i]=S.useState(!1),[s,l]=S.useState(""),[u,o]=S.useState(!1),[c]=ve.useForm(),[d,f]=S.useState({}),y=async()=>{if(s.trim()){try{const{data:h}=await Dc(s);n(v=>[...v,{...h,feedCount:0}]),re.success("Category added successfully")}catch{re.error("Failed to add category")}l(""),i(!1)}},x=async(h,v,C)=>{try{const{data:A}=await Lc(h,v,C);e(p=>p.map(w=>w.category.id===h?{...w,category:{...w.category,title:v}}:w)),n(p=>p.map(w=>w.id===h?{...w,...A}:w)),re.success("Category updated successfully")}catch{re.error("Failed to update category")}o(!1),c.resetFields()},g=async h=>{try{(await $c(h)).status===204?(n(C=>C.filter(A=>A.id!==h)),re.success("Category deleted successfully")):re.error("Failed to delete category")}catch{re.error("Failed to delete category")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[t.map(h=>a.jsx(Ln,{className:"tag-style",closable:h.feedCount===0,size:"medium",onClick:()=>{f(h),o(!0),c.setFieldsValue({title:h.title})},onClose:async v=>{v.stopPropagation(),await g(h.id)},children:h.title},h.id)),r?a.jsx(nt,{autoFocus:!0,className:"input-style",onBlur:y,onChange:l,onPressEnter:y,size:"small",value:s}):a.jsx(Ln,{className:"add-category-tag",icon:a.jsx(Fa,{}),onClick:()=>i(!0),size:"medium",tabIndex:0,children:"Add"})]}),d&&a.jsx(Rr,{className:"modal-style",onOk:c.submit,title:"Edit Category",unmountOnExit:!0,visible:u,onCancel:()=>{o(!1),c.resetFields()},children:a.jsxs(ve,{form:c,layout:"vertical",onSubmit:h=>x(d.id,h.title,h.hidden),labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}},children:[a.jsx(ve.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(nt,{placeholder:"Please input category title"})}),a.jsx(ve.Item,{label:"Hidden",field:"hidden",initialValue:d.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Ft,{})})]})})]})},Lr=()=>{const[e,t]=S.useState(window.innerWidth),n=e<=768;return S.useEffect(()=>{const r=()=>t(window.innerWidth);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),{screenWidth:e,isMobileView:n}},oi=e=>e.slice().sort((t,n)=>n.parsing_error_count-t.parsing_error_count),pu=()=>{const[e,t]=S.useState(!1),[n,r]=S.useState({}),[i]=ve.useForm(),s=K(ts),l=ne($r),[u,o]=S.useState(oi(s)),c=K(Gn),{isMobileView:d}=Lr(),f=u.map(p=>({category:p.category,checked_at:p.checked_at,crawler:p.crawler,feed_url:p.feed_url,key:p.id,parsing_error_count:p.parsing_error_count,title:p.title,hidden:p.hide_globally}));S.useEffect(()=>{o(oi(s))},[s]);const y=p=>{r(p),t(!0),i.setFieldsValue({category:p.category.id,crawler:p.crawler,title:p.title,url:p.feed_url,hidden:p.hidden})},x=async(p,w)=>{try{const k=(await p()).status===204,T=k?"Refreshed":"Failed to refresh";k?re.success(T):re.error(T),l(E=>E.map(I=>w(I,k)))}catch{re.error("Failed to refresh"),l(k=>k.map(T=>w(T,!1)))}},g=async p=>{const w=(_,k)=>_.id===p.key?{..._,parsing_error_count:k?0:_.parsing_error_count+1,checked_at:zs()}:_;await x(eu.bind(null,p.key),w)},h=async()=>{await x(tu,(w,_)=>({...w,parsing_error_count:_?0:w.parsing_error_count+1,checked_at:zs()}))},v=async p=>{try{await ru(p.key),re.success("Unfollowed"),l(w=>w.filter(_=>_.id!==p.key))}catch{re.error("Failed to unfollow")}},C=[{title:"Title",dataIndex:"title",sorter:(p,w)=>p.title.localeCompare(w.title,"en"),render:(p,w)=>{const _=w.parsing_error_count,k=_?`âš ï¸ ${p}`:p,T=a.jsxs("div",{children:[p,_>0&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),"âš ï¸ Parsing error count: ",_]})]});return a.jsx(B.Ellipsis,{expandable:!1,children:a.jsx($n,{mini:!0,content:T,children:k})})}},!d&&{title:"Url",dataIndex:"feed_url",sorter:(p,w)=>p.feed_url.localeCompare(w.feed_url,"en"),render:p=>a.jsx(B.Ellipsis,{expandable:!1,showTooltip:!0,children:p})},{title:"Category",dataIndex:"category.title",sorter:(p,w)=>p.category.title.localeCompare(w.category.title,"en"),render:p=>a.jsx(B.Ellipsis,{expandable:!1,showTooltip:!0,children:a.jsx(Ln,{children:p})})},!d&&{title:"Checked at",dataIndex:"checked_at",sorter:(p,w)=>p.checked_at.localeCompare(w.checked_at,"en"),render:p=>a.jsx(B.Ellipsis,{expandable:!1,children:to(p)})},{title:"Actions",dataIndex:"op",fixed:"right",width:100,render:(p,w)=>a.jsxs(Cr,{children:[a.jsx("button",{"aria-label":"Edit this feed",className:"list-item-action",onClick:()=>y(w),type:"button",children:a.jsx(Xl,{})}),a.jsx("button",{"aria-label":"Refresh this feed",className:"list-item-action",onClick:()=>g(w),type:"button",children:a.jsx(xi,{})}),a.jsx(bi,{focusLock:!0,position:"left",title:"Unfollowï¼Ÿ",onOk:()=>v(w),children:a.jsx("span",{className:"list-item-action",children:a.jsx(Gl,{})})})]})}].filter(Boolean),A=async(p,w)=>{try{const _=await iu(p,w);l(k=>k.map(T=>T.id===p?{...T,..._.data}:T)),re.success("Feed updated successfully"),t(!1),i.resetFields()}catch{re.error("Failed to update feed")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[a.jsx("div",{style:{display:"flex",flex:1,justifyContent:"center"},children:a.jsx(nt.Search,{className:"search-input",placeholder:"Search feed title or url",searchButton:!0,onChange:p=>o(oi(s).filter(w=>Er(w.title,p)||Er(w.feed_url,p)))})}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end",paddingBottom:16},children:a.jsx(bi,{focusLock:!0,title:"Refresh all feeds?",onOk:h,children:a.jsx(be,{icon:a.jsx(xi,{}),shape:"circle"})})})]}),a.jsx(Ua,{borderCell:!0,className:"feed-table",columns:C,data:f,pagePosition:"bottomCenter",scroll:{x:!0},size:"small"}),n&&a.jsx(Rr,{className:"edit-modal",onOk:i.submit,title:"Edit Feed",unmountOnExit:!0,visible:e,onCancel:()=>{t(!1),i.resetFields()},children:a.jsxs(ve,{form:i,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async p=>{const w=p.url.trim(),_={url:p.url,title:p.title,categoryId:p.category,isFullText:p.crawler,hidden:p.hidden};w?await A(n.key,_):re.error("Feed URL cannot be empty")},children:[a.jsx(ve.Item,{label:"Feed URL",field:"url",rules:[{required:!0}],children:a.jsx(nt,{placeholder:"Please input feed URL"})}),a.jsx(ve.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(nt,{placeholder:"Please input feed title"})}),a.jsx(ve.Item,{label:"Category",required:!0,field:"category",rules:[{required:!0}],children:a.jsx(Ce,{placeholder:"Please select",children:c.map(p=>a.jsx(Ce.Option,{value:p.id,children:p.title},p.id))})}),a.jsx(ve.Item,{label:"Hidden",field:"hidden",initialValue:n.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Ft,{})}),a.jsx(ve.Item,{label:"Fetch original content",field:"crawler",tooltip:a.jsx("div",{children:"Only affects newly retrieved articles"}),style:{marginBottom:0},triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Ft,{})})]})})]})},gu=()=>{const{updateConfig:e}=Nr(),{homePage:t,markReadOnScroll:n,orderBy:r,pageSize:i,showStatus:s}=K(xe);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Default show status"}),a.jsx(B.Text,{type:"secondary",children:"Which status to show by default:"})]}),a.jsx("div",{children:a.jsxs(Ce,{className:"input-select",placeholder:"Select status",value:s,onChange:l=>e({showStatus:l}),children:[a.jsx(Ce.Option,{value:"all",children:"All"}),a.jsx(Ce.Option,{value:"unread",children:"Unread"})]})})]}),a.jsx(tt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Default home page"}),a.jsx(B.Text,{type:"secondary",children:"Which page to show by default:"})]}),a.jsx("div",{children:a.jsxs(Ce,{className:"input-select",onChange:l=>e({homePage:l}),placeholder:"Select page",value:t,children:[a.jsx(Ce.Option,{value:"all",children:"All"}),a.jsx(Ce.Option,{value:"today",children:"Today"}),a.jsx(Ce.Option,{value:"starred",children:"Starred"}),a.jsx(Ce.Option,{value:"history",children:"History"})]})})]}),a.jsx(tt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Entries order"}),a.jsx(B.Text,{type:"secondary",children:"What order to show entries:"})]}),a.jsx("div",{children:a.jsxs(Ce,{className:"input-select",onChange:l=>e({orderBy:l}),placeholder:"Select order",value:r,children:[a.jsx(Ce.Option,{value:"published_at",children:"Published at"}),a.jsx(Ce.Option,{value:"created_at",children:"Created at"})]})})]}),a.jsx(tt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Entries per page"}),a.jsx(B.Text,{type:"secondary",children:"Show how many entries per page:"})]}),a.jsx("div",{children:a.jsx(Kl,{className:"input-select",defaultValue:i,min:1,mode:"button",onChange:l=>e({pageSize:l}),size:"small"})})]}),a.jsx(tt,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(B.Title,{heading:6,style:{marginTop:0},children:"Mark articles as read when scrolled off screen"}),a.jsx(B.Text,{type:"secondary",children:"Automatically mark articles as read when they are scrolled out of the visible screen area"})]}),a.jsx("div",{children:a.jsx(Ft,{checked:n,onChange:l=>e({markReadOnScroll:l})})})]})]})},vu=[{title:"Key",dataIndex:"keyName",render:e=>a.jsx(Ln,{children:e})},{title:"Function",dataIndex:"description"}],yu=[{key:"1",keyName:"Esc",description:"Dismiss article"},{key:"2",keyName:"â†",description:"Previous article"},{key:"3",keyName:"â†’",description:"Next article"},{key:"4",keyName:"B",description:"Open link externally"},{key:"5",keyName:"D",description:"Fetch original article"},{key:"6",keyName:"M",description:"Mark as read / unread"},{key:"7",keyName:"S",description:"Star / Unstar"}],bu=()=>a.jsx(Ua,{borderCell:!0,columns:vu,data:yu,pagination:!1,size:"small",style:{margin:"0 auto",width:"80%"}}),xu=()=>a.jsxs(un,{className:"custom-tabs",defaultActiveTab:"1",tabPosition:"top",children:[a.jsx(un.TabPane,{title:a.jsxs("span",{children:[a.jsx(Ql,{style:{marginRight:6}}),"Feeds"]}),children:a.jsx(pu,{})},"1"),a.jsx(un.TabPane,{title:a.jsxs("span",{children:[a.jsx(Zl,{style:{marginRight:6}}),"Categories"]}),children:a.jsx(mu,{})},"2"),a.jsx(un.TabPane,{title:a.jsxs("span",{children:[a.jsx(Jl,{style:{marginRight:6}}),"General"]}),children:a.jsx(gu,{})},"3"),a.jsx(un.TabPane,{title:a.jsxs("span",{children:[a.jsx(ec,{style:{marginRight:6}}),"Appearance"]}),children:a.jsx(fu,{})},"4"),a.jsx(un.TabPane,{title:a.jsxs("span",{children:[a.jsx(tc,{style:{marginRight:6}}),"Hotkeys"]}),children:a.jsx(bu,{})},"5")]}),wu=[{required:!0}],Su=[{required:!0}],Cu=[{type:"boolean"}],ju=()=>{const{setSettingsModalVisible:e,settingsModalVisible:t}=Gi();return a.jsx(Rr,{alignCenter:!1,autoFocus:!1,className:"settings-modal",focusLock:!0,footer:null,onCancel:()=>e(!1),title:"Settings",unmountOnExit:!0,visible:t,children:a.jsx(xu,{})})},Tu=()=>{const e=K(Gn),{addFeedModalVisible:t,setAddFeedModalVisible:n}=Gi(),[r,i]=S.useState(!1),[s]=ve.useForm(),{fetchData:l}=ns(),u=async(o,c,d)=>{i(!0);try{await nu(o,c,d),l(),re.success("Added a feed successfully"),n(!1),s.resetFields()}catch{re.error("Failed to add a feed")}finally{i(!1)}};return a.jsx(Rr,{title:"Add Feed",visible:t,unmountOnExit:!0,style:{width:"400px"},onOk:s.submit,confirmLoading:r,onCancel:()=>{n(!1),s.resetFields()},children:a.jsxs(ve,{form:s,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async o=>{const c=o.url.trim();c?await u(c,o.category,o.crawler):re.error("Feed URL cannot be empty")},children:[a.jsx(ve.Item,{label:"Feed URL",field:"url",rules:wu,children:a.jsx(nt,{placeholder:"Please input a feed URL"})}),a.jsx(ve.Item,{field:"category",label:"Category",required:!0,rules:Su,children:a.jsx(Ce,{placeholder:"Please select a category",showSearch:!0,filterOption:(o,c)=>Er(c.props.children,o),children:e.map(o=>a.jsx(Ce.Option,{value:o.id,children:o.title},o.id))})}),a.jsx(ve.Item,{field:"crawler",initialValue:!1,label:"Fetch original content",rules:Cu,style:{marginBottom:0},triggerPropName:"checked",children:a.jsx(Ft,{})})]})})},Eu=()=>a.jsxs("div",{className:"main",children:[a.jsx(nc,{}),a.jsx(ju,{}),a.jsx(Tu,{})]}),mo=({feed:e,className:t="feed-icon"})=>{const n=zi(e.site_url)?e.site_url:io(e.feed_url),{hostname:r}=new URL(n),i=`https://icons.duckduckgo.com/ip3/${r}.ico`;return a.jsx("img",{className:t,src:i,alt:"Feed icon"})},_u=(e,t,n)=>{S.useLayoutEffect(()=>{let r=null;return e>0&&(clearTimeout(r),r=setTimeout(()=>{n(),clearTimeout(r)},t*4)),()=>clearTimeout(r)},[e,t,n])},rs=({duration:e,color:t})=>{const[n,r]=S.useState([]);_u(n.length,e,()=>{r([])});const i=s=>{const l=s.currentTarget.getBoundingClientRect(),u=l.width>l.height?l.width:l.height,o=s.pageX-l.x-u/2,c=s.pageY-l.y-u/2,d={x:o,y:c,size:u,id:`${new Date().getTime()}-${o}-${c}`};r([...n,d])};return a.jsx("div",{className:"ripple-container",onMouseDown:i,children:n.length>0&&n.map(s=>a.jsx("span",{className:"ripple-span",style:{top:s.y,left:s.x,width:s.size,height:s.size,backgroundColor:t,animationDuration:`${e}ms`}},s.id))})},po=Ot.Item,{Sider:ku}=lc,Mu=S.memo(({category:e,isOpen:t})=>{var i;const r=(i=K(fo)[e.id])==null?void 0:i.reduce((s,l)=>s+l.unreadCount,0);return a.jsxs("div",{className:"category-title",children:[a.jsxs(B.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:r?"80%":"100%"},children:[a.jsx(rc,{className:t?"icon-open":"icon-closed"}),e.title]}),r>0&&a.jsx(B.Ellipsis,{className:"unread-count",expandable:!1,children:r})]})}),Au=({atom:e})=>{const t=K(e);return a.jsx(B.Ellipsis,{className:"item-count",expandable:!1,children:t||""})},or=({path:e,Icon:t,label:n,countAtom:r})=>{const i=Ba(),s=yn(),l=i.pathname===e;return a.jsxs(po,{onClick:()=>s(e),className:Wi("arco-menu-item",{"arco-menu-selected":l}),children:[a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(t,{}),n]}),a.jsx(Au,{atom:r})]}),a.jsx(rs,{color:"var(--color-text-4)",duration:1e3})]},e)},Iu=()=>{const e=Ba(),t=yn(),n=K(Gn),r=K(Zi),i=K(fo),s=K(co),l=K(xe),{homePage:u,showAllFeeds:o,showFeedIcon:c}=l,{collapsed:d,toggleCollapsed:f}=Qa(),{screenWidth:y}=Lr(),[x,g]=S.useState([`/${u}`]),[h,v]=S.useState([]),C=e.pathname,A=(p,w)=>{v(w)};return S.useEffect(()=>{g([C])},[C]),S.useEffect(()=>{y<=992&&!d&&f()},[x]),a.jsx(ku,{breakpoint:"lg",className:"sidebar",collapsed:d,collapsedWidth:0,collapsible:!0,onCollapse:f,trigger:null,width:240,style:{borderRight:d?"none":"1px solid var(--color-border-2)",display:d?"none":"block"},children:a.jsxs(Ot,{autoScrollIntoView:!0,collapse:d,hasCollapseButton:!0,onClickSubMenu:A,onCollapseChange:f,selectedKeys:x,style:{width:"240px",height:"100%"},children:[a.jsxs("div",{className:"menu-header",style:{visibility:d?"hidden":"visible"},children:[a.jsx($a,{className:"avatar",size:32,children:a.jsx(ic,{style:{color:"var(--color-bg-1)"}})}),a.jsx(B.Title,{heading:6,style:{margin:"0"},children:"ReactFlux"})]}),a.jsx(B.Title,{className:"section-title",heading:6,style:{paddingLeft:"12px"},children:"Articles"}),a.jsx(jr,{loading:!r,animation:!0,text:{rows:3}}),r&&a.jsxs("div",{children:[a.jsx(or,{path:"/all",Icon:sc,label:"All",countAtom:cu}),a.jsx(or,{path:"/today",Icon:ac,label:"Today",countAtom:Dr}),a.jsx(or,{path:"/starred",Icon:Hi,label:"Starred",countAtom:Ji}),a.jsx(or,{path:"/history",Icon:oc,label:"History",countAtom:es})]}),a.jsx(B.Title,{className:"section-title",heading:6,style:{paddingLeft:"12px"},children:"Feeds"}),a.jsx(jr,{loading:!r,animation:!0,text:{rows:6}}),r?n.filter(p=>o||!s.includes(p.id)).map(p=>{var w;return a.jsx(Ot.SubMenu,{selectable:!0,style:{position:"relative",overflow:"hidden"},title:a.jsx(Mu,{category:p,isOpen:h.includes(`/category/${p.id}`)}),onClick:_=>{!(_.target.tagName==="svg"||_.target.tagName==="path")&&C!==`/category/${p.id}`&&t(`/category/${p.id}`)},children:(w=i[p.id])==null?void 0:w.map(_=>a.jsxs(po,{style:{position:"relative",overflow:"hidden"},onClick:k=>{k.stopPropagation(),t(`/feed/${_.id}`)},children:[a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs(B.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:_.unreadCount!==0?"80%":"100%"},children:[c&&a.jsx(mo,{feed:_,className:"feed-icon-sidebar"}),_.title]}),_.unreadCount!==0&&a.jsx(B.Ellipsis,{className:"item-count",expandable:!1,children:_.unreadCount})]}),a.jsx(rs,{color:"var(--color-text-4)",duration:1e3})]},`/feed/${_.id}`))},`/category/${p.id}`)}):null]})})},Pu=()=>{const{theme:e}=K(xe),[t,n]=S.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return S.useEffect(()=>{const r=s=>{n(s.matches)},i=window.matchMedia("(prefers-color-scheme: dark)");return i.addEventListener("change",r),()=>i.removeEventListener("change",r)},[]),S.useEffect(()=>{const r=i=>{const s=i?"dark":"light";document.body.setAttribute("arco-theme",s),document.body.style.colorScheme=s};r(e==="system"?t:e==="dark")},[t,e]),a.jsxs("div",{className:"app",children:[a.jsx(Iu,{}),a.jsx(Pc,{}),a.jsx(Eu,{})]})};var go={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ou=Symbol((go?"production":void 0)!=="production"?"RESET":"");function vo(e){const t=Symbol(),n=Q(t);(go?"production":void 0)!=="production"&&(n.debugPrivate=!0);const r=Q((i,s)=>{const l=i(n);return l!==t?l:e(i,s)},(i,s,l)=>{if(l===Ou)s(n,t);else if(typeof l=="function"){const u=i(r);s(n,l(u))}else s(n,l)});return r}const Vr=Q(!1),Ur=Q(!1),Kn=Q([]),Qn=Q([]),is=vo(e=>e(xe).homePage),Zn=vo(e=>{const t=e(is);return["starred","history"].includes(t)?"all":e(xe).showStatus}),Ru=Q(e=>{const t=e(Zn);return e(t==="all"?Kn:Qn)}),Br=Q("0"),zr=Q(""),ss=Q(e=>{const t=e(Ru),n=e(Br),r=e(zr),i=du(t,n,r),s=e(is),{showAllFeeds:l}=e(xe),u=e(uo);return hu(i,s,l,u)}),yo=Q(!0),bo=Q(!1),Nu=Q(null),xn=()=>{const[e,t]=Re(Nu);return{activeContent:e,setActiveContent:t}};var Jn={};(function e(t,n,r,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",u=function(){if(!t.OffscreenCanvas)return!1;var b=new OffscreenCanvas(1,1),m=b.getContext("2d");m.fillRect(0,0,1,1);var N=b.transferToImageBitmap();try{m.createPattern(N,"no-repeat")}catch{return!1}return!0}();function o(){}function c(b){var m=n.exports.Promise,N=m!==void 0?m:t.Promise;return typeof N=="function"?new N(b):(b(o,o),null)}var d=function(b,m){return{transform:function(N){if(b)return N;if(m.has(N))return m.get(N);var D=new OffscreenCanvas(N.width,N.height),$=D.getContext("2d");return $.drawImage(N,0,0),m.set(N,D),D},clear:function(){m.clear()}}}(u,new Map),f=function(){var b=Math.floor(16.666666666666668),m,N,D={},$=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function(P){var R=Math.random();return D[R]=requestAnimationFrame(function F(V){$===V||$+b-1<V?($=V,delete D[R],P()):D[R]=requestAnimationFrame(F)}),R},N=function(P){D[P]&&cancelAnimationFrame(D[P])}):(m=function(P){return setTimeout(P,b)},N=function(P){return clearTimeout(P)}),{frame:m,cancel:N}}(),y=function(){var b,m,N={};function D($){function P(R,F){$.postMessage({options:R||{},callback:F})}$.init=function(F){var V=F.transferControlToOffscreen();$.postMessage({canvas:V},[V])},$.fire=function(F,V,Y){if(m)return P(F,null),m;var H=Math.random().toString(36).slice(2);return m=c(function(ae){function le(he){he.data.callback===H&&(delete N[H],$.removeEventListener("message",le),m=null,d.clear(),Y(),ae())}$.addEventListener("message",le),P(F,H),N[H]=le.bind(null,{data:{callback:H}})}),m},$.reset=function(){$.postMessage({reset:!0});for(var F in N)N[F](),delete N[F]}}return function(){if(b)return b;if(!r&&s){var $=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([$])))}catch(P){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",P),null}D(b)}return b}}(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(b,m){return m?m(b):b}function h(b){return b!=null}function v(b,m,N){return g(b&&h(b[m])?b[m]:x[m],N)}function C(b){return b<0?0:Math.floor(b)}function A(b,m){return Math.floor(Math.random()*(m-b))+b}function p(b){return parseInt(b,16)}function w(b){return b.map(_)}function _(b){var m=String(b).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:p(m.substring(0,2)),g:p(m.substring(2,4)),b:p(m.substring(4,6))}}function k(b){var m=v(b,"origin",Object);return m.x=v(m,"x",Number),m.y=v(m,"y",Number),m}function T(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function E(b){var m=b.getBoundingClientRect();b.width=m.width,b.height=m.height}function I(b){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=b,m}function O(b,m,N,D,$,P,R,F,V){b.save(),b.translate(m,N),b.rotate(P),b.scale(D,$),b.arc(0,0,1,R,F,V),b.restore()}function L(b){var m=b.angle*(Math.PI/180),N=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-m+(.5*N-Math.random()*N),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function W(b,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.velocity*=m.decay,m.flat?(m.wobble=0,m.wobbleX=m.x+10*m.scalar,m.wobbleY=m.y+10*m.scalar,m.tiltSin=0,m.tiltCos=0,m.random=1):(m.wobble+=m.wobbleSpeed,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble),m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2);var N=m.tick++/m.totalTicks,D=m.x+m.random*m.tiltCos,$=m.y+m.random*m.tiltSin,P=m.wobbleX+m.random*m.tiltCos,R=m.wobbleY+m.random*m.tiltSin;if(b.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-N)+")",b.beginPath(),l&&m.shape.type==="path"&&typeof m.shape.path=="string"&&Array.isArray(m.shape.matrix))b.fill(qe(m.shape.path,m.shape.matrix,m.x,m.y,Math.abs(P-D)*.1,Math.abs(R-$)*.1,Math.PI/10*m.wobble));else if(m.shape.type==="bitmap"){var F=Math.PI/10*m.wobble,V=Math.abs(P-D)*.1,Y=Math.abs(R-$)*.1,H=m.shape.bitmap.width*m.scalar,ae=m.shape.bitmap.height*m.scalar,le=new DOMMatrix([Math.cos(F)*V,Math.sin(F)*V,-Math.sin(F)*Y,Math.cos(F)*Y,m.x,m.y]);le.multiplySelf(new DOMMatrix(m.shape.matrix));var he=b.createPattern(d.transform(m.shape.bitmap),"no-repeat");he.setTransform(le),b.globalAlpha=1-N,b.fillStyle=he,b.fillRect(m.x-H/2,m.y-ae/2,H,ae),b.globalAlpha=1}else if(m.shape==="circle")b.ellipse?b.ellipse(m.x,m.y,Math.abs(P-D)*m.ovalScalar,Math.abs(R-$)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):O(b,m.x,m.y,Math.abs(P-D)*m.ovalScalar,Math.abs(R-$)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var q=Math.PI/2*3,X=4*m.scalar,_e=8*m.scalar,pe=m.x,je=m.y,Le=5,ge=Math.PI/Le;Le--;)pe=m.x+Math.cos(q)*_e,je=m.y+Math.sin(q)*_e,b.lineTo(pe,je),q+=ge,pe=m.x+Math.cos(q)*X,je=m.y+Math.sin(q)*X,b.lineTo(pe,je),q+=ge;else b.moveTo(Math.floor(m.x),Math.floor(m.y)),b.lineTo(Math.floor(m.wobbleX),Math.floor($)),b.lineTo(Math.floor(P),Math.floor(R)),b.lineTo(Math.floor(D),Math.floor(m.wobbleY));return b.closePath(),b.fill(),m.tick<m.totalTicks}function ie(b,m,N,D,$){var P=m.slice(),R=b.getContext("2d"),F,V,Y=c(function(H){function ae(){F=V=null,R.clearRect(0,0,D.width,D.height),d.clear(),$(),H()}function le(){r&&!(D.width===i.width&&D.height===i.height)&&(D.width=b.width=i.width,D.height=b.height=i.height),!D.width&&!D.height&&(N(b),D.width=b.width,D.height=b.height),R.clearRect(0,0,D.width,D.height),P=P.filter(function(he){return W(R,he)}),P.length?F=f.frame(le):ae()}F=f.frame(le),V=ae});return{addFettis:function(H){return P=P.concat(H),Y},canvas:b,promise:Y,reset:function(){F&&f.cancel(F),V&&V()}}}function ce(b,m){var N=!b,D=!!v(m||{},"resize"),$=!1,P=v(m,"disableForReducedMotion",Boolean),R=s&&!!v(m||{},"useWorker"),F=R?y():null,V=N?T:E,Y=b&&F?!!b.__confetti_initialized:!1,H=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ae;function le(q,X,_e){for(var pe=v(q,"particleCount",C),je=v(q,"angle",Number),Le=v(q,"spread",Number),ge=v(q,"startVelocity",Number),ft=v(q,"decay",Number),Ut=v(q,"gravity",Number),Xe=v(q,"drift",Number),Bt=v(q,"colors",w),zt=v(q,"ticks",Number),Ge=v(q,"shapes"),Ve=v(q,"scalar"),at=!!v(q,"flat"),Tt=k(q),Ht=pe,Et=[],tn=b.width*Tt.x,Me=b.height*Tt.y;Ht--;)Et.push(L({x:tn,y:Me,angle:je,spread:Le,startVelocity:ge,color:Bt[Ht%Bt.length],shape:Ge[A(0,Ge.length)],ticks:zt,decay:ft,gravity:Ut,drift:Xe,scalar:Ve,flat:at}));return ae?ae.addFettis(Et):(ae=ie(b,Et,V,X,_e),ae.promise)}function he(q){var X=P||v(q,"disableForReducedMotion",Boolean),_e=v(q,"zIndex",Number);if(X&&H)return c(function(ge){ge()});N&&ae?b=ae.canvas:N&&!b&&(b=I(_e),document.body.appendChild(b)),D&&!Y&&V(b);var pe={width:b.width,height:b.height};F&&!Y&&F.init(b),Y=!0,F&&(b.__confetti_initialized=!0);function je(){if(F){var ge={getBoundingClientRect:function(){if(!N)return b.getBoundingClientRect()}};V(ge),F.postMessage({resize:{width:ge.width,height:ge.height}});return}pe.width=pe.height=null}function Le(){ae=null,D&&($=!1,t.removeEventListener("resize",je)),N&&b&&(document.body.removeChild(b),b=null,Y=!1)}return D&&!$&&($=!0,t.addEventListener("resize",je,!1)),F?F.fire(q,pe,Le):le(q,pe,Le)}return he.reset=function(){F&&F.reset(),ae&&ae.reset()},he}var de;function me(){return de||(de=ce(null,{useWorker:!0,resize:!0})),de}function qe(b,m,N,D,$,P,R){var F=new Path2D(b),V=new Path2D;V.addPath(F,new DOMMatrix(m));var Y=new Path2D;return Y.addPath(V,new DOMMatrix([Math.cos(R)*$,Math.sin(R)*$,-Math.sin(R)*P,Math.cos(R)*P,N,D])),Y}function we(b){if(!l)throw new Error("path confetti are not supported in this browser");var m,N;typeof b=="string"?m=b:(m=b.path,N=b.matrix);var D=new Path2D(m),$=document.createElement("canvas"),P=$.getContext("2d");if(!N){for(var R=1e3,F=R,V=R,Y=0,H=0,ae,le,he=0;he<R;he+=2)for(var q=0;q<R;q+=2)P.isPointInPath(D,he,q,"nonzero")&&(F=Math.min(F,he),V=Math.min(V,q),Y=Math.max(Y,he),H=Math.max(H,q));ae=Y-F,le=H-V;var X=10,_e=Math.min(X/ae,X/le);N=[_e,0,0,_e,-Math.round(ae/2+F)*_e,-Math.round(le/2+V)*_e]}return{type:"path",path:m,matrix:N}}function jt(b){var m,N=1,D="#000000",$='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?m=b:(m=b.text,N="scalar"in b?b.scalar:N,$="fontFamily"in b?b.fontFamily:$,D="color"in b?b.color:D);var P=10*N,R=""+P+"px "+$,F=new OffscreenCanvas(P,P),V=F.getContext("2d");V.font=R;var Y=V.measureText(m),H=Math.ceil(Y.actualBoundingBoxRight+Y.actualBoundingBoxLeft),ae=Math.ceil(Y.actualBoundingBoxAscent+Y.actualBoundingBoxDescent),le=2,he=Y.actualBoundingBoxLeft+le,q=Y.actualBoundingBoxAscent+le;H+=le+le,ae+=le+le,F=new OffscreenCanvas(H,ae),V=F.getContext("2d"),V.font=R,V.fillStyle=D,V.fillText(m,he,q);var X=1/N;return{type:"bitmap",bitmap:F.transferToImageBitmap(),matrix:[X,0,0,X,-H*X/2,-ae*X/2]}}n.exports=function(){return me().apply(this,arguments)},n.exports.reset=function(){me().reset()},n.exports.create=ce,n.exports.shapeFromPath=we,n.exports.shapeFromText=jt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Jn,!1);const Fu=Jn.exports;Jn.exports.create;const as=()=>{const e=ne(Fr),t=ne(Dr),n=ne(es),r=ne(Ji),{activeContent:i,setActiveContent:s}=xn(),l=ne(Kn),u=ne(Qn),o=(g,h)=>g.map(v=>v.id===h.id?h:v),c=(g,h)=>{const v=g.feed.id,C=qc(g.published_at);h==="read"?(e(p=>({...p,[v]:Math.max(0,p[v]-1)})),n(p=>p+1),C&&t(p=>Math.max(0,p-1))):(e(p=>({...p,[v]:p[v]+1})),n(p=>Math.max(0,p-1)),C&&t(p=>p+1));const A={...g,status:h};i&&s(A),l(p=>o(p,A)),u(p=>o(p,A))},d=(g,h)=>{h?(r(C=>C+1),Fu({particleCount:100,angle:120,spread:70,origin:{x:1,y:1}})):r(C=>Math.max(0,C-1));const v={...g,starred:h};i&&s(v),l(C=>o(C,v)),u(C=>o(C,v))};return{handleEntryStatusUpdate:c,handleFetchContent:async()=>{try{const g=await Kc(i.id);re.success("Fetched content successfully"),s({...i,content:g.data.content})}catch{re.error("Failed to fetch content, please try again later")}},handleToggleStarred:async g=>{const h=!g.starred;d(g,h),Gc(g.id).catch(()=>{re.error(`Failed to ${h?"star":"unstar"} entry, please try again later`),d(g,!h)})},handleToggleStatus:async g=>{const h=g.status,v=h==="read"?"unread":"read";c(g,v),Qi([g.id],v).catch(()=>{re.error(`Failed to mark entry as ${v}, please try again later`),c(g,h)})}}},Hs=(e,t="start")=>{const n=document.querySelector(e);n&&n.scrollIntoView({behavior:"smooth",block:t})},Du=e=>{const n=new DOMParser().parseFromString(e,"text/html").querySelectorAll("img");return Array.from(n).map(r=>r.getAttribute("src"))},Ci=e=>{var i;const r=(i=new DOMParser().parseFromString(e.content,"text/html").querySelector("img"))==null?void 0:i.getAttribute("src");return{...e,imgSrc:r}},$u=Q(!1),xo=()=>{const{pageSize:e}=K(xe),[t,n]=Re(Kn),[r,i]=Re(Qn),s=K(Zn),l=ne(Ur),u=ne(Vr),[o,c]=Re($u),d=y=>{const g=[...s==="all"?t:r,...y];return s==="all"?(n(g),u(y.length===e)):(i(g),l(y.length===e)),g};return{handleLoadMore:async(y,x)=>{var g;c(!0);try{let h;if(s==="all"?h=await x(null,t[t.length-1].id):h=await x("unread",r[r.length-1].id),(g=h==null?void 0:h.data)!=null&&g.entries){const v=h.data.entries.map(Ci);d(v)}}catch(h){console.error("Error fetching more articles:",h)}finally{c(!1)}},loadingMore:o}},os=(e,t)=>{const n=K(ss),r=K(Zn),i=K(Ur),s=K(Vr),{activeContent:l,setActiveContent:u}=xn(),{loadingMore:o}=xo(),[c,d]=S.useState(!1),[f,y]=S.useState(!1);S.useEffect(()=>{f&&!o&&(d(!1),y(!1),h())},[f,o]);const x=(w,_)=>{l&&(u(null),w.current&&(w.current.setAttribute("tabIndex","-1"),w.current.focus()),_.current&&_.current.scrollTo(0,0))},g=()=>{const w=n.findIndex(_=>_.id===(l==null?void 0:l.id));if(w>0){const _=n[w-1];t(_),Hs(".card-custom-selected-style","end")}},h=()=>{if(c)return;const w=n.findIndex(k=>k.id===(l==null?void 0:l.id));if(w===n.length-1&&(r==="all"&&s||i)){d(!0),y(!0);return}if(w===-1){const k=document.querySelector(".entry-list");k&&k.scrollTo(0,0)}if(w<n.length-1){const k=n[w+1];t(k),y(!1),Hs(".card-custom-selected-style")}};return{handleEscapeKey:x,handleLeftKey:g,handleRightKey:h,handleBKey:()=>{l&&window.open(l.url,"_blank")},handleDKey:w=>{l&&w()},handleMKey:w=>{l&&w()},handleSKey:w=>{l&&w()}}};var wo={},ls={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});var Ws="html",Ys="head",lr="body",Lu=/<([a-zA-Z]+[0-9]?)/,qs=/<head[^]*>/i,Xs=/<body[^]*>/i,_r=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},ji=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Gs=typeof window=="object"&&window.DOMParser;if(typeof Gs=="function"){var Vu=new Gs,Uu="text/html";ji=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),Vu.parseFromString(e,Uu)},_r=ji}if(typeof document=="object"&&document.implementation){var cr=document.implementation.createHTMLDocument();_r=function(e,t){if(t){var n=cr.documentElement.querySelector(t);return n&&(n.innerHTML=e),cr}return cr.documentElement.innerHTML=e,cr}}var ur=typeof document=="object"&&document.createElement("template"),Ti;ur&&ur.content&&(Ti=function(e){return ur.innerHTML=e,ur.content.childNodes});function Bu(e){var t,n,r=e.match(Lu),i=r&&r[1]?r[1].toLowerCase():"";switch(i){case Ws:{var s=ji(e);if(!qs.test(e)){var l=s.querySelector(Ys);(t=l==null?void 0:l.parentNode)===null||t===void 0||t.removeChild(l)}if(!Xs.test(e)){var l=s.querySelector(lr);(n=l==null?void 0:l.parentNode)===null||n===void 0||n.removeChild(l)}return s.querySelectorAll(Ws)}case Ys:case lr:{var u=_r(e).querySelectorAll(i);return Xs.test(e)&&qs.test(e)?u[0].parentNode.childNodes:u}default:{if(Ti)return Ti(e);var l=_r(e,lr).querySelector(lr);return l.childNodes}}}cs.default=Bu;var gn={},So={},er={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(er);var Z={},$t=se&&se.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),In=se&&se.__assign||function(){return In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},In.apply(this,arguments)};Object.defineProperty(Z,"__esModule",{value:!0});Z.cloneNode=Z.hasChildren=Z.isDocument=Z.isDirective=Z.isComment=Z.isText=Z.isCDATA=Z.isTag=Z.Element=Z.Document=Z.CDATA=Z.NodeWithChildren=Z.ProcessingInstruction=Z.Comment=Z.Text=Z.DataNode=Z.Node=void 0;var Ne=er,us=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),ds(this,t)},e}();Z.Node=us;var Hr=function(e){$t(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(us);Z.DataNode=Hr;var Co=function(e){$t(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Hr);Z.Text=Co;var jo=function(e){$t(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Hr);Z.Comment=jo;var To=function(e){$t(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=Ne.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Hr);Z.ProcessingInstruction=To;var Wr=function(e){$t(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(us);Z.NodeWithChildren=Wr;var Eo=function(e){$t(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Wr);Z.CDATA=Eo;var _o=function(e){$t(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Wr);Z.Document=_o;var ko=function(e){$t(t,e);function t(n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=n==="script"?Ne.ElementType.Script:n==="style"?Ne.ElementType.Style:Ne.ElementType.Tag);var l=e.call(this,i)||this;return l.name=n,l.attribs=r,l.type=s,l}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),t}(Wr);Z.Element=ko;function Mo(e){return(0,Ne.isTag)(e)}Z.isTag=Mo;function Ao(e){return e.type===Ne.ElementType.CDATA}Z.isCDATA=Ao;function Io(e){return e.type===Ne.ElementType.Text}Z.isText=Io;function Po(e){return e.type===Ne.ElementType.Comment}Z.isComment=Po;function Oo(e){return e.type===Ne.ElementType.Directive}Z.isDirective=Oo;function Ro(e){return e.type===Ne.ElementType.Root}Z.isDocument=Ro;function zu(e){return Object.prototype.hasOwnProperty.call(e,"children")}Z.hasChildren=zu;function ds(e,t){t===void 0&&(t=!1);var n;if(Io(e))n=new Co(e.data);else if(Po(e))n=new jo(e.data);else if(Mo(e)){var r=t?li(e.children):[],i=new ko(e.name,In({},e.attribs),r);r.forEach(function(o){return o.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=In({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=In({},e["x-attribsPrefix"])),n=i}else if(Ao(e)){var r=t?li(e.children):[],s=new Eo(r);r.forEach(function(c){return c.parent=s}),n=s}else if(Ro(e)){var r=t?li(e.children):[],l=new _o(r);r.forEach(function(c){return c.parent=l}),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else if(Oo(e)){var u=new To(e.name,e.data);e["x-name"]!=null&&(u["x-name"]=e["x-name"],u["x-publicId"]=e["x-publicId"],u["x-systemId"]=e["x-systemId"]),n=u}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}Z.cloneNode=ds;function li(e){for(var t=e.map(function(r){return ds(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=se&&se.__createBinding||(Object.create?function(u,o,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(o,c);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(u,d,f)}:function(u,o,c,d){d===void 0&&(d=c),u[d]=o[c]}),n=se&&se.__exportStar||function(u,o){for(var c in u)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,u,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=er,i=Z;n(Z,e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function u(o,c,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof o=="object"&&(c=o,o=void 0),this.callback=o??null,this.options=c??s,this.elementCB=d??null}return u.prototype.onparserinit=function(o){this.parser=o},u.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(o){this.handleCallback(o)},u.prototype.onclosetag=function(){this.lastNode=null;var o=this.tagStack.pop();this.options.withEndIndices&&(o.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(o)},u.prototype.onopentag=function(o,c){var d=this.options.xmlMode?r.ElementType.Tag:void 0,f=new i.Element(o,c,void 0,d);this.addNode(f),this.tagStack.push(f)},u.prototype.ontext=function(o){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=o,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new i.Text(o);this.addNode(d),this.lastNode=d}},u.prototype.oncomment=function(o){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=o;return}var c=new i.Comment(o);this.addNode(c),this.lastNode=c},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var o=new i.Text(""),c=new i.CDATA([o]);this.addNode(c),o.parent=c,this.lastNode=o},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(o,c){var d=new i.ProcessingInstruction(o,c);this.addNode(d)},u.prototype.handleCallback=function(o){if(typeof this.callback=="function")this.callback(o,this.dom);else if(o)throw o},u.prototype.addNode=function(o){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(o.startIndex=this.parser.startIndex),this.options.withEndIndices&&(o.endIndex=this.parser.endIndex),c.children.push(o),d&&(o.prev=d,d.next=o),o.parent=c,this.lastNode=null},u}();e.DomHandler=l,e.default=l})(So);var No={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(No);Object.defineProperty(gn,"__esModule",{value:!0});gn.formatDOM=gn.formatAttributes=void 0;var dr=So,Hu=No;function Wu(e){return Hu.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function Fo(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}gn.formatAttributes=Fo;function Yu(e){e=e.toLowerCase();var t=Wu(e);return t||e}function Do(e,t,n){t===void 0&&(t=null);for(var r=[],i,s=0,l=e.length;s<l;s++){var u=e[s];switch(u.nodeType){case 1:{var o=Yu(u.nodeName);i=new dr.Element(o,Fo(u.attributes)),i.children=Do(o==="template"?u.content.childNodes:u.childNodes,i);break}case 3:i=new dr.Text(u.nodeValue);break;case 8:i=new dr.Comment(u.nodeValue);break;default:continue}var c=r[s-1]||null;c&&(c.next=i),i.parent=t,i.prev=c,i.next=null,r.push(i)}return n&&(i=new dr.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),i.next=r[0]||null,i.parent=t,r.unshift(i),r[1]&&(r[1].prev=r[0])),r}gn.formatDOM=Do;var qu=se&&se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});var Xu=qu(cs),Gu=gn,Ku=/<(![a-zA-Z\s]+)>/;function Qu(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(Ku),n=t?t[1]:void 0;return(0,Gu.formatDOM)((0,Xu.default)(e),null,n)}ls.default=Qu;var Yr={},st={},qr={},Zu=0;qr.SAME=Zu;var Ju=1;qr.CAMELCASE=Ju;qr.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const $o=0,Lt=1,Xr=2,Gr=3,hs=4,Lo=5,Vo=6;function ed(e){return Ee.hasOwnProperty(e)?Ee[e]:null}function Pe(e,t,n,r,i,s,l){this.acceptsBooleans=t===Xr||t===Gr||t===hs,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}const Ee={},td=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];td.forEach(e=>{Ee[e]=new Pe(e,$o,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{Ee[e]=new Pe(e,Lt,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{Ee[e]=new Pe(e,Xr,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{Ee[e]=new Pe(e,Xr,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{Ee[e]=new Pe(e,Gr,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{Ee[e]=new Pe(e,Gr,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{Ee[e]=new Pe(e,hs,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{Ee[e]=new Pe(e,Vo,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{Ee[e]=new Pe(e,Lo,!1,e.toLowerCase(),null,!1,!1)});const fs=/[\-\:]([a-z])/g,ms=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(fs,ms);Ee[t]=new Pe(t,Lt,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(fs,ms);Ee[t]=new Pe(t,Lt,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(fs,ms);Ee[t]=new Pe(t,Lt,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{Ee[e]=new Pe(e,Lt,!1,e.toLowerCase(),null,!1,!1)});const nd="xlinkHref";Ee[nd]=new Pe("xlinkHref",Lt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{Ee[e]=new Pe(e,Lt,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:rd,SAME:id,possibleStandardNames:Ks}=qr,sd=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",ad=sd+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",od=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+ad+"]*$")),ld=Object.keys(Ks).reduce((e,t)=>{const n=Ks[t];return n===id?e[t]=t:n===rd?e[t.toLowerCase()]=t:e[t]=n,e},{});st.BOOLEAN=Gr;st.BOOLEANISH_STRING=Xr;st.NUMERIC=Lo;st.OVERLOADED_BOOLEAN=hs;st.POSITIVE_NUMERIC=Vo;st.RESERVED=$o;st.STRING=Lt;st.getPropertyInfo=ed;st.isCustomAttribute=od;st.possibleStandardNames=ld;var ps={},gs={},Qs=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,cd=/\n/g,ud=/^\s*/,dd=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,hd=/^:\s*/,fd=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,md=/^[;\s]*/,pd=/^\s+|\s+$/g,gd=`
`,Zs="/",Js="*",Qt="",vd="comment",yd="declaration",bd=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var h=g.match(cd);h&&(n+=h.length);var v=g.lastIndexOf(gd);r=~v?g.length-v:r+g.length}function s(){var g={line:n,column:r};return function(h){return h.position=new l(g),c(),h}}function l(g){this.start=g,this.end={line:n,column:r},this.source=t.source}l.prototype.content=e;function u(g){var h=new Error(t.source+":"+n+":"+r+": "+g);if(h.reason=g,h.filename=t.source,h.line=n,h.column=r,h.source=e,!t.silent)throw h}function o(g){var h=g.exec(e);if(h){var v=h[0];return i(v),e=e.slice(v.length),h}}function c(){o(ud)}function d(g){var h;for(g=g||[];h=f();)h!==!1&&g.push(h);return g}function f(){var g=s();if(!(Zs!=e.charAt(0)||Js!=e.charAt(1))){for(var h=2;Qt!=e.charAt(h)&&(Js!=e.charAt(h)||Zs!=e.charAt(h+1));)++h;if(h+=2,Qt===e.charAt(h-1))return u("End of comment missing");var v=e.slice(2,h-2);return r+=2,i(v),e=e.slice(h),r+=2,g({type:vd,comment:v})}}function y(){var g=s(),h=o(dd);if(h){if(f(),!o(hd))return u("property missing ':'");var v=o(fd),C=g({type:yd,property:ea(h[0].replace(Qs,Qt)),value:v?ea(v[0].replace(Qs,Qt)):Qt});return o(md),C}}function x(){var g=[];d(g);for(var h;h=y();)h!==!1&&(g.push(h),d(g));return g}return c(),x()};function ea(e){return e?e.replace(pd,Qt):Qt}var xd=se&&se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gs,"__esModule",{value:!0});var wd=xd(bd);function Sd(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,wd.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var l=s.property,u=s.value;i?t(l,u,s):u&&(n=n||{},n[l]=u)}}),n}gs.default=Sd;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.camelCase=void 0;var Cd=/^--[a-zA-Z0-9-]+$/,jd=/-([a-z])/g,Td=/^[^-]+$/,Ed=/^-(webkit|moz|ms|o|khtml)-/,_d=/^-(ms)-/,kd=function(e){return!e||Td.test(e)||Cd.test(e)},Md=function(e,t){return t.toUpperCase()},ta=function(e,t){return"".concat(t,"-")},Ad=function(e,t){return t===void 0&&(t={}),kd(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(_d,ta):e=e.replace(Ed,ta),e.replace(jd,Md))};Kr.camelCase=Ad;var Id=se&&se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Pd=Id(gs),Od=Kr;function Ei(e,t){var n={};return!e||typeof e!="string"||(0,Pd.default)(e,function(r,i){r&&i&&(n[(0,Od.camelCase)(r,t)]=i)}),n}Ei.default=Ei;var Rd=Ei;(function(e){var t=se&&se.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var n=S,r=t(Rd),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function s(d,f){return d.includes("-")?!i.has(d):!!(f&&typeof f.is=="string")}e.isCustomComponent=s;var l={reactCompat:!0};function u(d,f){if(typeof d=="string"){if(!d.trim()){f.style={};return}try{f.style=(0,r.default)(d,l)}catch{f.style={}}}}e.setStyleProp=u,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var o=function(d){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};e.canTextBeChildOfNode=o;var c=function(d){return d};e.returnFirstArg=c})(ps);Object.defineProperty(Yr,"__esModule",{value:!0});var Mn=st,na=ps,Nd=["checked","value"],Fd=["input","select","textarea"],Dd={reset:!0,submit:!0};function $d(e,t){e===void 0&&(e={});var n={},r=!!(e.type&&Dd[e.type]);for(var i in e){var s=e[i];if((0,Mn.isCustomAttribute)(i)){n[i]=s;continue}var l=i.toLowerCase(),u=ra(l);if(u){var o=(0,Mn.getPropertyInfo)(u);switch(Nd.includes(u)&&Fd.includes(t)&&!r&&(u=ra("default"+l)),n[u]=s,o&&o.type){case Mn.BOOLEAN:n[u]=!0;break;case Mn.OVERLOADED_BOOLEAN:s===""&&(n[u]=!0);break}continue}na.PRESERVE_CUSTOM_ATTRIBUTES&&(n[i]=s)}return(0,na.setStyleProp)(e.style,n),n}Yr.default=$d;function ra(e){return Mn.possibleStandardNames[e]}var vs={},Ld=se&&se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vs,"__esModule",{value:!0});var ci=S,Vd=Ld(Yr),Pn=ps,Ud={cloneElement:ci.cloneElement,createElement:ci.createElement,isValidElement:ci.isValidElement};function Uo(e,t){t===void 0&&(t={});for(var n=[],r=typeof t.replace=="function",i=t.transform||Pn.returnFirstArg,s=t.library||Ud,l=s.cloneElement,u=s.createElement,o=s.isValidElement,c=e.length,d=0;d<c;d++){var f=e[d];if(r){var y=t.replace(f,d);if(o(y)){c>1&&(y=l(y,{key:y.key||d})),n.push(i(y,f,d));continue}}if(f.type==="text"){var x=!f.data.trim().length;if(x&&f.parent&&!(0,Pn.canTextBeChildOfNode)(f.parent)||t.trim&&x)continue;n.push(i(f.data,f,d));continue}var g=f,h={};Bd(g)?((0,Pn.setStyleProp)(g.attribs.style,g.attribs),h=g.attribs):g.attribs&&(h=(0,Vd.default)(g.attribs,g.name));var v=void 0;switch(f.type){case"script":case"style":f.children[0]&&(h.dangerouslySetInnerHTML={__html:f.children[0].data});break;case"tag":f.name==="textarea"&&f.children[0]?h.defaultValue=f.children[0].data:f.children&&f.children.length&&(v=Uo(f.children,t));break;default:continue}c>1&&(h.key=d),n.push(i(u(f.name,h,v),f,d))}return n.length===1?n[0]:n}vs.default=Uo;function Bd(e){return Pn.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,Pn.isCustomComponent)(e.name,e.attribs)}var Bo={},J={},Vt=se&&se.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),On=se&&se.__assign||function(){return On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},On.apply(this,arguments)};Object.defineProperty(J,"__esModule",{value:!0});J.cloneNode=J.hasChildren=J.isDocument=J.isDirective=J.isComment=J.isText=J.isCDATA=J.isTag=J.Element=J.Document=J.CDATA=J.NodeWithChildren=J.ProcessingInstruction=J.Comment=J.Text=J.DataNode=J.Node=void 0;var Fe=er,ys=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),bs(this,t)},e}();J.Node=ys;var Qr=function(e){Vt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(ys);J.DataNode=Qr;var zo=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Qr);J.Text=zo;var Ho=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Qr);J.Comment=Ho;var Wo=function(e){Vt(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=Fe.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Qr);J.ProcessingInstruction=Wo;var Zr=function(e){Vt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(ys);J.NodeWithChildren=Zr;var Yo=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Zr);J.CDATA=Yo;var qo=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Zr);J.Document=qo;var Xo=function(e){Vt(t,e);function t(n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=n==="script"?Fe.ElementType.Script:n==="style"?Fe.ElementType.Style:Fe.ElementType.Tag);var l=e.call(this,i)||this;return l.name=n,l.attribs=r,l.type=s,l}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),t}(Zr);J.Element=Xo;function Go(e){return(0,Fe.isTag)(e)}J.isTag=Go;function Ko(e){return e.type===Fe.ElementType.CDATA}J.isCDATA=Ko;function Qo(e){return e.type===Fe.ElementType.Text}J.isText=Qo;function Zo(e){return e.type===Fe.ElementType.Comment}J.isComment=Zo;function Jo(e){return e.type===Fe.ElementType.Directive}J.isDirective=Jo;function el(e){return e.type===Fe.ElementType.Root}J.isDocument=el;function zd(e){return Object.prototype.hasOwnProperty.call(e,"children")}J.hasChildren=zd;function bs(e,t){t===void 0&&(t=!1);var n;if(Qo(e))n=new zo(e.data);else if(Zo(e))n=new Ho(e.data);else if(Go(e)){var r=t?ui(e.children):[],i=new Xo(e.name,On({},e.attribs),r);r.forEach(function(o){return o.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=On({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=On({},e["x-attribsPrefix"])),n=i}else if(Ko(e)){var r=t?ui(e.children):[],s=new Yo(r);r.forEach(function(c){return c.parent=s}),n=s}else if(el(e)){var r=t?ui(e.children):[],l=new qo(r);r.forEach(function(c){return c.parent=l}),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else if(Jo(e)){var u=new Wo(e.name,e.data);e["x-name"]!=null&&(u["x-name"]=e["x-name"],u["x-publicId"]=e["x-publicId"],u["x-systemId"]=e["x-systemId"]),n=u}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}J.cloneNode=bs;function ui(e){for(var t=e.map(function(r){return bs(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=se&&se.__createBinding||(Object.create?function(u,o,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(o,c);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(u,d,f)}:function(u,o,c,d){d===void 0&&(d=c),u[d]=o[c]}),n=se&&se.__exportStar||function(u,o){for(var c in u)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,u,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=er,i=J;n(J,e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function u(o,c,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof o=="object"&&(c=o,o=void 0),this.callback=o??null,this.options=c??s,this.elementCB=d??null}return u.prototype.onparserinit=function(o){this.parser=o},u.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(o){this.handleCallback(o)},u.prototype.onclosetag=function(){this.lastNode=null;var o=this.tagStack.pop();this.options.withEndIndices&&(o.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(o)},u.prototype.onopentag=function(o,c){var d=this.options.xmlMode?r.ElementType.Tag:void 0,f=new i.Element(o,c,void 0,d);this.addNode(f),this.tagStack.push(f)},u.prototype.ontext=function(o){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=o,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new i.Text(o);this.addNode(d),this.lastNode=d}},u.prototype.oncomment=function(o){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=o;return}var c=new i.Comment(o);this.addNode(c),this.lastNode=c},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var o=new i.Text(""),c=new i.CDATA([o]);this.addNode(c),o.parent=c,this.lastNode=o},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(o,c){var d=new i.ProcessingInstruction(o,c);this.addNode(d)},u.prototype.handleCallback=function(o){if(typeof this.callback=="function")this.callback(o,this.dom);else if(o)throw o},u.prototype.addNode=function(o){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(o.startIndex=this.parser.startIndex),this.options.withEndIndices&&(o.endIndex=this.parser.endIndex),c.children.push(o),d&&(o.prev=d,d.next=o),o.parent=c,this.lastNode=null},u}();e.DomHandler=l,e.default=l})(Bo);(function(e){var t=se&&se.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var n=t(ls);e.htmlToDOM=n.default;var r=t(Yr);e.attributesToProps=r.default;var i=t(vs);e.domToReact=i.default;var s=Bo;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return s.Text}});var l={lowerCaseAttributeNames:!1};function u(o,c){if(typeof o!="string")throw new TypeError("First argument must be a string");return o?(0,i.default)((0,n.default)(o,(c==null?void 0:c.htmlparser2)||l),c):[]}e.default=u})(wo);const ia=Or(wo),Hd=ia.default||ia;function ke(){return ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function xs(e,t){if(e==null)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}function xr(e){var t=S.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var n=Object.create(null);Object.keys(e).forEach(function(r){n[r]=function(){var i;return(i=t.fn[r]).call.apply(i,[t.fn].concat([].slice.call(arguments)))}}),t.curr=n}return t.curr}function _i(e){return S.useReducer(function(t,n){return ke({},t,typeof n=="function"?n(t):n)},e)}S.createContext(void 0);var St=typeof window<"u"&&"ontouchstart"in window,ki=function(e,t,n){return Math.max(Math.min(e,n),t)},hr=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),ki(e,1*(1-n),Math.max(6,t)*(1+n))},Mi=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?S.useEffect:S.useLayoutEffect;function hn(e,t,n){var r=S.useRef(t);r.current=t,S.useEffect(function(){function i(s){r.current(s)}return e&&window.addEventListener(e,i,n),function(){e&&window.removeEventListener(e,i)}},[e])}var Wd=["container"];function Yd(e){var t=e.container,n=t===void 0?document.body:t,r=xs(e,Wd);return za.createPortal(ee.createElement("div",ke({},r)),n)}function qd(e){return ee.createElement("svg",ke({width:"44",height:"44",viewBox:"0 0 768 768"},e),ee.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function Xd(e){return ee.createElement("svg",ke({width:"44",height:"44",viewBox:"0 0 768 768"},e),ee.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function Gd(e){return ee.createElement("svg",ke({width:"44",height:"44",viewBox:"0 0 768 768"},e),ee.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function Kd(){return S.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function sa(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var i=e.touches[1],s=i.clientX,l=i.clientY;return[(n+s)/2,(r+l)/2,Math.sqrt(Math.pow(s-n,2)+Math.pow(l-r,2))]}return[n,r,0]}var Pt=function(e,t,n,r){var i=n*t,s=(i-r)/2,l=void 0,u=e;return i<=r?(l=1,u=0):e>0&&s-e<=0?(l=2,u=s):e<0&&s+e<=0&&(l=3,u=-s),[l,u]};function di(e,t,n,r,i,s,l,u,o,c){l===void 0&&(l=innerWidth/2),u===void 0&&(u=innerHeight/2),o===void 0&&(o=0),c===void 0&&(c=0);var d=Pt(e,s,n,innerWidth)[0],f=Pt(t,s,r,innerHeight),y=innerWidth/2,x=innerHeight/2;return{x:l-s/i*(l-(y+e))-y+(r/n>=3&&n*s===innerWidth?0:d?o/2:o),y:u-s/i*(u-(x+t))-x+(f[0]?c/2:c),lastCX:l,lastCY:u}}function Ai(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function hi(e,t,n){var r=Ai(n,innerWidth,innerHeight),i=r[0],s=r[1],l=0,u=i,o=s,c=e/t*s,d=t/e*i;return e<i&&t<s?(u=e,o=t):e<i&&t>=s?u=c:e>=i&&t<s||e/t>i/s?o=d:t/e>=3&&!r[2]?l=((o=d)-s)/2:u=c,{width:u,height:o,x:0,y:l,pause:!0}}function fr(e,t){var n=t.leading,r=n!==void 0&&n,i=t.maxWait,s=t.wait,l=s===void 0?i||0:s,u=S.useRef(e);u.current=e;var o=S.useRef(0),c=S.useRef(),d=function(){return c.current&&clearTimeout(c.current)},f=S.useCallback(function(){var y=[].slice.call(arguments),x=Date.now();function g(){o.current=x,d(),u.current.apply(null,y)}var h=o.current,v=x-h;if(h===0&&(r&&g(),o.current=x),i!==void 0){if(v>i)return void g()}else v<l&&(o.current=x);d(),c.current=setTimeout(function(){g(),o.current=0},l)},[l,i,r]);return f.cancel=d,f}var aa=function(e,t,n){return Zt(e,t,n,100,function(r){return r},function(){return Zt(t,e,n)})},Qd=function(e){return 1-Math.pow(1-e,4)};function Zt(e,t,n,r,i,s){r===void 0&&(r=400),i===void 0&&(i=Qd);var l=t-e;if(l!==0){var u=Date.now(),o=0,c=function(){var f=Math.min(1,(Date.now()-u)/r);n(e+i(f)*l)&&f<1?d():(cancelAnimationFrame(o),f>=1&&s&&s())};d()}function d(){o=requestAnimationFrame(c)}}var Zd={T:0,L:0,W:0,H:0,FIT:void 0},tl=function(){var e=S.useRef(!1);return S.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},Jd=["className"];function eh(e){var t=e.className,n=xs(e,Jd);return ee.createElement("div",ke({className:"PhotoView__Spinner "+t},n),ee.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},ee.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),ee.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var th=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function nh(e){var t=e.src,n=e.loaded,r=e.broken,i=e.className,s=e.onPhotoLoad,l=e.loadingElement,u=e.brokenElement,o=xs(e,th),c=tl();return t&&!r?ee.createElement(ee.Fragment,null,ee.createElement("img",ke({className:"PhotoView__Photo"+(i?" "+i:""),src:t,onLoad:function(d){var f=d.target;c.current&&s({loaded:!0,naturalWidth:f.naturalWidth,naturalHeight:f.naturalHeight})},onError:function(){c.current&&s({broken:!0})},alt:""},o)),!n&&(ee.createElement("span",{className:"PhotoView__icon"},l)||ee.createElement(eh,{className:"PhotoView__icon"}))):u?ee.createElement("span",{className:"PhotoView__icon"},typeof u=="function"?u({src:t}):u):null}var rh={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function ih(e){var t=e.item,n=t.src,r=t.render,i=t.width,s=i===void 0?0:i,l=t.height,u=l===void 0?0:l,o=t.originRef,c=e.visible,d=e.speed,f=e.easing,y=e.wrapClassName,x=e.className,g=e.style,h=e.loadingElement,v=e.brokenElement,C=e.onPhotoTap,A=e.onMaskTap,p=e.onReachMove,w=e.onReachUp,_=e.onPhotoResize,k=e.isActive,T=e.expose,E=_i(rh),I=E[0],O=E[1],L=S.useRef(0),W=tl(),ie=I.naturalWidth,ce=ie===void 0?s:ie,de=I.naturalHeight,me=de===void 0?u:de,qe=I.width,we=qe===void 0?s:qe,jt=I.height,b=jt===void 0?u:jt,m=I.loaded,N=m===void 0?!n:m,D=I.broken,$=I.x,P=I.y,R=I.touched,F=I.stopRaf,V=I.maskTouched,Y=I.rotate,H=I.scale,ae=I.CX,le=I.CY,he=I.lastX,q=I.lastY,X=I.lastCX,_e=I.lastCY,pe=I.lastScale,je=I.touchTime,Le=I.touchLength,ge=I.pause,ft=I.reach,Ut=xr({onScale:function(j){return Xe(hr(j))},onRotate:function(j){Y!==j&&(T({rotate:j}),O(ke({rotate:j},hi(ce,me,j))))}});function Xe(j,U,oe){H!==j&&(T({scale:j}),O(ke({scale:j},di($,P,we,b,H,j,U,oe),j<=1&&{x:0,y:0})))}var Bt=fr(function(j,U,oe){if(oe===void 0&&(oe=0),(R||V)&&k){var Wt=Ai(Y,we,b),mt=Wt[0],Ke=Wt[1];if(oe===0&&L.current===0){var Te=Math.abs(j-ae)<=20,De=Math.abs(U-le)<=20;if(Te&&De)return void O({lastCX:j,lastCY:U});L.current=Te?U>le?3:2:1}var Yt=j-X,qt=U-_e,Qe=void 0;if(oe===0){var Xt=Pt(Yt+he,H,mt,innerWidth)[0],sn=Pt(qt+q,H,Ke,innerHeight);Qe=function(_t,gt,vt,lt){return gt&&_t===1||lt==="x"?"x":vt&&_t>1||lt==="y"?"y":void 0}(L.current,Xt,sn[0],ft),Qe!==void 0&&p(Qe,j,U,H)}if(Qe==="x"||V)return void O({reach:"x"});var pt=hr(H+(oe-Le)/100/2*H,ce/we,.2);T({scale:pt}),O(ke({touchLength:oe,reach:Qe,scale:pt},di($,P,we,b,H,pt,j,U,Yt,qt)))}},{maxWait:8});function zt(j){return!F&&!R&&(W.current&&O(ke({},j,{pause:c})),W.current)}var Ge,Ve,at,Tt,Ht,Et,tn,Me,ir=(Ht=function(j){return zt({x:j})},Et=function(j){return zt({y:j})},tn=function(j){return W.current&&(T({scale:j}),O({scale:j})),!R&&W.current},Me=xr({X:function(j){return Ht(j)},Y:function(j){return Et(j)},S:function(j){return tn(j)}}),function(j,U,oe,Wt,mt,Ke,Te,De,Yt,qt,Qe){var Xt=Ai(qt,mt,Ke),sn=Xt[0],pt=Xt[1],_t=Pt(j,De,sn,innerWidth),gt=_t[0],vt=_t[1],lt=Pt(U,De,pt,innerHeight),an=lt[0],ar=lt[1],on=Date.now()-Qe;if(on>=200||De!=Te||Math.abs(Yt-Te)>1){var kt=di(j,U,mt,Ke,Te,De),yt=kt.x,Gt=kt.y,Ue=gt?vt:yt!==j?yt:null,ln=an?ar:Gt!==U?Gt:null;return Ue!==null&&Zt(j,Ue,Me.X),ln!==null&&Zt(U,ln,Me.Y),void(De!=Te&&Zt(Te,De,Me.S))}var Kt=(j-oe)/on,Mt=(U-Wt)/on,At=Math.sqrt(Math.pow(Kt,2)+Math.pow(Mt,2)),bt=!1,xt=!1;(function(Ze,Ae){var Ie=Ze,wt=0,Je=void 0,Be=0,cn=function(jn){Je||(Je=jn);var Tn=jn-Je,Fs=Math.sign(Ze),Ds=-.001*Fs,$s=Math.sign(-Ie)*Math.pow(Ie,2)*2e-4,Nl=Ie*Tn+(Ds+$s)*Math.pow(Tn,2)/2;wt+=Nl,Je=jn,Fs*(Ie+=(Ds+$s)*Tn)<=0?ze():Ae(wt)?ct():ze()};function ct(){Be=requestAnimationFrame(cn)}function ze(){cancelAnimationFrame(Be)}ct()})(At,function(Ze){var Ae=j+Ze*(Kt/At),Ie=U+Ze*(Mt/At),wt=Pt(Ae,Te,sn,innerWidth),Je=wt[0],Be=wt[1],cn=Pt(Ie,Te,pt,innerHeight),ct=cn[0],ze=cn[1];if(Je&&!bt&&(bt=!0,gt?Zt(Ae,Be,Me.X):aa(Be,Ae+(Ae-Be),Me.X)),ct&&!xt&&(xt=!0,an?Zt(Ie,ze,Me.Y):aa(ze,Ie+(Ie-ze),Me.Y)),bt&&xt)return!1;var jn=bt||Me.X(Be),Tn=xt||Me.Y(ze);return jn&&Tn})}),nn=(Ge=C,Ve=function(j,U){ft||Xe(H!==1?1:Math.max(2,ce/we),j,U)},at=S.useRef(0),Tt=fr(function(){at.current=0,Ge.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var j=[].slice.call(arguments);at.current+=1,Tt.apply(void 0,j),at.current>=2&&(Tt.cancel(),at.current=0,Ve.apply(void 0,j))});function rn(j,U){if(L.current=0,(R||V)&&k){O({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var oe=hr(H,ce/we);if(ir($,P,he,q,we,b,H,oe,pe,Y,je),w(j,U),ae===j&&le===U){if(R)return void nn(j,U);V&&A(j,U)}}}function Cn(j,U,oe){oe===void 0&&(oe=0),O({touched:!0,CX:j,CY:U,lastCX:j,lastCY:U,lastX:$,lastY:P,lastScale:H,touchLength:oe,touchTime:Date.now()})}function sr(j){O({maskTouched:!0,CX:j.clientX,CY:j.clientY,lastX:$,lastY:P})}hn(St?void 0:"mousemove",function(j){j.preventDefault(),Bt(j.clientX,j.clientY)}),hn(St?void 0:"mouseup",function(j){rn(j.clientX,j.clientY)}),hn(St?"touchmove":void 0,function(j){j.preventDefault();var U=sa(j);Bt.apply(void 0,U)},{passive:!1}),hn(St?"touchend":void 0,function(j){var U=j.changedTouches[0];rn(U.clientX,U.clientY)},{passive:!1}),hn("resize",fr(function(){N&&!R&&(O(hi(ce,me,Y)),_())},{maxWait:8})),Mi(function(){k&&T(ke({scale:H,rotate:Y},Ut))},[k]);var ot=function(j,U,oe,Wt,mt,Ke,Te,De,Yt,qt){var Qe=function(yt,Gt,Ue,ln,Kt){var Mt=S.useRef(!1),At=_i({lead:!0,scale:Ue}),bt=At[0],xt=bt.lead,Ze=bt.scale,Ae=At[1],Ie=fr(function(wt){try{return Kt(!0),Ae({lead:!1,scale:wt}),Promise.resolve()}catch(Je){return Promise.reject(Je)}},{wait:ln});return Mi(function(){Mt.current?(Kt(!1),Ae({lead:!0}),Ie(Ue)):Mt.current=!0},[Ue]),xt?[yt*Ze,Gt*Ze,Ue/Ze]:[yt*Ue,Gt*Ue,1]}(Ke,Te,De,Yt,qt),Xt=Qe[0],sn=Qe[1],pt=Qe[2],_t=function(yt,Gt,Ue,ln,Kt){var Mt=S.useState(Zd),At=Mt[0],bt=Mt[1],xt=S.useState(0),Ze=xt[0],Ae=xt[1],Ie=S.useRef(),wt=xr({OK:function(){return yt&&Ae(4)}});function Je(Be){Kt(!1),Ae(Be)}return S.useEffect(function(){if(Ie.current||(Ie.current=Date.now()),Ue){if(function(Be,cn){var ct=Be&&Be.current;if(ct&&ct.nodeType===1){var ze=ct.getBoundingClientRect();cn({T:ze.top,L:ze.left,W:ze.width,H:ze.height,FIT:ct.tagName==="IMG"?getComputedStyle(ct).objectFit:void 0})}}(Gt,bt),yt)return Date.now()-Ie.current<250?(Ae(1),requestAnimationFrame(function(){Ae(2),requestAnimationFrame(function(){return Je(3)})}),void setTimeout(wt.OK,ln)):void Ae(4);Je(5)}},[yt,Ue]),[Ze,At]}(j,U,oe,Yt,qt),gt=_t[0],vt=_t[1],lt=vt.W,an=vt.FIT,ar=innerWidth/2,on=innerHeight/2,kt=gt<3||gt>4;return[kt?lt?vt.L:ar:Wt+(ar-Ke*De/2),kt?lt?vt.T:on:mt+(on-Te*De/2),Xt,kt&&an?Xt*(vt.H/lt):sn,gt===0?pt:kt?lt/(Ke*De)||.01:pt,kt?an?1:0:1,gt,an]}(c,o,N,$,P,we,b,H,d,function(j){return O({pause:j})}),G=ot[4],fe=ot[6],Se="transform "+d+"ms "+f,ye={className:x,onMouseDown:St?void 0:function(j){j.stopPropagation(),j.button===0&&Cn(j.clientX,j.clientY,0)},onTouchStart:St?function(j){j.stopPropagation(),Cn.apply(void 0,sa(j))}:void 0,onWheel:function(j){if(!ft){var U=hr(H-j.deltaY/100/2,ce/we);O({stopRaf:!0}),Xe(U,j.clientX,j.clientY)}},style:{width:ot[2],height:ot[3],opacity:ot[5],objectFit:fe===4?void 0:ot[7],transform:Y?"rotate("+Y+"deg)":void 0,transition:fe>2?Se+", opacity "+d+"ms ease, height "+(fe<4?d/2:fe>4?d:0)+"ms "+f:void 0}};return ee.createElement("div",{className:"PhotoView__PhotoWrap"+(y?" "+y:""),style:g,onMouseDown:!St&&k?sr:void 0,onTouchStart:St&&k?function(j){return sr(j.touches[0])}:void 0},ee.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+G+", 0, 0, "+G+", "+ot[0]+", "+ot[1]+")",transition:R||ge?void 0:Se,willChange:k?"transform":void 0}},n?ee.createElement(nh,ke({src:n,loaded:N,broken:D},ye,{onPhotoLoad:function(j){O(ke({},j,j.loaded&&hi(j.naturalWidth||0,j.naturalHeight||0,Y)))},loadingElement:h,brokenElement:v})):r&&r({attrs:ye,scale:G,rotate:Y})))}var oa={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function sh(e){var t=e.loop,n=t===void 0?3:t,r=e.speed,i=e.easing,s=e.photoClosable,l=e.maskClosable,u=l===void 0||l,o=e.maskOpacity,c=o===void 0?1:o,d=e.pullClosable,f=d===void 0||d,y=e.bannerVisible,x=y===void 0||y,g=e.overlayRender,h=e.toolbarRender,v=e.className,C=e.maskClassName,A=e.photoClassName,p=e.photoWrapClassName,w=e.loadingElement,_=e.brokenElement,k=e.images,T=e.index,E=T===void 0?0:T,I=e.onIndexChange,O=e.visible,L=e.onClose,W=e.afterClose,ie=e.portalContainer,ce=_i(oa),de=ce[0],me=ce[1],qe=S.useState(0),we=qe[0],jt=qe[1],b=de.x,m=de.touched,N=de.pause,D=de.lastCX,$=de.lastCY,P=de.bg,R=P===void 0?c:P,F=de.lastBg,V=de.overlay,Y=de.minimal,H=de.scale,ae=de.rotate,le=de.onScale,he=de.onRotate,q=e.hasOwnProperty("index"),X=q?E:we,_e=q?I:jt,pe=S.useRef(X),je=k.length,Le=k[X],ge=typeof n=="boolean"?n:je>n,ft=function(G,fe){var Se=S.useReducer(function(oe){return!oe},!1)[1],ye=S.useRef(0),j=function(oe,Wt){var mt=S.useRef(oe);function Ke(Te){mt.current=Te}return S.useMemo(function(){(function(Te){G?(Te(G),ye.current=1):ye.current=2})(Ke)},[oe]),[mt.current,Ke]}(G),U=j[1];return[j[0],ye.current,function(){Se(),ye.current===2&&(U(!1),fe&&fe()),ye.current=0}]}(O,W),Ut=ft[0],Xe=ft[1],Bt=ft[2];Mi(function(){if(Ut)return me({pause:!0,x:X*-(innerWidth+20)}),void(pe.current=X);me(oa)},[Ut]);var zt=xr({close:function(G){he&&he(0),me({overlay:!0,lastBg:R}),L(G)},changeIndex:function(G,fe){fe===void 0&&(fe=!1);var Se=ge?pe.current+(G-X):G,ye=je-1,j=ki(Se,0,ye),U=ge?Se:j,oe=innerWidth+20;me({touched:!1,lastCX:void 0,lastCY:void 0,x:-oe*U,pause:fe}),pe.current=U,_e&&_e(ge?G<0?ye:G>ye?0:G:j)}}),Ge=zt.close,Ve=zt.changeIndex;function at(G){return G?Ge():me({overlay:!V})}function Tt(){me({x:-(innerWidth+20)*X,lastCX:void 0,lastCY:void 0,pause:!0}),pe.current=X}function Ht(G,fe,Se,ye){G==="x"?function(j){if(D!==void 0){var U=j-D,oe=U;!ge&&(X===0&&U>0||X===je-1&&U<0)&&(oe=U/2),me({touched:!0,lastCX:D,x:-(innerWidth+20)*pe.current+oe,pause:!1})}else me({touched:!0,lastCX:j,x:b,pause:!1})}(fe):G==="y"&&function(j,U){if($!==void 0){var oe=c===null?null:ki(c,.01,c-Math.abs(j-$)/100/4);me({touched:!0,lastCY:$,bg:U===1?oe:c,minimal:U===1})}else me({touched:!0,lastCY:j,bg:R,minimal:!0})}(Se,ye)}function Et(G,fe){var Se=G-(D??G),ye=fe-($??fe),j=!1;if(Se<-40)Ve(X+1);else if(Se>40)Ve(X-1);else{var U=-(innerWidth+20)*pe.current;Math.abs(ye)>100&&Y&&f&&(j=!0,Ge()),me({touched:!1,x:U,lastCX:void 0,lastCY:void 0,bg:c,overlay:!!j||V})}}hn("keydown",function(G){if(O)switch(G.key){case"ArrowLeft":Ve(X-1,!0);break;case"ArrowRight":Ve(X+1,!0);break;case"Escape":Ge()}});var tn=function(G,fe,Se){return S.useMemo(function(){var ye=G.length;return Se?G.concat(G).concat(G).slice(ye+fe-1,ye+fe+2):G.slice(Math.max(fe-1,0),Math.min(fe+2,ye+1))},[G,fe,Se])}(k,X,ge);if(!Ut)return null;var Me=V&&!Xe,ir=O?R:F,nn=le&&he&&{images:k,index:X,visible:O,onClose:Ge,onIndexChange:Ve,overlayVisible:Me,overlay:Le&&Le.overlay,scale:H,rotate:ae,onScale:le,onRotate:he},rn=r?r(Xe):400,Cn=i?i(Xe):"cubic-bezier(0.25, 0.8, 0.25, 1)",sr=r?r(3):600,ot=i?i(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return ee.createElement(Yd,{className:"PhotoView-Portal"+(Me?"":" PhotoView-Slider__clean")+(O?"":" PhotoView-Slider__willClose")+(v?" "+v:""),role:"dialog",onClick:function(G){return G.stopPropagation()},container:ie},O&&ee.createElement(Kd,null),ee.createElement("div",{className:"PhotoView-Slider__Backdrop"+(C?" "+C:"")+(Xe===1?" PhotoView-Slider__fadeIn":Xe===2?" PhotoView-Slider__fadeOut":""),style:{background:ir?"rgba(0, 0, 0, "+ir+")":void 0,transitionTimingFunction:Cn,transitionDuration:(m?0:rn)+"ms",animationDuration:rn+"ms"},onAnimationEnd:Bt}),x&&ee.createElement("div",{className:"PhotoView-Slider__BannerWrap"},ee.createElement("div",{className:"PhotoView-Slider__Counter"},X+1," / ",je),ee.createElement("div",{className:"PhotoView-Slider__BannerRight"},h&&nn&&h(nn),ee.createElement(qd,{className:"PhotoView-Slider__toolbarIcon",onClick:Ge}))),tn.map(function(G,fe){var Se=ge||X!==0?pe.current-1+fe:X+fe;return ee.createElement(ih,{key:ge?G.key+"/"+G.src+"/"+Se:G.key,item:G,speed:rn,easing:Cn,visible:O,onReachMove:Ht,onReachUp:Et,onPhotoTap:function(){return at(s)},onMaskTap:function(){return at(u)},wrapClassName:p,className:A,style:{left:(innerWidth+20)*Se+"px",transform:"translate3d("+b+"px, 0px, 0)",transition:m||N?void 0:"transform "+sr+"ms "+ot},loadingElement:w,brokenElement:_,onPhotoResize:Tt,isActive:pe.current===Se,expose:me})}),!St&&x&&ee.createElement(ee.Fragment,null,(ge||X!==0)&&ee.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Ve(X-1,!0)}},ee.createElement(Xd,null)),(ge||X+1<je)&&ee.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Ve(X+1,!0)}},ee.createElement(Gd,null))),g&&nn&&ee.createElement("div",{className:"PhotoView-Slider__Overlay"},g(nn)))}const ah=({info:e,handleEntryClick:t,entryListRef:n,entryDetailRef:r})=>{const{activeContent:i}=xn(),{handleFetchContent:s,handleToggleStarred:l,handleToggleStatus:u}=as(),{handleLeftKey:o,handleRightKey:c,handleEscapeKey:d}=os(e,t);if(!i)return null;const f=i.status==="unread",y=i.starred;return a.jsxs(be.Group,{className:"action-buttons",children:[a.jsx(be,{icon:a.jsx(cc,{}),onClick:()=>d(n,r),shape:"round",type:"primary"}),a.jsx(be,{icon:f?a.jsx(Ha,{}):a.jsx(Wa,{}),onClick:()=>u(i),type:"primary"}),a.jsx(be,{icon:y?a.jsx(Yi,{style:{color:"#ffcd00"}}):a.jsx(Hi,{}),onClick:()=>l(i),type:"primary"}),a.jsx(be,{icon:a.jsx(uc,{}),onClick:o,type:"primary"}),a.jsx(be,{icon:a.jsx(dc,{}),onClick:c,type:"primary"}),a.jsx(be,{icon:a.jsx(hc,{}),onClick:s,shape:"round",type:"primary"})]})},oh=({url:e,text:t})=>{const[n,r]=S.useState(!1),i=()=>r(!n);return a.jsx(mc,{to:e,style:{color:"inherit",textDecoration:n?"underline":"none"},onMouseEnter:i,onMouseLeave:i,children:t})},lh=({node:e,index:t,togglePhotoSlider:n})=>{const r=K(xe),{fontSize:i}=r,[s,l]=S.useState(!1),[u,o]=S.useState(!1),{isMobileView:c}=Lr();return S.useEffect(()=>{const d=new Image;d.src=e.attribs.src,d.onload=()=>{d.width<=64&&d.height<=64&&o(!0)}},[]),u?a.jsx("img",{...e.attribs,alt:e.attribs.alt,style:{display:"inline-block",height:`${i}rem`,margin:0}}):a.jsx("div",{style:{textAlign:"center",position:"relative"},children:a.jsxs("div",{style:{display:"inline-block",position:"relative"},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[a.jsx("img",{...e.attribs,alt:e.attribs.alt}),a.jsx(be,{icon:a.jsx(pc,{}),shape:"circle",style:{position:"absolute",top:30,right:10,color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",opacity:c||s?1:0,transition:"opacity 0.3s"},onClick:d=>{d.preventDefault(),n(t)}})]})})},ch=(e,t)=>({replace:n=>{if(n.type==="tag"&&n.name==="img"){const r=e.findIndex(i=>i===n.attribs.src);return a.jsx(lh,{node:n,index:r,togglePhotoSlider:t})}return n}}),uh=S.forwardRef(({info:e,handleEntryClick:t,entryListRef:n},r)=>{const i=yn(),{activeContent:s}=xn(),l=K(xe),{articleWidth:u,fontSize:o}=l,c=ne(bo),[d,f]=S.useState(!1),[y,x]=S.useState(0),g=ne(zr),h=ne(Br),{handleEscapeKey:v}=os(e,t),C=()=>{h("author"),g(s.author),v(n,r)},A=E=>{x(E),f(I=>!I)};if(S.useEffect(()=>{var I;const E=(I=r.current)==null?void 0:I.querySelector(".scroll-container");E&&(E.setAttribute("tabIndex","-1"),setTimeout(()=>{E.focus()},200))},[s==null?void 0:s.id]),!s)return a.jsxs("div",{ref:r,className:"content-empty",children:[a.jsx(fc,{style:{fontSize:"64px"}}),a.jsx(B.Title,{heading:6,style:{color:"var(--color-text-3)",marginTop:"10px"},children:"ReactFlux"})]});const p=Du(s.content),w=ch(p,A),_=Hd(s.content,w),k=s.feed.category.id,T=s.feed.category.title;return a.jsxs("div",{className:"article-content",onBlur:()=>c(!1),onFocus:()=>c(!0),ref:r,children:[a.jsxs("div",{className:"scroll-container",children:[a.jsxs("div",{className:"article-header",style:{width:`${u}%`},children:[a.jsx(B.Title,{className:"article-title",heading:3,children:a.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:s.title})}),a.jsxs("div",{className:"article-meta",children:[a.jsx(B.Text,{children:a.jsx(oh,{url:`/feed/${s.feed.id}`,text:s.feed.title})}),a.jsx(B.Text,{onClick:C,style:{cursor:"pointer"},children:` - ${s.author}`}),a.jsx(B.Text,{children:a.jsx(Ln,{size:"small",onClick:()=>{i(`/category/${k}`)},style:{marginLeft:"10px",cursor:"pointer"},children:T})})]}),a.jsx(B.Text,{className:"article-date",children:Ye(s.published_at).format("dddd, MMMM D, YYYY [at] h:mm A")}),a.jsx(tt,{})]}),a.jsxs("div",{className:"article-body",style:{fontSize:`${o}rem`,width:`${u}%`},children:[_,a.jsx(sh,{images:p.map(E=>({src:E,key:E})),visible:d,onClose:()=>{f(!1),c(!0)},index:y,onIndexChange:x})]},s.id)]}),a.jsx(ah,{info:e,handleEntryClick:t,entryListRef:n,entryDetailRef:r})]})});var dh=Object.defineProperty,hh=(e,t)=>{for(var n in t)dh(e,n,{get:t[n],enumerable:!0})},it={};hh(it,{assign:()=>ph,colors:()=>Dt,createStringInterpolator:()=>_s,skipAnimation:()=>ll,to:()=>ol,willAdvance:()=>ks});var ws=nr(),z=e=>tr(e,ws),Ss=nr();z.write=e=>tr(e,Ss);var Jr=nr();z.onStart=e=>tr(e,Jr);var Cs=nr();z.onFrame=e=>tr(e,Cs);var js=nr();z.onFinish=e=>tr(e,js);var mn=[];z.setTimeout=(e,t)=>{const n=z.now()+t,r=()=>{const s=mn.findIndex(l=>l.cancel==r);~s&&mn.splice(s,1),Nt-=~s?1:0},i={time:n,handler:e,cancel:r};return mn.splice(nl(n),0,i),Nt+=1,rl(),i};var nl=e=>~(~mn.findIndex(t=>t.time>e)||~mn.length);z.cancel=e=>{Jr.delete(e),Cs.delete(e),js.delete(e),ws.delete(e),Ss.delete(e)};z.sync=e=>{Ii=!0,z.batchedUpdates(e),Ii=!1};z.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,z.onStart(n)}return r.handler=e,r.cancel=()=>{Jr.delete(n),t=null},r};var Ts=typeof window<"u"?window.requestAnimationFrame:()=>{};z.use=e=>Ts=e;z.now=typeof performance<"u"?()=>performance.now():Date.now;z.batchedUpdates=e=>e();z.catch=console.error;z.frameLoop="always";z.advance=()=>{z.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):sl()};var Rt=-1,Nt=0,Ii=!1;function tr(e,t){Ii?(t.delete(e),e(0)):(t.add(e),rl())}function rl(){Rt<0&&(Rt=0,z.frameLoop!=="demand"&&Ts(il))}function fh(){Rt=-1}function il(){~Rt&&(Ts(il),z.batchedUpdates(sl))}function sl(){const e=Rt;Rt=z.now();const t=nl(Rt);if(t&&(al(mn.splice(0,t),n=>n.handler()),Nt-=t),!Nt){fh();return}Jr.flush(),ws.flush(e?Math.min(64,Rt-e):16.667),Cs.flush(),Ss.flush(),js.flush()}function nr(){let e=new Set,t=e;return{add(n){Nt+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Nt-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Nt-=t.size,al(t,r=>r(n)&&e.add(r)),Nt+=e.size,t=e)}}}function al(e,t){e.forEach(n=>{try{t(n)}catch(r){z.catch(r)}})}function Pi(){}var mh=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),M={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ct(e,t){if(M.arr(e)){if(!M.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var te=(e,t)=>e.forEach(t);function ht(e,t,n){if(M.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var $e=e=>M.und(e)?[]:M.arr(e)?e:[e];function Rn(e,t){if(e.size){const n=Array.from(e);e.clear(),te(n,t)}}var An=(e,...t)=>Rn(e,n=>n(...t)),Es=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_s,ol,Dt=null,ll=!1,ks=Pi,ph=e=>{e.to&&(ol=e.to),e.now&&(z.now=e.now),e.colors!==void 0&&(Dt=e.colors),e.skipAnimation!=null&&(ll=e.skipAnimation),e.createStringInterpolator&&(_s=e.createStringInterpolator),e.requestAnimationFrame&&z.use(e.requestAnimationFrame),e.batchedUpdates&&(z.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ks=e.willAdvance),e.frameLoop&&(z.frameLoop=e.frameLoop)},Nn=new Set,We=[],fi=[],kr=0,ei={get idle(){return!Nn.size&&!We.length},start(e){kr>e.priority?(Nn.add(e),z.onStart(gh)):(cl(e),z(Oi))},advance:Oi,sort(e){if(kr)z.onFrame(()=>ei.sort(e));else{const t=We.indexOf(e);~t&&(We.splice(t,1),ul(e))}},clear(){We=[],Nn.clear()}};function gh(){Nn.forEach(cl),Nn.clear(),z(Oi)}function cl(e){We.includes(e)||ul(e)}function ul(e){We.splice(vh(We,t=>t.priority>e.priority),0,e)}function Oi(e){const t=fi;for(let n=0;n<We.length;n++){const r=We[n];kr=r.priority,r.idle||(ks(r),r.advance(e),r.idle||t.push(r))}return kr=0,fi=We,fi.length=0,We=t,We.length>0}function vh(e,t){const n=e.findIndex(t);return n<0?e.length:n}var yh=(e,t,n)=>Math.min(Math.max(n,e),t),bh={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},rt="[-+]?\\d*\\.?\\d+",Mr=rt+"%";function ti(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var xh=new RegExp("rgb"+ti(rt,rt,rt)),wh=new RegExp("rgba"+ti(rt,rt,rt,rt)),Sh=new RegExp("hsl"+ti(rt,Mr,Mr)),Ch=new RegExp("hsla"+ti(rt,Mr,Mr,rt)),jh=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Th=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Eh=/^#([0-9a-fA-F]{6})$/,_h=/^#([0-9a-fA-F]{8})$/;function kh(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Eh.exec(e))?parseInt(t[1]+"ff",16)>>>0:Dt&&Dt[e]!==void 0?Dt[e]:(t=xh.exec(e))?(dn(t[1])<<24|dn(t[2])<<16|dn(t[3])<<8|255)>>>0:(t=wh.exec(e))?(dn(t[1])<<24|dn(t[2])<<16|dn(t[3])<<8|ua(t[4]))>>>0:(t=jh.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=_h.exec(e))?parseInt(t[1],16)>>>0:(t=Th.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Sh.exec(e))?(la(ca(t[1]),mr(t[2]),mr(t[3]))|255)>>>0:(t=Ch.exec(e))?(la(ca(t[1]),mr(t[2]),mr(t[3]))|ua(t[4]))>>>0:null}function mi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function la(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=mi(i,r,e+1/3),l=mi(i,r,e),u=mi(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(l*255)<<16|Math.round(u*255)<<8}function dn(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function ca(e){return(parseFloat(e)%360+360)%360/360}function ua(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function mr(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function da(e){let t=kh(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Vn=(e,t,n)=>{if(M.fun(e))return e;if(M.arr(e))return Vn({range:e,output:t,extrapolate:n});if(M.str(e.output[0]))return _s(e);const r=e,i=r.output,s=r.range||[0,1],l=r.extrapolateLeft||r.extrapolate||"extend",u=r.extrapolateRight||r.extrapolate||"extend",o=r.easing||(c=>c);return c=>{const d=Ah(c,s);return Mh(c,s[d],s[d+1],i[d],i[d+1],o,l,u,r.map)}};function Mh(e,t,n,r,i,s,l,u,o){let c=o?o(e):e;if(c<t){if(l==="identity")return c;l==="clamp"&&(c=t)}if(c>n){if(u==="identity")return c;u==="clamp"&&(c=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?c=-c:n===1/0?c=c-t:c=(c-t)/(n-t),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function Ah(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Ih=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return yh(0,1,i/e)},Ar=1.70158,pr=Ar*1.525,ha=Ar+1,fa=2*Math.PI/3,ma=2*Math.PI/4.5,gr=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Ph={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>ha*e*e*e-Ar*e*e,easeOutBack:e=>1+ha*Math.pow(e-1,3)+Ar*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((pr+1)*2*e-pr)/2:(Math.pow(2*e-2,2)*((pr+1)*(e*2-2)+pr)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*fa),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*fa)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*ma))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*ma)/2+1,easeInBounce:e=>1-gr(1-e),easeOutBounce:gr,easeInOutBounce:e=>e<.5?(1-gr(1-2*e))/2:(1+gr(2*e-1))/2,steps:Ih},Un=Symbol.for("FluidValue.get"),vn=Symbol.for("FluidValue.observers"),He=e=>!!(e&&e[Un]),Oe=e=>e&&e[Un]?e[Un]():e,pa=e=>e[vn]||null;function Oh(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Bn(e,t){const n=e[vn];n&&n.forEach(r=>{Oh(r,t)})}var dl=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Rh(this,e)}},Rh=(e,t)=>hl(e,Un,t);function wn(e,t){if(e[Un]){let n=e[vn];n||hl(e,vn,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function zn(e,t){const n=e[vn];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[vn]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var hl=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),wr=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Nh=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ga=new RegExp(`(${wr.source})(%|[a-z]+)`,"i"),Fh=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ni=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,fl=e=>{const[t,n]=Dh(e);if(!t||Es())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&ni.test(n))return fl(n);if(n)return n}return e},Dh=e=>{const t=ni.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},pi,$h=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,ml=e=>{pi||(pi=Dt?new RegExp(`(${Object.keys(Dt).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>Oe(s).replace(ni,fl).replace(Nh,da).replace(pi,da)),n=t.map(s=>s.match(wr).map(Number)),i=n[0].map((s,l)=>n.map(u=>{if(!(l in u))throw Error('The arity of each "output" value must be equal');return u[l]})).map(s=>Vn({...e,output:s}));return s=>{var o;const l=!ga.test(t[0])&&((o=t.find(c=>ga.test(c)))==null?void 0:o.replace(wr,""));let u=0;return t[0].replace(wr,()=>`${i[u++](s)}${l||""}`).replace(Fh,$h)}},Ms="react-spring: ",pl=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Ms}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Lh=pl(console.warn);function Vh(){Lh(`${Ms}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Uh=pl(console.warn);function Bh(){Uh(`${Ms}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ri(e){return M.str(e)&&(e[0]=="#"||/\d/.test(e)||!Es()&&ni.test(e)||e in(Dt||{}))}var As=Es()?S.useEffect:S.useLayoutEffect,zh=()=>{const e=S.useRef(!1);return As(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function gl(){const e=S.useState()[1],t=zh();return()=>{t.current&&e(Math.random())}}function Hh(e,t){const[n]=S.useState(()=>({inputs:t,result:e()})),r=S.useRef(),i=r.current;let s=i;return s?t&&s.inputs&&Wh(t,s.inputs)||(s={inputs:t,result:e()}):s=n,S.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function Wh(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var vl=e=>S.useEffect(e,Yh),Yh=[];function va(e){const t=S.useRef();return S.useEffect(()=>{t.current=e}),t.current}var Hn=Symbol.for("Animated:node"),qh=e=>!!e&&e[Hn]===e,ut=e=>e&&e[Hn],Is=(e,t)=>mh(e,Hn,t),ii=e=>e&&e[Hn]&&e[Hn].getPayload(),yl=class{constructor(){Is(this,this)}getPayload(){return this.payload||[]}},rr=class extends yl{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,M.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new rr(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return M.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,M.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Wn=class extends rr{constructor(e){super(0),this._string=null,this._toString=Vn({output:[e,e]})}static create(e){return new Wn(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(M.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Vn({output:[this.getValue(),e]})),this._value=0,super.reset()}},Ir={dependencies:null},si=class extends yl{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return ht(this.source,(n,r)=>{qh(n)?t[r]=n.getValue(e):He(n)?t[r]=Oe(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&te(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return ht(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Ir.dependencies&&He(e)&&Ir.dependencies.add(e);const t=ii(e);t&&te(t,n=>this.add(n))}},bl=class extends si{constructor(e){super(e)}static create(e){return new bl(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Xh)),!0)}};function Xh(e){return(ri(e)?Wn:rr).create(e)}function Ri(e){const t=ut(e);return t?t.constructor:M.arr(e)?bl:ri(e)?Wn:rr}var ya=(e,t)=>{const n=!M.fun(e)||e.prototype&&e.prototype.isReactComponent;return S.forwardRef((r,i)=>{const s=S.useRef(null),l=n&&S.useCallback(g=>{s.current=Qh(i,g)},[i]),[u,o]=Kh(r,t),c=gl(),d=()=>{const g=s.current;if(n&&!g)return;(g?t.applyAnimatedValues(g,u.getValue(!0)):!1)===!1&&c()},f=new Gh(d,o),y=S.useRef();As(()=>(y.current=f,te(o,g=>wn(g,f)),()=>{y.current&&(te(y.current.deps,g=>zn(g,y.current)),z.cancel(y.current.update))})),S.useEffect(d,[]),vl(()=>()=>{const g=y.current;te(g.deps,h=>zn(h,g))});const x=t.getComponentProps(u.getValue());return S.createElement(e,{...x,ref:l})})},Gh=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&z.write(this.update)}};function Kh(e,t){const n=new Set;return Ir.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new si(e),Ir.dependencies=null,[e,n]}function Qh(e,t){return e&&(M.fun(e)?e(t):e.current=t),t}var ba=Symbol.for("AnimatedComponent"),Zh=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new si(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=l=>{const u=xa(l)||"Anonymous";return M.str(l)?l=s[l]||(s[l]=ya(l,i)):l=l[ba]||(l[ba]=ya(l,i)),l.displayName=`Animated(${u})`,l};return ht(e,(l,u)=>{M.arr(e)&&(u=xa(l)),s[u]=s(l)}),{animated:s}},xa=e=>M.str(e)?e:e&&M.str(e.displayName)?e.displayName:M.fun(e)&&e.name||null;function Jt(e,...t){return M.fun(e)?e(...t):e}var Fn=(e,t)=>e===!0||!!(t&&e&&(M.fun(e)?e(t):$e(e).includes(t))),xl=(e,t)=>M.obj(e)?t&&e[t]:e,wl=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Jh=e=>e,Ps=(e,t=Jh)=>{let n=ef;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const s=t(e[i],i);M.und(s)||(r[i]=s)}return r},ef=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tf={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function nf(e){const t={};let n=0;if(ht(e,(r,i)=>{tf[i]||(t[i]=r,n++)}),n)return t}function Sl(e){const t=nf(e);if(t){const n={to:t};return ht(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function Yn(e){return e=Oe(e),M.arr(e)?e.map(Yn):ri(e)?it.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function rf(e){for(const t in e)return!0;return!1}function Ni(e){return M.fun(e)||M.arr(e)&&M.obj(e[0])}function sf(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function af(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var of={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Fi={...of.default,mass:1,damping:1,easing:Ph.linear,clamp:!1},lf=class{constructor(){this.velocity=0,Object.assign(this,Fi)}};function cf(e,t,n){n&&(n={...n},wa(n,t),t={...n,...t}),wa(e,t),Object.assign(e,t);for(const l in Fi)e[l]==null&&(e[l]=Fi[l]);let{frequency:r,damping:i}=e;const{mass:s}=e;return M.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function wa(e,t){if(!M.und(t.decay))e.duration=void 0;else{const n=!M.und(t.tension)||!M.und(t.friction);(n||!M.und(t.frequency)||!M.und(t.damping)||!M.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var Sa=[],uf=class{constructor(){this.changed=!1,this.values=Sa,this.toValues=null,this.fromValues=Sa,this.config=new lf,this.immediate=!1}};function Cl(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((l,u)=>{let o,c,d=Fn(n.cancel??(r==null?void 0:r.cancel),t);if(d)x();else{M.und(n.pause)||(i.paused=Fn(n.pause,t));let g=r==null?void 0:r.pause;g!==!0&&(g=i.paused||Fn(g,t)),o=Jt(n.delay||0,t),g?(i.resumeQueue.add(y),s.pause()):(s.resume(),y())}function f(){i.resumeQueue.add(y),i.timeouts.delete(c),c.cancel(),o=c.time-z.now()}function y(){o>0&&!it.skipAnimation?(i.delayed=!0,c=z.setTimeout(x,o),i.pauseQueue.add(f),i.timeouts.add(c)):x()}function x(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(c),e<=(i.cancelId||0)&&(d=!0);try{s.start({...n,callId:e,cancel:d},l)}catch(g){u(g)}}})}var Os=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?pn(e.get()):t.every(n=>n.noop)?jl(e.get()):et(e.get(),t.every(n=>n.finished)),jl=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),et=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),pn=e=>({value:e,cancelled:!0,finished:!1});function Tl(e,t,n,r){const{callId:i,parentId:s,onRest:l}=t,{asyncTo:u,promise:o}=n;return!s&&e===u&&!t.reset?o:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const c=Ps(t,(v,C)=>C==="onRest"?void 0:v);let d,f;const y=new Promise((v,C)=>(d=v,f=C)),x=v=>{const C=i<=(n.cancelId||0)&&pn(r)||i!==n.asyncId&&et(r,!1);if(C)throw v.result=C,f(v),v},g=(v,C)=>{const A=new Ca,p=new ja;return(async()=>{if(it.skipAnimation)throw qn(n),p.result=et(r,!1),f(p),p;x(A);const w=M.obj(v)?{...v}:{...C,to:v};w.parentId=i,ht(c,(k,T)=>{M.und(w[T])&&(w[T]=k)});const _=await r.start(w);return x(A),n.paused&&await new Promise(k=>{n.resumeQueue.add(k)}),_})()};let h;if(it.skipAnimation)return qn(n),et(r,!1);try{let v;M.arr(e)?v=(async C=>{for(const A of C)await g(A)})(e):v=Promise.resolve(e(g,r.stop.bind(r))),await Promise.all([v.then(d),y]),h=et(r.get(),!0,!1)}catch(v){if(v instanceof Ca)h=v.result;else if(v instanceof ja)h=v.result;else throw v}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?u:void 0,n.promise=s?o:void 0)}return M.fun(l)&&z.batchedUpdates(()=>{l(h,r,r.item)}),h})()}function qn(e,t){Rn(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Ca=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},ja=class extends Error{constructor(){super("SkipAnimationSignal")}},Di=e=>e instanceof Rs,df=1,Rs=class extends dl{constructor(){super(...arguments),this.id=df++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ut(this);return e&&e.getValue()}to(...e){return it.to(this,e)}interpolate(...e){return Vh(),it.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Bn(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||ei.sort(this),Bn(this,{type:"priority",parent:this,priority:e})}},en=Symbol.for("SpringPhase"),El=1,$i=2,Li=4,gi=e=>(e[en]&El)>0,It=e=>(e[en]&$i)>0,En=e=>(e[en]&Li)>0,Ta=(e,t)=>t?e[en]|=$i|El:e[en]&=~$i,Ea=(e,t)=>t?e[en]|=Li:e[en]&=~Li,hf=class extends Rs{constructor(e,t){if(super(),this.animation=new uf,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!M.und(e)||!M.und(t)){const n=M.obj(e)?{...e}:{...t,from:e};M.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(It(this)||this._state.asyncTo)||En(this)}get goal(){return Oe(this.animation.to)}get velocity(){const e=ut(this);return e instanceof rr?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return gi(this)}get isAnimating(){return It(this)}get isPaused(){return En(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,l=ii(r.to);!l&&He(r.to)&&(i=$e(Oe(r.to))),r.values.forEach((c,d)=>{if(c.done)return;const f=c.constructor==Wn?1:l?l[d].lastPosition:i[d];let y=r.immediate,x=f;if(!y){if(x=c.lastPosition,s.tension<=0){c.done=!0;return}let g=c.elapsedTime+=e;const h=r.fromValues[d],v=c.v0!=null?c.v0:c.v0=M.arr(s.velocity)?s.velocity[d]:s.velocity;let C;const A=s.precision||(h==f?.005:Math.min(1,Math.abs(f-h)*.001));if(M.und(s.duration))if(s.decay){const p=s.decay===!0?.998:s.decay,w=Math.exp(-(1-p)*g);x=h+v/(1-p)*(1-w),y=Math.abs(c.lastPosition-x)<=A,C=v*w}else{C=c.lastVelocity==null?v:c.lastVelocity;const p=s.restVelocity||A/10,w=s.clamp?0:s.bounce,_=!M.und(w),k=h==f?c.v0>0:h<f;let T,E=!1;const I=1,O=Math.ceil(e/I);for(let L=0;L<O&&(T=Math.abs(C)>p,!(!T&&(y=Math.abs(f-x)<=A,y)));++L){_&&(E=x==f||x>f==k,E&&(C=-C*w,x=f));const W=-s.tension*1e-6*(x-f),ie=-s.friction*.001*C,ce=(W+ie)/s.mass;C=C+ce*I,x=x+C*I}}else{let p=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,g=c.elapsedTime+=e)),p=(s.progress||0)+g/this._memoizedDuration,p=p>1?1:p<0?0:p,c.durationProgress=p),x=h+s.easing(p)*(f-h),C=(x-c.lastPosition)/e,y=p==1}c.lastVelocity=C,Number.isNaN(x)&&(console.warn("Got NaN while animating:",this),y=!0)}l&&!l[d].done&&(y=!1),y?c.done=!0:t=!1,c.setValue(x,s.round)&&(n=!0)});const u=ut(this),o=u.getValue();if(t){const c=Oe(r.to);(o!==c||n)&&!s.decay?(u.setValue(c),this._onChange(c)):n&&s.decay&&this._onChange(o),this._stop()}else n&&this._onChange(o)}set(e){return z.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(It(this)){const{to:e,config:t}=this.animation;z.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return M.und(e)?(n=this.queue||[],this.queue=[]):n=[M.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Os(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),qn(this._state,e&&this._lastCallId),z.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=M.obj(n)?n[t]:n,(n==null||Ni(n))&&(n=void 0),r=M.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return gi(this)||(e.reverse&&([n,r]=[r,n]),r=Oe(r),M.und(r)?ut(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Ps(e,(l,u)=>/^on/.test(u)?xl(l,n):l)),ka(this,e,"onProps"),kn(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return Cl(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{En(this)||(Ea(this,!0),An(s.pauseQueue),kn(this,"onPause",et(this,_n(this,this.animation.to)),this))},resume:()=>{En(this)&&(Ea(this,!1),It(this)&&this._resume(),An(s.resumeQueue),kn(this,"onResume",et(this,_n(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(l=>{if(e.loop&&l.finished&&!(t&&l.noop)){const u=_l(e);if(u)return this._update(u,!0)}return l})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(pn(this));const r=!M.und(e.to),i=!M.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(pn(this));const{key:s,defaultProps:l,animation:u}=this,{to:o,from:c}=u;let{to:d=o,from:f=c}=e;i&&!r&&(!t.default||M.und(d))&&(d=f),t.reverse&&([d,f]=[f,d]);const y=!Ct(f,c);y&&(u.from=f),f=Oe(f);const x=!Ct(d,o);x&&this._focus(d);const g=Ni(t.to),{config:h}=u,{decay:v,velocity:C}=h;(r||i)&&(h.velocity=0),t.config&&!g&&cf(h,Jt(t.config,s),t.config!==l.config?Jt(l.config,s):void 0);let A=ut(this);if(!A||M.und(d))return n(et(this,!0));const p=M.und(t.reset)?i&&!t.default:!M.und(f)&&Fn(t.reset,s),w=p?f:this.get(),_=Yn(d),k=M.num(_)||M.arr(_)||ri(_),T=!g&&(!k||Fn(l.immediate||t.immediate,s));if(x){const L=Ri(d);if(L!==A.constructor)if(T)A=this._set(_);else throw Error(`Cannot animate between ${A.constructor.name} and ${L.name}, as the "to" prop suggests`)}const E=A.constructor;let I=He(d),O=!1;if(!I){const L=p||!gi(this)&&y;(x||L)&&(O=Ct(Yn(w),_),I=!O),(!Ct(u.immediate,T)&&!T||!Ct(h.decay,v)||!Ct(h.velocity,C))&&(I=!0)}if(O&&It(this)&&(u.changed&&!p?I=!0:I||this._stop(o)),!g&&((I||He(o))&&(u.values=A.getPayload(),u.toValues=He(d)?null:E==Wn?[1]:$e(_)),u.immediate!=T&&(u.immediate=T,!T&&!p&&this._set(o)),I)){const{onRest:L}=u;te(mf,ie=>ka(this,t,ie));const W=et(this,_n(this,o));An(this._pendingCalls,W),this._pendingCalls.add(n),u.changed&&z.batchedUpdates(()=>{var ie;u.changed=!p,L==null||L(W,this),p?Jt(l.onRest,W):(ie=u.onStart)==null||ie.call(u,W,this)})}p&&this._set(w),g?n(Tl(t.to,t,this._state,this)):I?this._start():It(this)&&!x?this._pendingCalls.add(n):n(jl(w))}_focus(e){const t=this.animation;e!==t.to&&(pa(this)&&this._detach(),t.to=e,pa(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;He(t)&&(wn(t,this),Di(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;He(e)&&zn(e,this)}_set(e,t=!0){const n=Oe(e);if(!M.und(n)){const r=ut(this);if(!r||!Ct(n,r.getValue())){const i=Ri(n);!r||r.constructor!=i?Is(this,i.create(n)):r.setValue(n),r&&z.batchedUpdates(()=>{this._onChange(n,t)})}}return ut(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,kn(this,"onStart",et(this,_n(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Jt(this.animation.onChange,e,this)),Jt(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ut(this).reset(Oe(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),It(this)||(Ta(this,!0),En(this)||this._resume())}_resume(){it.skipAnimation?this.finish():ei.start(this)}_stop(e,t){if(It(this)){Ta(this,!1);const n=this.animation;te(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Bn(this,{type:"idle",parent:this});const r=t?pn(this.get()):et(this.get(),_n(this,e??n.to));An(this._pendingCalls,r),n.changed&&(n.changed=!1,kn(this,"onRest",r,this))}}};function _n(e,t){const n=Yn(t),r=Yn(e.get());return Ct(r,n)}function _l(e,t=e.loop,n=e.to){const r=Jt(t);if(r){const i=r!==!0&&Sl(r),s=(i||e).reverse,l=!i||i.reset;return Xn({...e,loop:t,default:!1,pause:void 0,to:!s||Ni(n)?n:void 0,from:l?e.from:void 0,reset:l,...i})}}function Xn(e){const{to:t,from:n}=e=Sl(e),r=new Set;return M.obj(t)&&_a(t,r),M.obj(n)&&_a(n,r),e.keys=r.size?Array.from(r):null,e}function ff(e){const t=Xn(e);return M.und(t.default)&&(t.default=Ps(t)),t}function _a(e,t){ht(e,(n,r)=>n!=null&&t.add(r))}var mf=["onStart","onRest","onChange","onPause","onResume"];function ka(e,t,n){e.animation[n]=t[n]!==wl(t,n)?xl(t[n],e.key):void 0}function kn(e,t,...n){var r,i,s,l;(i=(r=e.animation)[t])==null||i.call(r,...n),(l=(s=e.defaultProps)[t])==null||l.call(s,...n)}var pf=["onStart","onChange","onRest"],gf=1,vf=class{constructor(e,t){this.id=gf++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];M.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Xn(e)),this}start(e){let{queue:t}=this;return e?t=$e(e).map(Xn):this.queue=[],this._flush?this._flush(this,t):(Pl(this,t),Vi(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;te($e(t),r=>n[r].stop(!!e))}else qn(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(M.und(e))this.start({pause:!0});else{const t=this.springs;te($e(e),n=>t[n].pause())}return this}resume(e){if(M.und(e))this.start({pause:!1});else{const t=this.springs;te($e(e),n=>t[n].resume())}return this}each(e){ht(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Rn(e,([u,o])=>{o.value=this.get(),u(o,this,this._item)}));const s=!r&&this._started,l=i||s&&n.size?this.get():null;i&&t.size&&Rn(t,([u,o])=>{o.value=l,u(o,this,this._item)}),s&&(this._started=!1,Rn(n,([u,o])=>{o.value=l,u(o,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;z.onFrame(this._onFrame)}};function Vi(e,t){return Promise.all(t.map(n=>kl(e,n))).then(n=>Os(e,n))}async function kl(e,t,n){const{keys:r,to:i,from:s,loop:l,onRest:u,onResolve:o}=t,c=M.obj(t.default)&&t.default;l&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const d=M.arr(i)||M.fun(i)?i:void 0;d?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):te(pf,h=>{const v=t[h];if(M.fun(v)){const C=e._events[h];t[h]=({finished:A,cancelled:p})=>{const w=C.get(v);w?(A||(w.finished=!1),p&&(w.cancelled=!0)):C.set(v,{value:null,finished:A||!1,cancelled:p||!1})},c&&(c[h]=t[h])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,An(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const y=(r||Object.keys(e.springs)).map(h=>e.springs[h].start(t)),x=t.cancel===!0||wl(t,"cancel")===!0;(d||x&&f.asyncId)&&y.push(Cl(++e._lastAsyncId,{props:t,state:f,actions:{pause:Pi,resume:Pi,start(h,v){x?(qn(f,e._lastAsyncId),v(pn(e))):(h.onRest=u,v(Tl(d,h,f,e)))}}})),f.paused&&await new Promise(h=>{f.resumeQueue.add(h)});const g=Os(e,await Promise.all(y));if(l&&g.finished&&!(n&&g.noop)){const h=_l(t,l,i);if(h)return Pl(e,[h]),kl(e,h,!0)}return o&&z.batchedUpdates(()=>o(g,e,e.item)),g}function Ma(e,t){const n={...e.springs};return t&&te($e(t),r=>{M.und(r.keys)&&(r=Xn(r)),M.obj(r.to)||(r={...r,to:void 0}),Il(n,r,i=>Al(i))}),Ml(e,n),n}function Ml(e,t){ht(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,wn(n,e))})}function Al(e,t){const n=new hf;return n.key=e,t&&wn(n,t),n}function Il(e,t,n){t.keys&&te(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Pl(e,t){te(t,n=>{Il(e.springs,n,r=>Al(r,e))})}var ai=({children:e,...t})=>{const n=S.useContext(Pr),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=Hh(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=Pr;return S.createElement(s,{value:t},e)},Pr=yf(ai,{});ai.Provider=Pr.Provider;ai.Consumer=Pr.Consumer;function yf(e,t){return Object.assign(e,S.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var bf=()=>{const e=[],t=function(r){Bh();const i=[];return te(e,(s,l)=>{if(M.und(r))i.push(s.start());else{const u=n(r,s,l);u&&i.push(s.start(u))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return te(e,r=>r.pause(...arguments)),this},t.resume=function(){return te(e,r=>r.resume(...arguments)),this},t.set=function(r){te(e,(i,s)=>{const l=M.fun(r)?r(s,i):r;l&&i.set(l)})},t.start=function(r){const i=[];return te(e,(s,l)=>{if(M.und(r))i.push(s.start());else{const u=this._getProps(r,s,l);u&&i.push(s.start(u))}}),i},t.stop=function(){return te(e,r=>r.stop(...arguments)),this},t.update=function(r){return te(e,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return M.fun(r)?r(s,i):r};return t._getProps=n,t};function xf(e,t,n){const r=M.fun(t)&&t;r&&!n&&(n=[]);const i=S.useMemo(()=>r||arguments.length==3?bf():void 0,[]),s=S.useRef(0),l=gl(),u=S.useMemo(()=>({ctrls:[],queue:[],flush(C,A){const p=Ma(C,A);return s.current>0&&!u.queue.length&&!Object.keys(p).some(_=>!C.springs[_])?Vi(C,A):new Promise(_=>{Ml(C,p),u.queue.push(()=>{_(Vi(C,A))}),l()})}}),[]),o=S.useRef([...u.ctrls]),c=[],d=va(e)||0;S.useMemo(()=>{te(o.current.slice(e,d),C=>{sf(C,i),C.stop(!0)}),o.current.length=e,f(d,e)},[e]),S.useMemo(()=>{f(0,Math.min(d,e))},n);function f(C,A){for(let p=C;p<A;p++){const w=o.current[p]||(o.current[p]=new vf(null,u.flush)),_=r?r(p,w):t[p];_&&(c[p]=ff(_))}}const y=o.current.map((C,A)=>Ma(C,c[A])),x=S.useContext(ai),g=va(x),h=x!==g&&rf(x);As(()=>{s.current++,u.ctrls=o.current;const{queue:C}=u;C.length&&(u.queue=[],te(C,A=>A())),te(o.current,(A,p)=>{i==null||i.add(A),h&&A.start({default:x});const w=c[p];w&&(af(A,w.ref),A.ref?A.queue.push(w):A.start(w))})}),vl(()=>()=>{te(u.ctrls,C=>C.stop(!0))});const v=y.map(C=>({...C}));return i?[v,i]:v}function wf(e,t){const n=M.fun(e),[[r],i]=xf(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var Sf=class extends Rs{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Vn(...t);const n=this._get(),r=Ri(n);Is(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Ct(t,n)||(ut(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Aa(this._active)&&vi(this)}_get(){const e=M.arr(this.source)?this.source.map(Oe):$e(Oe(this.source));return this.calc(...e)}_start(){this.idle&&!Aa(this._active)&&(this.idle=!1,te(ii(this),e=>{e.done=!1}),it.skipAnimation?(z.batchedUpdates(()=>this.advance()),vi(this)):ei.start(this))}_attach(){let e=1;te($e(this.source),t=>{He(t)&&wn(t,this),Di(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){te($e(this.source),e=>{He(e)&&zn(e,this)}),this._active.clear(),vi(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=$e(this.source).reduce((t,n)=>Math.max(t,(Di(n)?n.priority:0)+1),0))}};function Cf(e){return e.idle!==!1}function Aa(e){return!e.size||Array.from(e).every(Cf)}function vi(e){e.idle||(e.idle=!0,te(ii(e),t=>{t.done=!0}),Bn(e,{type:"idle",parent:e}))}it.assign({createStringInterpolator:ml,to:(e,t)=>new Sf(e,t)});var Ol=/^--/;function jf(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Ol.test(e)&&!(Dn.hasOwnProperty(e)&&Dn[e])?t+"px":(""+t).trim()}var Ia={};function Tf(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:l,viewBox:u,...o}=t,c=Object.values(o),d=Object.keys(o).map(f=>n||e.hasAttribute(f)?f:Ia[f]||(Ia[f]=f.replace(/([A-Z])/g,y=>"-"+y.toLowerCase())));i!==void 0&&(e.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const y=jf(f,r[f]);Ol.test(f)?e.style.setProperty(f,y):e.style[f]=y}d.forEach((f,y)=>{e.setAttribute(f,c[y])}),s!==void 0&&(e.scrollTop=s),l!==void 0&&(e.scrollLeft=l),u!==void 0&&e.setAttribute("viewBox",u)}var Dn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ef=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),_f=["Webkit","Ms","Moz","O"];Dn=Object.keys(Dn).reduce((e,t)=>(_f.forEach(n=>e[Ef(n,t)]=e[t]),e),Dn);var kf=/^(matrix|translate|scale|rotate|skew)/,Mf=/^(translate)/,Af=/^(rotate|skew)/,yi=(e,t)=>M.num(e)&&e!==0?e+t:e,Sr=(e,t)=>M.arr(e)?e.every(n=>Sr(n,t)):M.num(e)?e===t:parseFloat(e)===t,If=class extends si{constructor({x:e,y:t,z:n,...r}){const i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(l=>[`translate3d(${l.map(u=>yi(u,"px")).join(",")})`,Sr(l,0)])),ht(r,(l,u)=>{if(u==="transform")i.push([l||""]),s.push(o=>[o,o===""]);else if(kf.test(u)){if(delete r[u],M.und(l))return;const o=Mf.test(u)?"px":Af.test(u)?"deg":"";i.push($e(l)),s.push(u==="rotate3d"?([c,d,f,y])=>[`rotate3d(${c},${d},${f},${yi(y,o)})`,Sr(y,0)]:c=>[`${u}(${c.map(d=>yi(d,o)).join(",")})`,Sr(c,u.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new Pf(i,s)),super(r)}},Pf=class extends dl{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return te(this.inputs,(n,r)=>{const i=Oe(n[0]),[s,l]=this.transforms[r](M.arr(i)?i:n.map(Oe));e+=" "+s,t=t&&l}),t?"none":e}observerAdded(e){e==1&&te(this.inputs,t=>te(t,n=>He(n)&&wn(n,this)))}observerRemoved(e){e==0&&te(this.inputs,t=>te(t,n=>He(n)&&zn(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Bn(this,e)}},Of=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];it.assign({batchedUpdates:za.unstable_batchedUpdates,createStringInterpolator:ml,colors:bh});var Rf=Zh(Of,{applyAnimatedValues:Tf,createAnimatedStyle:e=>new If(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Nf=Rf.animated,Ui=new Map,vr=new WeakMap,Pa=0,Ff=void 0;function Df(e){return e?(vr.has(e)||(Pa+=1,vr.set(e,Pa.toString())),vr.get(e)):"0"}function $f(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Df(e.root):e[t]}`).toString()}function Lf(e){const t=$f(e);let n=Ui.get(t);if(!n){const r=new Map;let i;const s=new IntersectionObserver(l=>{l.forEach(u=>{var o;const c=u.isIntersecting&&i.some(d=>u.intersectionRatio>=d);e.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=c),(o=r.get(u.target))==null||o.forEach(d=>{d(c,u)})})},e);i=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:s,elements:r},Ui.set(t,n)}return n}function Vf(e,t,n={},r=Ff){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const o=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:i,observer:s,elements:l}=Lf(n),u=l.get(e)||[];return l.has(e)||l.set(e,u),u.push(t),s.observe(e),function(){u.splice(u.indexOf(t),1),u.length===0&&(l.delete(e),s.unobserve(e)),l.size===0&&(s.disconnect(),Ui.delete(i))}}function Ns({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:l,initialInView:u,fallbackInView:o,onChange:c}={}){var d;const[f,y]=S.useState(null),x=S.useRef(),[g,h]=S.useState({inView:!!u,entry:void 0});x.current=c,S.useEffect(()=>{if(l||!f)return;let p;return p=Vf(f,(w,_)=>{h({inView:w,entry:_}),x.current&&x.current(w,_),_.isIntersecting&&s&&p&&(p(),p=void 0)},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},o),()=>{p&&p()}},[Array.isArray(e)?e.toString():e,f,i,r,s,l,n,o,t]);const v=(d=g.entry)==null?void 0:d.target,C=S.useRef();!f&&v&&!s&&!l&&C.current!==v&&(C.current=v,h({inView:!!u,entry:void 0}));const A=[y,g.inView,g.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const Uf="Left",Bf="Right",zf="Up",Hf="Down",fn={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Bi={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Oa="mousemove",Ra="mouseup",Wf="touchend",Yf="touchmove",qf="touchstart";function Xf(e,t,n,r){return e>t?n>0?Bf:Uf:r>0?Hf:zf}function Na(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),i=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,i]}function Gf(e,t){const n=d=>{const f="touches"in d;f&&d.touches.length>1||e((y,x)=>{x.trackMouse&&!f&&(document.addEventListener(Oa,r),document.addEventListener(Ra,l));const{clientX:g,clientY:h}=f?d.touches[0]:d,v=Na([g,h],x.rotationAngle);return x.onTouchStartOrOnMouseDown&&x.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},y),Bi),{initial:v.slice(),xy:v,start:d.timeStamp||0})})},r=d=>{e((f,y)=>{const x="touches"in d;if(x&&d.touches.length>1)return f;if(d.timeStamp-f.start>y.swipeDuration)return f.swiping?Object.assign(Object.assign({},f),{swiping:!1}):f;const{clientX:g,clientY:h}=x?d.touches[0]:d,[v,C]=Na([g,h],y.rotationAngle),A=v-f.xy[0],p=C-f.xy[1],w=Math.abs(A),_=Math.abs(p),k=(d.timeStamp||0)-f.start,T=Math.sqrt(w*w+_*_)/(k||1),E=[A/(k||1),p/(k||1)],I=Xf(w,_,A,p),O=typeof y.delta=="number"?y.delta:y.delta[I.toLowerCase()]||fn.delta;if(w<O&&_<O&&!f.swiping)return f;const L={absX:w,absY:_,deltaX:A,deltaY:p,dir:I,event:d,first:f.first,initial:f.initial,velocity:T,vxvy:E};L.first&&y.onSwipeStart&&y.onSwipeStart(L),y.onSwiping&&y.onSwiping(L);let W=!1;return(y.onSwiping||y.onSwiped||y[`onSwiped${I}`])&&(W=!0),W&&y.preventScrollOnSwipe&&y.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},f),{first:!1,eventData:L,swiping:!0})})},i=d=>{e((f,y)=>{let x;if(f.swiping&&f.eventData){if(d.timeStamp-f.start<y.swipeDuration){x=Object.assign(Object.assign({},f.eventData),{event:d}),y.onSwiped&&y.onSwiped(x);const g=y[`onSwiped${x.dir}`];g&&g(x)}}else y.onTap&&y.onTap({event:d});return y.onTouchEndOrOnMouseUp&&y.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},f),Bi),{eventData:x})})},s=()=>{document.removeEventListener(Oa,r),document.removeEventListener(Ra,l)},l=d=>{s(),i(d)},u=(d,f)=>{let y=()=>{};if(d&&d.addEventListener){const x=Object.assign(Object.assign({},fn.touchEventOptions),f.touchEventOptions),g=[[qf,n,x],[Yf,r,Object.assign(Object.assign({},x),f.preventScrollOnSwipe?{passive:!1}:{})],[Wf,i,x]];g.forEach(([h,v,C])=>d.addEventListener(h,v,C)),y=()=>g.forEach(([h,v])=>d.removeEventListener(h,v))}return y},c={ref:d=>{d!==null&&e((f,y)=>{if(f.el===d)return f;const x={};return f.el&&f.el!==d&&f.cleanUpTouch&&(f.cleanUpTouch(),x.cleanUpTouch=void 0),y.trackTouch&&d&&(x.cleanUpTouch=u(d,y)),Object.assign(Object.assign(Object.assign({},f),{el:d}),x)})}};return t.trackMouse&&(c.onMouseDown=n),[c,u]}function Kf(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function Qf(e){const{trackMouse:t}=e,n=S.useRef(Object.assign({},Bi)),r=S.useRef(Object.assign({},fn)),i=S.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},fn),e);let s;for(s in fn)r.current[s]===void 0&&(r.current[s]=fn[s]);const[l,u]=S.useMemo(()=>Gf(o=>n.current=o(n.current,r.current),{trackMouse:t}),[t]);return n.current=Kf(n.current,r.current,i.current,u),l}const Zf=({alt:e,borderRadius:t,height:n,src:r,status:i,width:s})=>{const[l,u]=S.useState(!1),{ref:o}=Ns({onChange:(c,d)=>{if(c&&!l){const f=new Image;f.onload=()=>u(!0),f.onerror=()=>{d.target.style.display="none"},f.src=r}}});return a.jsx("div",{className:"image-container",ref:o,children:l?a.jsx("img",{className:i==="unread"?"":"read",src:r,alt:e,style:{width:s,height:n,objectFit:"cover",borderRadius:t}}):a.jsx("div",{className:"skeleton-container",children:a.jsx(jr,{text:{rows:0},image:{style:{width:s,height:n,margin:"0",borderRadius:t}},animation:!0})})})},Jf=({entry:e,isThumbnail:t})=>{const n={width:t?"100px":"100%",height:t?"100px":"160px"};return e.imgSrc?a.jsx("div",{className:t?"thumbnail":"cover-image",children:a.jsx(Zf,{alt:e.id,borderRadius:t?"2px":void 0,src:e.imgSrc,status:e.status,width:n.width,height:n.height})}):null},em=({entry:e,showFeedIcon:t,mini:n,children:r})=>{const i=Wi({"article-card-mini-content":n,"article-card-mini-content-padding":n&&t});return a.jsxs("div",{className:i,style:{width:"100%",boxSizing:"border-box"},children:[a.jsx("div",{style:{padding:n?"0 10px 0 0":"0 0 10px 0"},children:a.jsx(Jf,{entry:e,isThumbnail:n})}),a.jsxs("div",{className:n?"article-card-mini-content-text":"",children:[a.jsx(B.Text,{className:e.status==="unread"?"title-unread":"title-read",children:e.title}),a.jsxs(B.Text,{className:"article-info",children:[a.jsx("br",{}),t&&a.jsx(mo,{feed:e.feed,className:n?"feed-icon-mini":"feed-icon"}),e.feed.title,a.jsx("br",{}),to(e.published_at)]}),e.starred&&a.jsx(Yi,{className:"icon-starred"})]}),a.jsx("div",{children:r})]})},tm=({entry:e,handleEntryClick:t,mini:n,children:r})=>{const{activeContent:i}=xn(),s=K(xe),{markReadOnScroll:l,showFeedIcon:u}=s,o=i&&e.id===i.id,{handleToggleStarred:c,handleToggleStatus:d}=as(),[f,y]=S.useState(0),x=100,g=.5,h=e.starred,v=e.status==="unread",C=Qf({preventScrollOnSwipe:!0,delta:x/2,onSwiping:O=>{const L=Math.min(Math.abs(O.deltaX*g),x)*Math.sign(O.deltaX);y(L)},onSwiped:async O=>{try{O.deltaX>x?(await c(e),re.success(h?"Unmarked as starred":"Marked as starred")):O.deltaX<-x&&(await d(e),re.success(v?"Marked as read":"Marked as unread"))}catch{re.error("Failed to update, please try again")}y(0)}}),[A,p]=S.useState(!1),[w,_]=S.useState(!1),k=()=>d(e),T=20,{ref:E}=Ns({skip:w,onChange:async(O,L)=>{if(!(!l||!v)){if(O)p(!0);else if(A){const{top:W}=L.boundingClientRect;W<T&&(await k(),_(!0))}}}}),I=wf({x:f});return S.createElement("div",{...C,className:"article-card",key:e.id},a.jsxs("div",{ref:E,children:[a.jsx(Nf.div,{className:"swipe-card",style:I,children:a.jsx(Tr,{className:Wi("swipe-content","card-custom-style","card-custom-hover-style",{"card-custom-selected-style":o}),"data-entry-id":e.id,hoverable:!0,onClick:()=>t(e),bordered:!1,children:a.jsx(Tr.Meta,{description:a.jsx(em,{entry:e,showFeedIcon:u,mini:n,children:r})})})}),a.jsxs("div",{className:"swipe-actions",children:[a.jsx("div",{className:"swipe-action left",children:h?a.jsx(Yi,{style:{color:"#ffcd00",fontSize:"24px"}}):a.jsx(Hi,{style:{color:"#ffffff",fontSize:"24px"}})}),a.jsx("div",{className:"swipe-action right",children:v?a.jsx(Ha,{style:{color:"#ffffff",fontSize:"24px"}}):a.jsx(Wa,{style:{color:"#ffffff",fontSize:"24px"}})})]})]}))},nm=({loading:e})=>{const{layout:t}=K(xe),n=t==="large"?2:4,r=i=>a.jsx(Tr,{className:"card-style",cover:t==="large"?a.jsx("div",{className:"card-cover-style"}):null,children:a.jsx(Tr.Meta,{description:a.jsx(jr,{loading:e,animation:!0,text:{rows:3,width:150}})})},i);return e?Array.from({length:n},(i,s)=>r(s)):null},rm=()=>{const{isMobileView:e}=Lr(),t=K(xe),{updateConfig:n}=Nr(),{orderDirection:r}=t,[i,s]=Re(zr),[l,u]=Re(Br),o=()=>{n({orderDirection:r==="desc"?"asc":"desc"})};return S.useEffect(()=>{u("title"),s("")},[]),a.jsxs("div",{className:"search-and-sort-bar",children:[a.jsx(nt.Search,{allowClear:!0,onChange:s,placeholder:"Search...",style:{width:e?"100%":278,marginLeft:8},value:i,addBefore:a.jsxs(Ce,{placeholder:"Select type",onChange:u,style:{width:100},value:l,children:[a.jsx(Ce.Option,{value:"title",children:"Title"}),a.jsx(Ce.Option,{value:"content",children:"Content"}),a.jsx(Ce.Option,{value:"author",children:"Author"})]})}),a.jsx($n,{mini:!0,content:r==="desc"?"Newest first":"Oldest first",children:a.jsx(be,{shape:"circle",size:"small",style:{margin:"0 8px",flexShrink:0},icon:r==="desc"?a.jsx(gc,{}):a.jsx(vc,{}),onClick:o})})]})},im=S.forwardRef(({info:e,loading:t,getEntries:n,handleEntryClick:r,cardsRef:i},s)=>{const l=K(ss),u=K(Zn),o=K(Ur),c=K(Vr),{loadingMore:d,handleLoadMore:f}=xo(),{layout:y}=K(xe),x=y==="small",{ref:g,inView:h}=Ns({skip:!c&&!o});return S.useEffect(()=>{let v;if(h&&!t&&!d&&(c||o)){const C=async()=>{await f(e,n)};C(),v=setInterval(C,1e3)}else v&&clearInterval(v);return()=>{v&&clearInterval(v)}},[h,t,d,c,o,f,e,n]),a.jsxs(a.Fragment,{children:[a.jsx(rm,{}),a.jsxs("div",{className:"entry-list",ref:s,children:[a.jsx(nm,{loading:t}),t?null:a.jsx("div",{ref:i,children:l.map(v=>a.jsx(tm,{entry:v,handleEntryClick:r,mini:x,children:a.jsx(rs,{color:"var(--color-text-4)",duration:1e3})},v.id))}),!t&&(u==="all"?c:o)&&a.jsxs("div",{className:"load-more-container",ref:g,children:[a.jsx(yc,{loading:d,style:{paddingRight:"10px"}}),"Loading more ..."]})]})]})}),sm=S.forwardRef(({info:e,refreshArticleList:t,markAllAsRead:n},r)=>{const i=K(yo),s=ne(Kn),l=ne(Qn),u=ne(zr),o=ne(Br),[c,d]=Re(Zn),{fetchData:f}=ns(),y=async()=>{try{await n(),re.success("Marked all as read successfully"),f(),s(g=>g.map(h=>({...h,status:"read"}))),l([]),c==="all"?s(g=>g.map(h=>({...h,status:"read"}))):l([])}catch{re.error("Failed to mark all as read")}},x=g=>{r.current&&r.current.scrollTo(0,0),d(g)};return S.useEffect(()=>{o("title"),u("")},[c]),a.jsxs("div",{className:"entry-panel",children:[!["starred","history"].includes(e.from)&&a.jsx(bi,{focusLock:!0,title:"Mark All As Read?",onOk:y,children:a.jsx(be,{icon:a.jsx(Da,{}),shape:"circle"})}),a.jsx(bc.Group,{disabled:e.from==="history",onChange:g=>x(g),options:[{label:"ALL",value:"all"},{label:"UNREAD",value:"unread"}],type:"button",value:c}),a.jsx(be,{icon:a.jsx(xi,{}),loading:i,shape:"circle",onClick:t})]})}),Sn=({info:e,getEntries:t,markAllAsRead:n})=>{const{activeContent:r,setActiveContent:i}=xn(),s=K(Zi),{fetchData:l}=ns(),u=K(xe),{orderBy:o,orderDirection:c}=u,[d,f]=Re(bo),[y,x]=Re(yo),g=ne(Kn),h=ne(Ur),v=ne(Vr),C=ne(Qn),A=K(ss),p=ne(is),{handleFetchContent:w,handleToggleStarred:_,handleToggleStatus:k,handleEntryStatusUpdate:T}=as(),[E,I]=S.useState(!1),O=S.useRef(null),L=S.useRef(null),W=S.useRef(null);S.useEffect(()=>{!E||e.from==="history"||$()},[o]),S.useEffect(()=>{p(e.from),$()},[e,c]);const ie=async P=>{i(null),setTimeout(()=>{i({...P,status:"read"})},200),P.status==="unread"&&(setTimeout(()=>{T(P,"read")},200),Qi([P.id],"read").catch(()=>{re.error("Failed to mark entry as read, please try again later"),T(P,"unread")})),W.current&&W.current.scrollTo(0,0)},{handleBKey:ce,handleDKey:de,handleEscapeKey:me,handleLeftKey:qe,handleMKey:we,handleRightKey:jt,handleSKey:b}=os(e,ie);S.useEffect(()=>{const P={27:()=>me(O,W),37:()=>qe(),39:()=>jt(),66:()=>ce(),68:()=>de(w),77:()=>we(()=>k(r)),83:()=>b(()=>_(r))},R=F=>{const V=P[F.keyCode];V&&V()};return d?document.addEventListener("keydown",R):document.removeEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[r,A,d]);const m=(P,R,F,V)=>{g(P),C(R),v(P.length<F.data.total),h(R.length<V.data.total)},N=(P,R)=>{var F,V;if((F=P==null?void 0:P.data)!=null&&F.entries&&((V=R==null?void 0:R.data)==null?void 0:V.total)>=0){const Y=P.data.entries.map(Ci),H=R.data.entries.map(Ci);m(Y,H,P,R)}},D=async()=>{x(!0);try{if(e.from==="history"){const P=await t();N(P,P)}else{const[P,R]=await Promise.all([t(),t(0,"unread")]);N(P,R)}}catch(P){console.error("Error fetching articles:",P)}finally{x(!1)}},$=async()=>{if(O.current&&O.current.scrollTo(0,0),!s){l();return}await D()};return S.useEffect(()=>{r&&i(null)},[]),S.useEffect(()=>{if(!s)try{D(),I(!0),f(!0)}catch{re.error("Failed to fetch articles, please try again later")}},[s]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"entry-col",children:[a.jsx(Us,{in:!y,timeout:200,nodeRef:L,classNames:"fade",children:a.jsx(im,{info:e,cardsRef:L,loading:y,getEntries:t,handleEntryClick:ie,ref:O})}),a.jsx(sm,{info:e,refreshArticleList:$,markAllAsRead:n,ref:O})]}),a.jsx(Us,{in:r!==null,timeout:200,nodeRef:W,classNames:"fade",unmountOnExit:!0,children:a.jsx(uh,{info:e,handleEntryClick:ie,entryListRef:O,ref:W})})]})},am=()=>a.jsx(Sn,{info:{from:"all",id:""},getEntries:Qc,markAllAsRead:ou}),om=()=>{const{id:e}=Ya(),{orderBy:t,pageSize:n}=K(xe),r=async(i=null,s=null)=>{const l={baseUrl:`/v1/categories/${e}/entries`,orderField:t,limit:n,status:i,afterId:s};return ue.get(bn(l))};return a.jsx(Sn,{info:{from:"category",id:e},getEntries:r,markAllAsRead:Vc})},lm=()=>{const e=yn();return a.jsx("div",{id:"error-page",style:{top:"30%",position:"relative"},children:a.jsx(xc,{status:"404",subTitle:"Whoops, that page is gone. ",extra:[a.jsx(be,{type:"primary",onClick:()=>e("/"),children:"Back to Home"},"back")]})})},cm=()=>{const{id:e}=Ya(),{orderBy:t,pageSize:n}=K(xe),r=async(i=null,s=null)=>{const l={baseUrl:`/v1/feeds/${e}/entries`,orderField:t,limit:n,status:i,afterId:s};return ue.get(bn(l))};return a.jsx(Sn,{info:{from:"feed",id:e},getEntries:r,markAllAsRead:su})},um=()=>a.jsx(Sn,{info:{from:"history",id:""},getEntries:ro}),dm="/assets/background-CYt9APEB.jpg",hm=e=>{const t=e.getFieldsValue();let n=!0;for(const[r,i]of Object.entries(t))if(r!=="password"){const s=i==null?void 0:i.trim();e.setFieldValue(r,s),s||(n=!1)}else i||(n=!1);return n},yr=(e,t)=>{e.key==="Enter"&&t.submit()},fm=()=>{const[e]=wc(),[t,n]=S.useState(!1),[r,i]=S.useState("token"),s=ne(Xi),l=yn(),u=async()=>{n(!0);const{server:c,token:d,username:f,password:y}=e.getFieldsValue();try{(await Va({url:"/v1/me",method:"get",baseURL:c,headers:{"X-Auth-Token":d},auth:{username:f,password:y},timeout:5e3})).status===200&&(re.success("Success"),s({server:c,token:d,username:f,password:y}),l("/"))}catch(x){console.error(x),re.error(x.message)}n(!1)},o=async()=>{const c=e.getFieldsValue();if(!Ki(c)){re.error("Please check your server address and credentials");return}await u()};return a.jsxs("div",{className:"page-layout",style:{height:"100%",display:"flex"},children:[a.jsx("div",{className:"form-panel",style:{backgroundColor:"var(--color-bg-1)",width:"50%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflowY:"auto",zIndex:2},children:a.jsxs("div",{className:"login-form",style:{width:"340px"},children:[a.jsx(B.Title,{heading:3,children:"Connect to your server"}),a.jsxs(ve,{autoComplete:"off",form:e,layout:"vertical",onSubmit:async()=>{hm(e)?await o():re.error("Please fill in all required fields")},children:[a.jsx(ve.Item,{field:"server",label:"Server address",rules:[{required:!0}],onKeyDown:c=>{yr(c,e)},children:a.jsx(nt,{disabled:t,placeholder:"Please input server address",prefix:a.jsx(Sc,{})})}),r==="token"&&a.jsx(ve.Item,{field:"token",label:"API Token",rules:[{required:!0}],onKeyDown:c=>{yr(c,e)},children:a.jsx(nt,{disabled:t,placeholder:"Please input api token",prefix:a.jsx(Bs,{})})}),r==="user"&&a.jsxs(a.Fragment,{children:[a.jsx(ve.Item,{field:"username",label:"Username",rules:[{required:!0}],onKeyDown:c=>{yr(c,e)},children:a.jsx(nt,{disabled:t,prefix:a.jsx(La,{}),placeholder:"Please input username"})}),a.jsx(ve.Item,{field:"password",label:"Password",rules:[{required:!0}],onKeyDown:c=>{yr(c,e)},children:a.jsx(nt.Password,{disabled:t,prefix:a.jsx(Bs,{}),placeholder:"Please input password"})})]})]}),a.jsx(be,{loading:t,type:"primary",long:!0,onClick:()=>e.submit(),style:{marginTop:"20px"},children:"Connect"}),a.jsx(tt,{orientation:"center",children:"Or connect with"}),a.jsx(be,{type:"secondary",long:!0,onClick:()=>i(r==="token"?"user":"token"),style:{marginTop:"20px"},children:r==="token"?"Username and password":"API Token"}),a.jsxs("div",{style:{display:"flex",marginTop:"40px"},children:[a.jsx(B.Text,{disabled:!0,children:"Need more info?"}),a.jsx(Cc,{href:"https://miniflux.app/docs/api.html#authentication",style:{fontWeight:"500"},children:"Go to Miniflux official website"})]})]})}),a.jsx("div",{className:"background",style:{backgroundImage:`url(${dm})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"50%",height:"100%"}})]})},mm=({children:e})=>{const t=K(Xi);return Ki(t)?a.jsx(a.Fragment,{children:e}):a.jsx(qa,{to:"/login"})},pm=()=>a.jsx(Sn,{info:{from:"starred",id:""},getEntries:no}),gm=()=>{const e=K(Dr),t=async()=>{let n=br("unread").then(i=>i.data.entries);e>n.length&&(n=br("unread",null,e).then(i=>i.data.entries));const r=n.map(i=>i.id);return Qi(r,"read")};return a.jsx(Sn,{info:{from:"today",id:""},getEntries:br,markAllAsRead:t})},vm=dt("homePage"),ym=[{path:"/all",element:a.jsx(am,{})},{path:"/today",element:a.jsx(gm,{})},{path:"/starred",element:a.jsx(pm,{})},{path:"/history",element:a.jsx(um,{})},{path:"/category/:id",element:a.jsx(om,{})},{path:"/feed/:id",element:a.jsx(cm,{})}],Rl=jc([{path:"/",element:a.jsx(mm,{children:a.jsx(Pu,{})}),errorElement:a.jsx(lm,{}),children:[...ym,{index:!0,element:a.jsx(qa,{to:`/${vm}`,replace:!0})}]},{path:"/login",element:a.jsx(fm,{})}]);Tc.createRoot(document.getElementById("root")).render(a.jsx(Ec,{locale:_c,children:a.jsx(kc,{router:Rl})}))});export default bm();

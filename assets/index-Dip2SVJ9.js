var Pl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{m as Hr,u as F,r as S,p as Ba,i as Rl,o as Ha,c as ye,g as Kn,d as Ge,a as $e,M as Y,j as a,b as Rt,e as Ws,f as rn,A as qa,I as Fl,T as $,S as kr,C as Li,h as Nl,k as Dl,l as Ys,n as Ll,q as $l,B as ge,s as Vl,D as zl,t as _r,v as Vn,w as Wa,x as Ul,y as Bl,z as Hl,E as $i,F as Ya,G as ql,H as Ir,J as Wl,K as Xa,L as Lt,N as Yl,O as Xl,P as Gl,Q as Ql,R as Kl,U as Ye,V as Tt,W as Vi,X as ve,Y as zn,Z as De,_ as Ga,$ as zi,a0 as Qa,a1 as pe,a2 as Ka,a3 as Zl,a4 as Jl,a5 as fn,a6 as ec,a7 as tc,a8 as nc,a9 as rc,aa as sc,ab as ic,ac,ad as ee,ae as Xs,af as oc,ag as Za,ah as Ja,ai as Gs,aj as lc,ak as cc,al as uc,am as dc,an as hc,ao as fc,ap as Or,aq as mc,ar as pc,as as gc,at as vc,au as Ui,av as eo,aw as yc,ax as xc,ay as bc,az as wc,aA as Bi,aB as Sc,aC as to,aD as Ec,aE as jc,aF as Cc,aG as Tc,aH as Mc}from"./vendor-DYGhj6SJ.js";var $m=Pl((Um,er)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const he=(e,t=null)=>n=>{const r=e.get();if(typeof r=="object"&&r!==null){if(t===null)return;typeof n=="function"?e.set({...r,[t]:n(r[t])}):e.set({...r,[t]:n})}else typeof n=="function"?e.set(n(r)):e.set(n)},Qs=Hr({addFeedModalVisible:!1,settingsModalVisible:!1}),kc=he(Qs,"addFeedModalVisible"),_c=he(Qs,"settingsModalVisible"),Ks=()=>{const{addFeedModalVisible:e,settingsModalVisible:t}=F(Qs);return{addFeedModalVisible:e,setAddFeedModalVisible:kc,settingsModalVisible:t,setSettingsModalVisible:_c}},Zn=()=>{const[e,t]=S.useState(window.innerWidth),n=e<=768,r=e<=992;return S.useEffect(()=>{const s=()=>t(window.innerWidth);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),{width:e,isBelowMedium:n,isBelowLarge:r}},no={server:"",token:"",username:"",password:""},Zs=Ba("auth",no,{encode:JSON.stringify,decode:JSON.parse}),ro=e=>Zs.set(e),Ic=()=>ro(no),Oc=e=>{try{const t=new URL(e),{hostname:n,port:r}=t;return!!n&&!!r}catch{return!1}},Js=e=>{const{server:t,token:n,username:r,password:s}=e;return!t||!Rl(t,{require_protocol:!0})&&!Oc(t)?!1:n||r&&s},Ac=()=>Ha.create({retry:3,onRequest({_request:e,options:t}){const n=Zs.get();if(!Js(n))throw new Error("Invalid auth");const{server:r,token:s,username:i,password:o}=n;t.baseURL=r,t.headers=s?{"X-Auth-Token":s}:{Authorization:`Basic ${btoa(`${i}:${o}`)}`}},onRequestError({_request:e,_options:t,error:n}){console.error("Request error: ",n)},async onResponseError({_request:e,response:t,_options:n}){var i;t.status===401&&(localStorage.removeItem("auth"),await Ol.navigate("/login"));const s=((i=t._data)==null?void 0:i.error_message)??t.statusText;throw console.error("Response error: ",s),new Error(s)}}),oe=Ac();oe.get=e=>oe(e,{method:"GET"});oe.post=(e,t)=>oe(e,{method:"POST",body:t});oe.put=(e,t)=>oe(e,{method:"PUT",body:t});const Pc=async()=>oe.get("/v1/categories"),Rc=async e=>oe.post("/v1/categories",{title:e}),Fc=async e=>oe.raw(`/v1/categories/${e}`,{method:"DELETE"}),Nc=async(e,t,n=!1)=>{const r={title:t,hide_globally:n?"on":void 0};return oe.put(`/v1/categories/${e}`,r)},Dc=async e=>oe.put(`/v1/categories/${e}/mark-all-as-read`),so={articleWidth:90,fontSize:1.05,homePage:"all",layout:"large",markReadOnScroll:!1,orderBy:"created_at",orderDirection:"desc",pageSize:100,removeDuplicates:"none",showAllFeeds:!1,showDetailedRelativeTime:!1,showFeedIcon:!0,showStatus:"unread",theme:"light",themeColor:"Blue"},xe=Ba("settings",so,{encode:JSON.stringify,decode:JSON.parse}),at=e=>xe.get()[e],nt=e=>xe.set({...xe.get(),...e}),Lc=()=>xe.set(so);var io={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ye,function(){var n,r,s=1e3,i=6e4,o=36e5,l=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,d=2628e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,v={years:u,months:d,days:l,hours:o,minutes:i,seconds:s,milliseconds:1,weeks:6048e5},p=function(x){return x instanceof O},g=function(x,w,E){return new O(x,E,w.$l)},f=function(x){return r.p(x)+"s"},b=function(x){return x<0},j=function(x){return b(x)?Math.ceil(x):Math.floor(x)},C=function(x){return Math.abs(x)},k=function(x,w){return x?b(x)?{negative:!0,format:""+C(x)+w}:{negative:!1,format:""+x+w}:{negative:!1,format:""}},O=function(){function x(E,T,I){var P=this;if(this.$d={},this.$l=I,E===void 0&&(this.$ms=0,this.parseFromMilliseconds()),T)return g(E*v[f(T)],this);if(typeof E=="number")return this.$ms=E,this.parseFromMilliseconds(),this;if(typeof E=="object")return Object.keys(E).forEach(function(ce){P.$d[f(ce)]=E[ce]}),this.calMilliseconds(),this;if(typeof E=="string"){var q=E.match(h);if(q){var ne=q.slice(2).map(function(ce){return ce!=null?Number(ce):0});return this.$d.years=ne[0],this.$d.months=ne[1],this.$d.weeks=ne[2],this.$d.days=ne[3],this.$d.hours=ne[4],this.$d.minutes=ne[5],this.$d.seconds=ne[6],this.calMilliseconds(),this}}return this}var w=x.prototype;return w.calMilliseconds=function(){var E=this;this.$ms=Object.keys(this.$d).reduce(function(T,I){return T+(E.$d[I]||0)*v[I]},0)},w.parseFromMilliseconds=function(){var E=this.$ms;this.$d.years=j(E/u),E%=u,this.$d.months=j(E/d),E%=d,this.$d.days=j(E/l),E%=l,this.$d.hours=j(E/o),E%=o,this.$d.minutes=j(E/i),E%=i,this.$d.seconds=j(E/s),E%=s,this.$d.milliseconds=E},w.toISOString=function(){var E=k(this.$d.years,"Y"),T=k(this.$d.months,"M"),I=+this.$d.days||0;this.$d.weeks&&(I+=7*this.$d.weeks);var P=k(I,"D"),q=k(this.$d.hours,"H"),ne=k(this.$d.minutes,"M"),ce=this.$d.seconds||0;this.$d.milliseconds&&(ce+=this.$d.milliseconds/1e3,ce=Math.round(1e3*ce)/1e3);var re=k(ce,"S"),de=E.negative||T.negative||P.negative||q.negative||ne.negative||re.negative,J=q.format||ne.format||re.format?"T":"",se=(de?"-":"")+"P"+E.format+T.format+P.format+J+q.format+ne.format+re.format;return se==="P"||se==="-P"?"P0D":se},w.toJSON=function(){return this.toISOString()},w.format=function(E){var T=E||"YYYY-MM-DDTHH:mm:ss",I={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return T.replace(c,function(P,q){return q||String(I[P])})},w.as=function(E){return this.$ms/v[f(E)]},w.get=function(E){var T=this.$ms,I=f(E);return I==="milliseconds"?T%=1e3:T=I==="weeks"?j(T/v[I]):this.$d[I],T||0},w.add=function(E,T,I){var P;return P=T?E*v[f(T)]:p(E)?E.$ms:g(E,this).$ms,g(this.$ms+P*(I?-1:1),this)},w.subtract=function(E,T){return this.add(E,T,!0)},w.locale=function(E){var T=this.clone();return T.$l=E,T},w.clone=function(){return g(this.$ms,this)},w.humanize=function(E){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!E)},w.valueOf=function(){return this.asMilliseconds()},w.milliseconds=function(){return this.get("milliseconds")},w.asMilliseconds=function(){return this.as("milliseconds")},w.seconds=function(){return this.get("seconds")},w.asSeconds=function(){return this.as("seconds")},w.minutes=function(){return this.get("minutes")},w.asMinutes=function(){return this.as("minutes")},w.hours=function(){return this.get("hours")},w.asHours=function(){return this.as("hours")},w.days=function(){return this.get("days")},w.asDays=function(){return this.as("days")},w.weeks=function(){return this.get("weeks")},w.asWeeks=function(){return this.as("weeks")},w.months=function(){return this.get("months")},w.asMonths=function(){return this.as("months")},w.years=function(){return this.get("years")},w.asYears=function(){return this.as("years")},x}(),A=function(x,w,E){return x.add(w.years()*E,"y").add(w.months()*E,"M").add(w.days()*E,"d").add(w.hours()*E,"h").add(w.minutes()*E,"m").add(w.seconds()*E,"s").add(w.milliseconds()*E,"ms")};return function(x,w,E){n=E,r=E().$utils(),E.duration=function(P,q){var ne=E.locale();return g(P,{$l:ne},q)},E.isDuration=p;var T=w.prototype.add,I=w.prototype.subtract;w.prototype.add=function(P,q){return p(P)?A(this,P,1):T.bind(this)(P,q)},w.prototype.subtract=function(P,q){return p(P)?A(this,P,-1):I.bind(this)(P,q)}}})})(io);var $c=io.exports;const Vc=Kn($c);var ao={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ye,function(){return function(n,r,s){n=n||{};var i=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(u,d,h,v){return i.fromToBase(u,d,h,v)}s.en.relativeTime=o,i.fromToBase=function(u,d,h,v,p){for(var g,f,b,j=h.$locale().relativeTime||o,C=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],k=C.length,O=0;O<k;O+=1){var A=C[O];A.d&&(g=v?s(u).diff(h,A.d,!0):h.diff(u,A.d,!0));var x=(n.rounding||Math.round)(Math.abs(g));if(b=g>0,x<=A.r||!A.r){x<=1&&O>0&&(A=C[O-1]);var w=j[A.l];p&&(x=p(""+x)),f=typeof w=="string"?w.replace("%d",x):w(x,d,A.l,b);break}}if(d)return f;var E=b?j.future:j.past;return typeof E=="function"?E(f):E.replace("%s",f)},i.to=function(u,d){return l(u,d,this,!0)},i.from=function(u,d){return l(u,d,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}})})(ao);var zc=ao.exports;const Uc=Kn(zc);var oo={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ye,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(i,o,l){var c=o.prototype;l.utc=function(f){var b={date:f,utc:!0,args:arguments};return new o(b)},c.utc=function(f){var b=l(this.toDate(),{locale:this.$L,utc:!0});return f?b.add(this.utcOffset(),n):b},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(f){f.utc&&(this.$u=!0),this.$utils().u(f.$offset)||(this.$offset=f.$offset),u.call(this,f)};var d=c.init;c.init=function(){if(this.$u){var f=this.$d;this.$y=f.getUTCFullYear(),this.$M=f.getUTCMonth(),this.$D=f.getUTCDate(),this.$W=f.getUTCDay(),this.$H=f.getUTCHours(),this.$m=f.getUTCMinutes(),this.$s=f.getUTCSeconds(),this.$ms=f.getUTCMilliseconds()}else d.call(this)};var h=c.utcOffset;c.utcOffset=function(f,b){var j=this.$utils().u;if(j(f))return this.$u?0:j(this.$offset)?h.call(this):this.$offset;if(typeof f=="string"&&(f=function(A){A===void 0&&(A="");var x=A.match(r);if(!x)return null;var w=(""+x[0]).match(s)||["-",0,0],E=w[0],T=60*+w[1]+ +w[2];return T===0?0:E==="+"?T:-T}(f),f===null))return this;var C=Math.abs(f)<=16?60*f:f,k=this;if(b)return k.$offset=C,k.$u=f===0,k;if(f!==0){var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(k=this.local().add(C+O,n)).$offset=C,k.$x.$localOffset=O}else k=this.utc();return k};var v=c.format;c.format=function(f){var b=f||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,b)},c.valueOf=function(){var f=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*f},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var p=c.toDate;c.toDate=function(f){return f==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var g=c.diff;c.diff=function(f,b,j){if(f&&this.$u===f.$u)return g.call(this,f,b,j);var C=this.local(),k=l(f).local();return g.call(C,k,b,j)}}})})(oo);var Bc=oo.exports;const Hc=Kn(Bc);Ge.extend(Vc);Ge.extend(Uc);Ge.extend(Hc);const qc=e=>Ge(e).isAfter(Ge().subtract(24,"hour")),Wc=()=>Ge().subtract(24,"hour").unix(),lo=(e,t)=>{if(!t){const p=Ge(e).fromNow();return p==="a few seconds ago"?"just now":p}const n=Ge(),s=Ge(e).diff(n),i=Ge.duration(Math.abs(s)),o=i.years(),l=i.months(),c=i.days(),u=i.hours(),d=i.minutes(),h=[];if(o>0&&h.push(`${o} year${o>1?"s":""}`),l>0&&h.push(`${l} month${l>1?"s":""}`),c>0&&h.push(`${c} day${c>1?"s":""}`),u>0&&h.push(`${u} hour${u>1?"s":""}`),d>0&&h.push(`${d} minute${d>1?"s":""}`),h.length===0)return"just now";const v=h.join(" ");return s>0?`in ${v}`:`${v} ago`},Yc=()=>Ge().utc().format("YYYY-MM-DDTHH:mm:ss.SSSSSSZ"),qr=async(e,t)=>oe.put("/v1/entries",{entry_ids:e,status:t}),Xc=async e=>oe.put(`/v1/entries/${e}/bookmark`),Gc=async e=>oe.get(`/v1/entries/${e}/fetch-content`),Sn=(e,t={})=>{const{baseUrl:n,orderField:r,offset:s,limit:i,status:o}=e,l=at("orderDirection"),c=new URLSearchParams({order:r,direction:l,offset:s,limit:i,...t});return o&&c.append("status",o),`${n}?${c}`},Qc=async(e=0,t=null)=>{const n=at("orderBy"),r=at("pageSize"),s={baseUrl:"/v1/entries",orderField:n,offset:e,limit:r,status:t};return oe.get(Sn(s))},Sr=async(e=0,t=null,n=null)=>{const r=at("orderBy"),s=n??at("pageSize"),i=Wc(),o={baseUrl:"/v1/entries",orderField:r,offset:e,limit:s,status:t},l={published_after:i};return oe.get(Sn(o,l))},co=async(e=0,t=null)=>{const n=at("pageSize"),r={baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:n,status:t},s={starred:"true"};return oe.get(Sn(r,s))},uo=async(e=0)=>{const t=at("pageSize"),n={baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:t,status:"read"};return oe.get(Sn(n))},Kc=async()=>oe.get("/v1/feeds"),Zc=async()=>oe.get("/v1/feeds/counters"),Jc=async e=>oe.raw(`/v1/feeds/${e}/refresh`,{method:"PUT"}),eu=async()=>oe.raw("/v1/feeds/refresh",{method:"PUT"}),tu=async(e,t,n)=>oe.post("/v1/feeds",{feed_url:e,category_id:t,crawler:n}),nu=async e=>oe.raw(`/v1/feeds/${e}`,{method:"DELETE"}),Hi=async(e,t)=>{const{categoryId:n,title:r,siteUrl:s,feedUrl:i,hidden:o,disabled:l,isFullText:c}=t;return oe.put(`/v1/feeds/${e}`,{category_id:n,title:r,site_url:s,feed_url:i,hide_globally:o,disabled:l,crawler:c})},ru=async e=>oe.put(`/v1/feeds/${e}/mark-all-as-read`),su=async()=>oe.get("/v1/me"),iu=async()=>{const e=await su();return oe.put(`/v1/users/${e.data.id}/mark-all-as-read`)},Ve=Hr({isAppDataReady:!1,unreadInfo:{},unreadTodayCount:0,starredCount:0,historyCount:0,feedsData:[],categoriesData:[]}),ei=$e(Ve,e=>{const{unreadInfo:t,feedsData:n}=e;return n.map(s=>({...s,unreadCount:t[s.id]??0})).sort((s,i)=>s.title.localeCompare(i.title,"en"))}),Jn=$e([Ve,ei],(e,t)=>{const{categoriesData:n}=e;return n.map(s=>{const i=t.filter(o=>o.category.id===s.id);return{...s,unreadCount:i.reduce((o,l)=>o+(l.unreadCount??0),0),feedCount:i.length}}).sort((s,i)=>s.title.localeCompare(i.title,"en"))}),ho=$e(Jn,e=>e.filter(t=>t.hide_globally).map(t=>t.id)),fo=$e([ei,ho],(e,t)=>e.filter(n=>n.hide_globally||t.includes(n.category.id)).map(n=>n.id)),mo=$e([ei,fo,xe],(e,t,n)=>{const{showAllFeeds:r}=n;return e.filter(s=>r||!t.includes(s.id))}),po=$e(mo,e=>e.reduce((t,n)=>{const{id:r}=n.category;return t[r]||(t[r]=[]),t[r].push(n),t},{})),au=$e([Ve,mo],(e,t)=>{const{unreadInfo:n}=e;return Object.entries(n).reduce((r,[s,i])=>t.some(o=>o.id===Number(s))?r+i:r,0)}),Er=he(Ve,"categoriesData"),Zt=he(Ve,"feedsData"),bs=he(Ve,"historyCount"),ws=he(Ve,"isAppDataReady"),Ss=he(Ve,"starredCount"),go=he(Ve,"unreadInfo"),vo=he(Ve,"unreadTodayCount"),ti=async()=>{ws(!1);const e=await Promise.all([Zc(),Sr(0,"unread"),co(),uo(),Kc(),Pc()]),[t,n,r,s,i,o]=e,l=i.reduce((c,u)=>(c[u.id]=t.unreads[u.id]??0,c),{});go(l),vo(n.total??0),Ss(r.total??0),bs(s.total??0),Zt(i),Er(o),ws(!0)};var yo={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=s(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)t.call(i,l)&&i[l]&&(o=s(o,l));return o}function s(i,o){return o?i?i+" "+o:i+o:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(yo);var ou=yo.exports;const Wr=Kn(ou);var er={};(function e(t,n,r,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var y=new OffscreenCanvas(1,1),m=y.getContext("2d");m.fillRect(0,0,1,1);var R=y.transferToImageBitmap();try{m.createPattern(R,"no-repeat")}catch{return!1}return!0}();function c(){}function u(y){var m=n.exports.Promise,R=m!==void 0?m:t.Promise;return typeof R=="function"?new R(y):(y(c,c),null)}var d=function(y,m){return{transform:function(R){if(y)return R;if(m.has(R))return m.get(R);var N=new OffscreenCanvas(R.width,R.height),D=N.getContext("2d");return D.drawImage(R,0,0),m.set(R,N),N},clear:function(){m.clear()}}}(l,new Map),h=function(){var y=Math.floor(16.666666666666668),m,R,N={},D=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function(z){var U=Math.random();return N[U]=requestAnimationFrame(function L(B){D===B||D+y-1<B?(D=B,delete N[U],z()):N[U]=requestAnimationFrame(L)}),U},R=function(z){N[z]&&cancelAnimationFrame(N[z])}):(m=function(z){return setTimeout(z,y)},R=function(z){return clearTimeout(z)}),{frame:m,cancel:R}}(),v=function(){var y,m,R={};function N(D){function z(U,L){D.postMessage({options:U||{},callback:L})}D.init=function(L){var B=L.transferControlToOffscreen();D.postMessage({canvas:B},[B])},D.fire=function(L,B,K){if(m)return z(L,null),m;var W=Math.random().toString(36).slice(2);return m=u(function(ie){function ue(fe){fe.data.callback===W&&(delete R[W],D.removeEventListener("message",ue),m=null,d.clear(),K(),ie())}D.addEventListener("message",ue),z(L,W),R[W]=ue.bind(null,{data:{callback:W}})}),m},D.reset=function(){D.postMessage({reset:!0});for(var L in R)R[L](),delete R[L]}}return function(){if(y)return y;if(!r&&i){var D=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{y=new Worker(URL.createObjectURL(new Blob([D])))}catch(z){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",z),null}N(y)}return y}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(y,m){return m?m(y):y}function f(y){return y!=null}function b(y,m,R){return g(y&&f(y[m])?y[m]:p[m],R)}function j(y){return y<0?0:Math.floor(y)}function C(y,m){return Math.floor(Math.random()*(m-y))+y}function k(y){return parseInt(y,16)}function O(y){return y.map(A)}function A(y){var m=String(y).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:k(m.substring(0,2)),g:k(m.substring(2,4)),b:k(m.substring(4,6))}}function x(y){var m=b(y,"origin",Object);return m.x=b(m,"x",Number),m.y=b(m,"y",Number),m}function w(y){y.width=document.documentElement.clientWidth,y.height=document.documentElement.clientHeight}function E(y){var m=y.getBoundingClientRect();y.width=m.width,y.height=m.height}function T(y){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=y,m}function I(y,m,R,N,D,z,U,L,B){y.save(),y.translate(m,R),y.rotate(z),y.scale(N,D),y.arc(0,0,1,U,L,B),y.restore()}function P(y){var m=y.angle*(Math.PI/180),R=y.spread*(Math.PI/180);return{x:y.x,y:y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:y.startVelocity*.5+Math.random()*y.startVelocity,angle2D:-m+(.5*R-Math.random()*R),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:y.color,shape:y.shape,tick:0,totalTicks:y.ticks,decay:y.decay,drift:y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:y.gravity*3,ovalScalar:.6,scalar:y.scalar,flat:y.flat}}function q(y,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.velocity*=m.decay,m.flat?(m.wobble=0,m.wobbleX=m.x+10*m.scalar,m.wobbleY=m.y+10*m.scalar,m.tiltSin=0,m.tiltCos=0,m.random=1):(m.wobble+=m.wobbleSpeed,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble),m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2);var R=m.tick++/m.totalTicks,N=m.x+m.random*m.tiltCos,D=m.y+m.random*m.tiltSin,z=m.wobbleX+m.random*m.tiltCos,U=m.wobbleY+m.random*m.tiltSin;if(y.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-R)+")",y.beginPath(),o&&m.shape.type==="path"&&typeof m.shape.path=="string"&&Array.isArray(m.shape.matrix))y.fill(J(m.shape.path,m.shape.matrix,m.x,m.y,Math.abs(z-N)*.1,Math.abs(U-D)*.1,Math.PI/10*m.wobble));else if(m.shape.type==="bitmap"){var L=Math.PI/10*m.wobble,B=Math.abs(z-N)*.1,K=Math.abs(U-D)*.1,W=m.shape.bitmap.width*m.scalar,ie=m.shape.bitmap.height*m.scalar,ue=new DOMMatrix([Math.cos(L)*B,Math.sin(L)*B,-Math.sin(L)*K,Math.cos(L)*K,m.x,m.y]);ue.multiplySelf(new DOMMatrix(m.shape.matrix));var fe=y.createPattern(d.transform(m.shape.bitmap),"no-repeat");fe.setTransform(ue),y.globalAlpha=1-R,y.fillStyle=fe,y.fillRect(m.x-W/2,m.y-ie/2,W,ie),y.globalAlpha=1}else if(m.shape==="circle")y.ellipse?y.ellipse(m.x,m.y,Math.abs(z-N)*m.ovalScalar,Math.abs(U-D)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):I(y,m.x,m.y,Math.abs(z-N)*m.ovalScalar,Math.abs(U-D)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var X=Math.PI/2*3,G=4*m.scalar,ke=8*m.scalar,be=m.x,je=m.y,ze=5,we=Math.PI/ze;ze--;)be=m.x+Math.cos(X)*ke,je=m.y+Math.sin(X)*ke,y.lineTo(be,je),X+=we,be=m.x+Math.cos(X)*G,je=m.y+Math.sin(X)*G,y.lineTo(be,je),X+=we;else y.moveTo(Math.floor(m.x),Math.floor(m.y)),y.lineTo(Math.floor(m.wobbleX),Math.floor(D)),y.lineTo(Math.floor(z),Math.floor(U)),y.lineTo(Math.floor(N),Math.floor(m.wobbleY));return y.closePath(),y.fill(),m.tick<m.totalTicks}function ne(y,m,R,N,D){var z=m.slice(),U=y.getContext("2d"),L,B,K=u(function(W){function ie(){L=B=null,U.clearRect(0,0,N.width,N.height),d.clear(),D(),W()}function ue(){r&&!(N.width===s.width&&N.height===s.height)&&(N.width=y.width=s.width,N.height=y.height=s.height),!N.width&&!N.height&&(R(y),N.width=y.width,N.height=y.height),U.clearRect(0,0,N.width,N.height),z=z.filter(function(fe){return q(U,fe)}),z.length?L=h.frame(ue):ie()}L=h.frame(ue),B=ie});return{addFettis:function(W){return z=z.concat(W),K},canvas:y,promise:K,reset:function(){L&&h.cancel(L),B&&B()}}}function ce(y,m){var R=!y,N=!!b(m||{},"resize"),D=!1,z=b(m,"disableForReducedMotion",Boolean),U=i&&!!b(m||{},"useWorker"),L=U?v():null,B=R?w:E,K=y&&L?!!y.__confetti_initialized:!1,W=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ie;function ue(X,G,ke){for(var be=b(X,"particleCount",j),je=b(X,"angle",Number),ze=b(X,"spread",Number),we=b(X,"startVelocity",Number),pt=b(X,"decay",Number),Ut=b(X,"gravity",Number),Qe=b(X,"drift",Number),Bt=b(X,"colors",O),Ht=b(X,"ticks",Number),Ke=b(X,"shapes"),Ue=b(X,"scalar"),ct=!!b(X,"flat"),Mt=x(X),qt=be,kt=[],sn=y.width*Mt.x,Ie=y.height*Mt.y;qt--;)kt.push(P({x:sn,y:Ie,angle:je,spread:ze,startVelocity:we,color:Bt[qt%Bt.length],shape:Ke[C(0,Ke.length)],ticks:Ht,decay:pt,gravity:Ut,drift:Qe,scalar:Ue,flat:ct}));return ie?ie.addFettis(kt):(ie=ne(y,kt,B,G,ke),ie.promise)}function fe(X){var G=z||b(X,"disableForReducedMotion",Boolean),ke=b(X,"zIndex",Number);if(G&&W)return u(function(we){we()});R&&ie?y=ie.canvas:R&&!y&&(y=T(ke),document.body.appendChild(y)),N&&!K&&B(y);var be={width:y.width,height:y.height};L&&!K&&L.init(y),K=!0,L&&(y.__confetti_initialized=!0);function je(){if(L){var we={getBoundingClientRect:function(){if(!R)return y.getBoundingClientRect()}};B(we),L.postMessage({resize:{width:we.width,height:we.height}});return}be.width=be.height=null}function ze(){ie=null,N&&(D=!1,t.removeEventListener("resize",je)),R&&y&&(document.body.removeChild(y),y=null,K=!1)}return N&&!D&&(D=!0,t.addEventListener("resize",je,!1)),L?L.fire(X,be,ze):ue(X,be,ze)}return fe.reset=function(){L&&L.reset(),ie&&ie.reset()},fe}var re;function de(){return re||(re=ce(null,{useWorker:!0,resize:!0})),re}function J(y,m,R,N,D,z,U){var L=new Path2D(y),B=new Path2D;B.addPath(L,new DOMMatrix(m));var K=new Path2D;return K.addPath(B,new DOMMatrix([Math.cos(U)*D,Math.sin(U)*D,-Math.sin(U)*z,Math.cos(U)*z,R,N])),K}function se(y){if(!o)throw new Error("path confetti are not supported in this browser");var m,R;typeof y=="string"?m=y:(m=y.path,R=y.matrix);var N=new Path2D(m),D=document.createElement("canvas"),z=D.getContext("2d");if(!R){for(var U=1e3,L=U,B=U,K=0,W=0,ie,ue,fe=0;fe<U;fe+=2)for(var X=0;X<U;X+=2)z.isPointInPath(N,fe,X,"nonzero")&&(L=Math.min(L,fe),B=Math.min(B,X),K=Math.max(K,fe),W=Math.max(W,X));ie=K-L,ue=W-B;var G=10,ke=Math.min(G/ie,G/ue);R=[ke,0,0,ke,-Math.round(ie/2+L)*ke,-Math.round(ue/2+B)*ke]}return{type:"path",path:m,matrix:R}}function Me(y){var m,R=1,N="#000000",D='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof y=="string"?m=y:(m=y.text,R="scalar"in y?y.scalar:R,D="fontFamily"in y?y.fontFamily:D,N="color"in y?y.color:N);var z=10*R,U=""+z+"px "+D,L=new OffscreenCanvas(z,z),B=L.getContext("2d");B.font=U;var K=B.measureText(m),W=Math.ceil(K.actualBoundingBoxRight+K.actualBoundingBoxLeft),ie=Math.ceil(K.actualBoundingBoxAscent+K.actualBoundingBoxDescent),ue=2,fe=K.actualBoundingBoxLeft+ue,X=K.actualBoundingBoxAscent+ue;W+=ue+ue,ie+=ue+ue,L=new OffscreenCanvas(W,ie),B=L.getContext("2d"),B.font=U,B.fillStyle=N,B.fillText(m,fe,X);var G=1/R;return{type:"bitmap",bitmap:L.transferToImageBitmap(),matrix:[G,0,0,G,-W*G/2,-ie*G/2]}}n.exports=function(){return de().apply(this,arguments)},n.exports.reset=function(){de().reset()},n.exports.create=ce,n.exports.shapeFromPath=se,n.exports.shapeFromText=Me})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),er,!1);const lu=er.exports;er.exports.create;const Ar=(e,t)=>{const n=t.map(r=>r.id);return e.map(r=>n.includes(r.id)&&t.find(i=>i.id===r.id)||r)},Es=(e,t)=>{const n={};let r=0;const s=e.filter(c=>c.status!==t);if(s.length===0)return;t==="read"?(Nr(c=>Math.max(0,c-s.length)),Dr(c=>Math.max(0,c-s.length)),bs(c=>c+s.length)):(Nr(c=>c+s.length),Dr(c=>c+s.length),bs(c=>Math.max(0,c-s.length)));for(const c of s){const u=c.feed.id,d=qc(c.published_at),h=t==="read"?-1:1;n[u]=(n[u]??0)+h,r+=d?h:0}vo(c=>Math.max(0,c+r)),go(c=>{const u={...c};for(const[d,h]of Object.entries(n))u[d]=Math.max(0,(u[d]??0)+h);return u});const i=s.map(c=>({...c,status:t})),{activeContent:o}=le.get(),l=i.find(c=>c.id===(o==null?void 0:o.id));l&&st(l),tr(c=>Ar(c,i)),nr(c=>Ar(c,i))},ni=()=>{const{activeContent:e}=F(le),t=(o,l)=>{Es([o],l)},n=(o,l)=>{l?(Ss(u=>u+1),lu({particleCount:100,angle:120,spread:70,origin:{x:1,y:1}})):Ss(u=>Math.max(0,u-1));const c={...o,starred:l};e&&st(c),tr(u=>Ar(u,[c])),nr(u=>Ar(u,[c]))};return{handleEntryStatusUpdate:t,handleFetchContent:async()=>{try{const o=await Gc(e.id);Y.success("Fetched content successfully"),st({...e,content:o.content})}catch{Y.error("Failed to fetch content, please try again later")}},handleToggleStarred:async o=>{const l=!o.starred;n(o,l),Xc(o.id).catch(()=>{Y.error(`Failed to ${l?"star":"unstar"} entry, please try again later`),n(o,!l)})},handleToggleStatus:async o=>{const l=o.status,c=l==="read"?"unread":"read";t(o,c),qr([o.id],c).catch(()=>{Y.error(`Failed to mark entry as ${c}, please try again later`),t(o,l)})}}},cu=(e,t)=>{if(e.length===0||t==="none")return e;const n=e.map((u,d)=>({id:u.id,index:d})),r=new Map,s=new Map,i=new Map,o=[],l=e.slice().sort((u,d)=>u.id-d.id).filter(u=>{const{hash:d,title:h,url:v,id:p}=u;switch(t){case"hash":if(r.has(d))return o.push(u),!1;r.set(d,p);break;case"title":if(s.has(h))return o.push(u),!1;s.set(h,p);break;case"url":if(i.has(v))return o.push(u),!1;i.set(v,p);break;default:return!0}return!0}),c=o.filter(u=>u.status==="unread").map(u=>u.id);return c.length>0&&(Es(o,"read"),qr(c,"read").catch(()=>{Y.error("Failed to mark duplicate entries as read"),Es(o,"unread")})),l.sort((u,d)=>{const h=n.find(p=>p.id===u.id).index,v=n.find(p=>p.id===d.id).index;return h-v})},uu=e=>{const t=new Array(e.length).fill(0);let n=0,r=1;for(;r<e.length;)e[r]===e[n]?(n++,t[r]=n,r++):n!==0?n=t[n-1]:(t[r]=0,r++);return t},cr=(e,t,n=!0)=>{const r=n?e.toLowerCase():e,s=n?t.toLowerCase():t;if(s.length===0)return 0;const i=uu(s);let o=0,l=0;for(;o<r.length;)if(r[o]===s[l]?(o++,l++):l!==0?l=i[l-1]:o++,l===s.length)return o-l;return-1},du=e=>{const t=[],n=[];let r=[];const s=[],i=e.match(/([-+|]?)\s*"([^"]+)"/g);let o=e;i&&(r=i.map(c=>{const u=c.trim()[0],d=c.match(/"([^"]+)"/)[1];switch(u){case"-":n.push(d);break;case"+":t.push(d);break;case"|":s.push([d]);break;default:t.push(d);break}return d}),o=e.replace(/([-+|]?)\s*"([^"]+)"/g,""));const l=o.split(/\s+/);for(const c of l){const u=c.replace(/^-|\+|\|$/,"");if(c.startsWith("-")&&u)n.push(u);else if(c.startsWith("+")&&u)t.push(u);else if(c.includes("|")){const d=c.split("|").filter(h=>h);d.length>0&&s.push(d)}else u&&t.push(u)}return{includeTerms:t,excludeTerms:n,exactPhrases:r,orConditions:s}},hu=(e,t,n=[],r=!0)=>{const{includeTerms:s,excludeTerms:i,exactPhrases:o,orConditions:l}=du(t);return e.filter(c=>n.some(u=>{const d=c[u];if(typeof d!="string")return!1;const h=r?d.toLowerCase():d;if(i.some(g=>cr(h,g,r)!==-1)||o.length>0&&!o.some(g=>cr(h,g,r)!==-1))return!1;const v=s.every(g=>cr(h,g,r)!==-1),p=l.length===0||l.some(g=>g.some(f=>cr(h,f,r)!==-1));return v&&p}))},fu=(e,t,n=[],r=!0)=>{try{if(!Array.isArray(e)||e.length===0)throw new Error("Invalid data input");if(typeof t!="string"||t.trim().length===0)throw new Error("Invalid query input");return hu(e,t,n,r)}catch(s){return console.error(s.message),[]}},jr=(e,t)=>e.toLowerCase().includes(t.toLowerCase()),mu=(e,t,n)=>n?fu(e,n,[t]):e,le=Hr({activeContent:null,entries:[],filterStatus:at("showStatus"),filterString:"",filterType:"Title",infoFrom:at("homePage"),isArticleFocused:!1,loading:!0,offset:0,total:0,unreadCount:0,unreadEntries:[],unreadOffset:0}),ri=$e(le,e=>{const{unreadEntries:t,unreadCount:n}=e;return t.length<n}),si=$e(le,e=>{const{entries:t,total:n}=e;return t.length<n}),pu=$e(le,e=>{const{entries:t,filterStatus:n,unreadEntries:r}=e;return n==="all"?t:r}),ii=$e([le,pu,fo,xe],(e,t,n,r)=>{const{filterString:s,filterType:i,infoFrom:o}=e,l=mu(t,i,s),{removeDuplicates:c,showAllFeeds:u}=r,d=!["starred","history"].includes(o),h=p=>u||!n.includes(p.feed.id),v=d?l.filter(h):l;return c==="none"||["starred","history"].includes(o)?v:cu(v,c)}),st=he(le,"activeContent"),tr=he(le,"entries"),Pr=he(le,"filterStatus"),Rr=he(le,"filterString"),Fr=he(le,"filterType"),gu=he(le,"infoFrom"),gn=he(le,"isArticleFocused"),qi=he(le,"loading"),xo=he(le,"offset"),vu=he(le,"total"),Nr=he(le,"unreadCount"),nr=he(le,"unreadEntries"),Dr=he(le,"unreadOffset"),yu=e=>{const t=/^(?:http|https):\/\/((?!(\d+\.){3}\d+)([^/?#]+))/,n=e.match(t);return n?n[1]:null},Wi=e=>{const t=yu(e);if(t){const n=t.split(".");if(n.length>=2)return n.slice(-2).join(".")}return null},bo=({feed:e,className:t="feed-icon"})=>{const r=`https://icons.duckduckgo.com/ip3/${Wi(e.site_url)??Wi(e.feed_url)}.ico`;return a.jsx("img",{className:t,src:r,alt:"Feed icon"})},wo=Rt.Item,xu=({category:e,path:t})=>{var o;const r=(o=F(po)[e.id])==null?void 0:o.reduce((l,c)=>l+c.unreadCount,0),s=rn(),i=()=>{s(`/category/${e.id}`),st(null)};return a.jsxs("div",{className:Wr("category-title",{"active-subMenu":t===`/category/${e.id}`,"inactive-subMenu":t!==`/category/${e.id}`}),onClick:i,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&i()},tabIndex:0,role:"button",style:{cursor:"pointer"},children:[a.jsx($.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:r?"80%":"100%",fontWeight:500},children:e.title}),r>0&&a.jsx($.Ellipsis,{className:"unread-count",expandable:!1,style:{fontWeight:500},children:r})]})},bu=({count:e})=>a.jsx($.Ellipsis,{className:"item-count",expandable:!1,children:e||""}),ur=({path:e,Icon:t,label:n,count:r})=>{const s=Ws(),i=rn(),o=s.pathname===e,l=()=>{i(e),st(null)};return a.jsx(wo,{onClick:l,className:Wr("arco-menu-item",{"arco-menu-selected":o}),children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(t,{}),n]}),a.jsx(bu,{count:r})]})},e)},So=()=>{const{homePage:e,showAllFeeds:t,showFeedIcon:n}=F(xe),{historyCount:r,isAppDataReady:s,starredCount:i,unreadTodayCount:o}=F(Ve),l=F(Jn),c=F(po),u=F(ho),d=F(au),h=Ws(),v=rn(),[p,g]=S.useState([`/${e}`]),f=h.pathname;S.useEffect(()=>{g([f])},[f]);const b=()=>a.jsxs(a.Fragment,{children:[a.jsx(ur,{path:"/all",Icon:Nl,label:"All",count:d}),a.jsx(ur,{path:"/today",Icon:Dl,label:"Today",count:o}),a.jsx(ur,{path:"/starred",Icon:Ys,label:"Starred",count:i}),a.jsx(ur,{path:"/history",Icon:Ll,label:"History",count:r})]}),j=k=>{var O;return(O=c[k])==null?void 0:O.map(A=>a.jsx(wo,{style:{position:"relative",overflow:"hidden"},onClick:x=>{x.stopPropagation(),v(`/feed/${A.id}`),st(null)},children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs($.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:A.unreadCount?"80%":"100%",paddingLeft:"20px",boxSizing:"border-box"},children:[n&&a.jsx(bo,{feed:A,className:"feed-icon-sidebar"}),A.title]}),A.unreadCount!==0&&a.jsx($.Ellipsis,{className:"item-count",expandable:!1,children:A.unreadCount})]})},`/feed/${A.id}`))},C=()=>l.filter(k=>t||!u.includes(k.id)).map(k=>a.jsx(Li.Item,{name:`/category/${k.id}`,style:{position:"relative",overflow:"hidden"},header:a.jsx(xu,{category:k,path:f}),expandIcon:a.jsx($l,{}),children:j(k.id)},k.id));return a.jsxs(Rt,{autoScrollIntoView:!0,hasCollapseButton:!1,selectedKeys:p,style:{width:"240px",height:"100%"},children:[a.jsxs("div",{className:"menu-header",children:[a.jsx(qa,{className:"avatar",size:32,children:a.jsx(Fl,{style:{color:"var(--color-bg-1)"}})}),a.jsx($.Title,{heading:6,style:{margin:0},children:"ReactFlux"})]}),a.jsx($.Title,{className:"section-title",heading:6,style:{paddingLeft:"12px"},children:"Articles"}),a.jsx(kr,{loading:!s,animation:!0,text:{rows:3}}),s&&b(),a.jsx($.Title,{className:"section-title",heading:6,style:{paddingLeft:"12px"},children:"Feeds"}),a.jsx(kr,{loading:!s,animation:!0,text:{rows:6}}),s&&a.jsx(Li,{triggerRegion:"icon",bordered:!1,children:C()})]})},wu=()=>{const{showAllFeeds:e,theme:t}=F(xe),n=rn(),r=Ws().pathname,{setAddFeedModalVisible:s,setSettingsModalVisible:i}=Ks(),{isBelowLarge:o}=Zn(),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[h,v]=S.useState(!1);S.useEffect(()=>{o||c(!1)},[o]),S.useEffect(()=>{r&&c(!1)},[r]);const p=()=>{nt({showAllFeeds:!e})},g=()=>{nt({theme:t==="light"?"dark":"light"})},f=()=>{Lc(),d(!1)},b=()=>{Ic(),ws(!1),n("/login"),Y.success("Successfully logged out")},j=()=>t==="dark"?a.jsx(Yl,{}):t==="system"?a.jsx(Xl,{}):a.jsx(Gl,{});return a.jsxs("div",{className:"header",children:[a.jsx("div",{className:"brand",children:a.jsx(ge,{className:"trigger",onClick:()=>c(!l),shape:"circle",size:"small",children:a.jsx(Vl,{})})}),a.jsx(zl,{className:"sidebar-drawer",visible:l,title:null,footer:null,closable:!1,onCancel:()=>c(!1),placement:"left",width:240,children:a.jsx(So,{})}),a.jsx("div",{className:"button-group",children:a.jsxs(_r,{size:16,children:[a.jsx(Vn,{content:"Add a feed",mini:!0,children:a.jsx(ge,{shape:"circle",size:"small",type:"primary",icon:a.jsx(Wa,{}),onClick:()=>s(!0)})}),a.jsx(Vn,{content:e?"Hide some feeds":"Show all feeds",mini:!0,children:a.jsx(ge,{shape:"circle",size:"small",icon:e?a.jsx(Ul,{}):a.jsx(Bl,{}),onClick:p})}),a.jsx(ge,{shape:"circle",size:"small",icon:a.jsx(Hl,{}),onClick:()=>window.open("https://github.com/electh/ReactFlux","_blank")}),a.jsx($i,{droplist:a.jsx(Rt,{defaultSelectedKeys:[t],className:"theme-menu",children:["light","dark","system"].map(C=>a.jsxs(Rt.Item,{className:"theme-menu-item",onClick:()=>nt({theme:C}),children:[C.charAt(0).toUpperCase()+C.slice(1),t===C&&a.jsx(Ya,{style:{marginLeft:8}})]},C))}),trigger:"hover",position:"bottom",children:a.jsx(ge,{icon:j(),shape:"circle",size:"small",onClick:g})}),a.jsx($i,{droplist:a.jsxs(Rt,{children:[a.jsxs(Rt.Item,{onClick:()=>i(!0),children:[a.jsx(ql,{className:"icon-right"}),"Settings"]},"0"),a.jsxs(Rt.Item,{onClick:()=>d(!0),children:[a.jsx(Ir,{className:"icon-right"}),"Reset Settings"]},"1"),a.jsxs(Rt.Item,{onClick:()=>v(!0),children:[a.jsx(Wl,{className:"icon-right"}),"Logout"]},"2")]}),trigger:"click",position:"br",children:a.jsx(qa,{size:28,style:{cursor:"pointer"},children:a.jsx(Xa,{})})})]})}),a.jsx(Lt,{title:"Confirm Reset",visible:u,onOk:f,onCancel:()=>d(!1),children:a.jsx("p",{children:"Are you sure you want to reset your settings? This action cannot be undone."})}),a.jsx(Lt,{title:"Confirm Logout",visible:h,onOk:b,onCancel:()=>v(!1),children:a.jsx("p",{children:"Are you sure you want to logout?"})})]})},js={Red:{light:"#F53F3F",dark:"#F76965"},Orange:{light:"#F77234",dark:"#F9925A"},Green:{light:"#00B42A",dark:"#27C346"},Blue:{light:"#165DFF",dark:"#3C7EFF"},Purple:{light:"#722ED1",dark:"#8E51DA"},Gold:{light:"#F7BA1E",dark:"#F9CC44"},Cyan:{light:"#14C9C9",dark:"#3FD4CF"},Magenta:{light:"#F5319D",dark:"#F756A9"}},Cs=e=>{const t=js[e]||js.Blue,n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=at("theme");return(r==="system"?n:r==="dark")?t.dark:t.light},Eo=e=>{Ql(Cs(e),{list:!0}).map(Kl).forEach((n,r)=>{document.body.style.setProperty(`--primary-${r+1}`,n)})},Su=()=>{const{articleWidth:e,fontSize:t,layout:n,showDetailedRelativeTime:r,showFeedIcon:s,themeColor:i}=F(xe),o=l=>{nt(l),l.themeColor&&Eo(l.themeColor)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Accent color"}),a.jsx($.Text,{type:"secondary",children:"Choose your accent color"})]}),a.jsx("div",{style:{display:"flex"},children:Object.keys(js).map(l=>a.jsx(Vn,{content:l,children:a.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",margin:"2px",backgroundColor:Cs(l),cursor:"pointer",border:"3px solid var(--color-bg-3)",outline:l===i?`1px solid ${Cs(l)}`:"none"},onClick:()=>o({themeColor:l}),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&o({themeColor:l})},"aria-label":`Change theme color to ${l}`})},l))})]}),a.jsx(Ye,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Compact article list"}),a.jsx($.Text,{type:"secondary",children:"Use small thumbnail in article list"})]}),a.jsx("div",{children:a.jsx(Tt,{checked:n==="small",onChange:l=>o({layout:l?"small":"large"})})})]}),a.jsx(Ye,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Show detailed relative time"}),a.jsx($.Text,{type:"secondary",children:"Show detailed relative time in article list"})]}),a.jsx("div",{children:a.jsx(Tt,{checked:r,onChange:l=>o({showDetailedRelativeTime:l})})})]}),a.jsx(Ye,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Show feed icon"}),a.jsx($.Text,{type:"secondary",children:"Show feed icon in feed list and article list"})]}),a.jsx("div",{children:a.jsx(Tt,{checked:s,onChange:l=>o({showFeedIcon:l})})})]}),a.jsx(Ye,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Font size"}),a.jsx($.Text,{type:"secondary",children:"Adjust article text size"})]}),a.jsx("div",{children:a.jsxs(_r,{children:[a.jsx($.Text,{style:{fontSize:"0.75rem"},children:"A"}),a.jsx(Vi,{formatTooltip:l=>`${l}rem`,max:1.25,min:.75,showTicks:!0,step:.05,style:{width:200},value:t,onChange:l=>o({fontSize:l})}),a.jsx($.Text,{style:{fontSize:"1.25rem"},children:"A"})]})})]}),a.jsx(Ye,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Article width"}),a.jsx($.Text,{type:"secondary",children:"Adjust article width"})]}),a.jsx("div",{children:a.jsxs(_r,{children:[a.jsx($.Text,{children:"60%"}),a.jsx(Vi,{formatTooltip:l=>`${l}%`,max:90,min:60,showTicks:!0,step:10,style:{width:160},value:e,onChange:l=>o({articleWidth:l})}),a.jsx($.Text,{children:"90%"})]})})]})]})},Eu=()=>{const e=F(Jn),[t]=ve.useForm(),[n,r]=S.useState(!1),[s,i]=S.useState(""),[o,l]=S.useState({}),[c,u]=S.useState(!1),d=async()=>{if(s.trim()){try{const p=await Rc(s);Er(g=>[...g,{...p}]),Y.success("Category added successfully")}catch(p){console.error("Failed to add category: ",p),Y.error("Failed to add category")}i(""),u(!1)}},h=async(p,g,f)=>{try{const b=await Nc(p,g,f);Zt(j=>j.map(C=>C.category.id===p?{...C,category:{...C.category,title:g,hide_globally:f}}:C)),Er(j=>j.map(C=>C.id===p?{...C,...b}:C)),Y.success("Category updated successfully")}catch{Y.error("Failed to update category")}r(!1),t.resetFields()},v=async p=>{try{(await Fc(p.id)).status===204?(Er(f=>f.filter(b=>b.id!==p.id)),Y.success(`Deleted category: ${p.title}`)):Y.error(`Failed to delete category: ${p.title}`)}catch(g){console.error(`Failed to delete category: ${p.title}`,g),Y.error(`Failed to delete category: ${p.title}`)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[e.map(p=>a.jsx(zn,{className:"tag-style",closable:p.feedCount===0,size:"medium",onClick:()=>{l(p),r(!0),t.setFieldsValue({title:p.title})},onClose:async g=>{g.stopPropagation(),await v(p)},children:p.title},p.id)),c?a.jsx(De,{autoFocus:!0,className:"input-style",onBlur:d,onChange:i,onPressEnter:d,size:"small",value:s}):a.jsx(zn,{className:"add-category-tag",icon:a.jsx(Wa,{}),onClick:()=>u(!0),size:"medium",tabIndex:0,children:"Add"})]}),o&&a.jsx(Lt,{className:"modal-style",onOk:t.submit,title:"Edit Category",unmountOnExit:!0,visible:n,onCancel:()=>{r(!1),t.resetFields()},children:a.jsxs(ve,{form:t,layout:"vertical",onSubmit:p=>h(o.id,p.title,p.hidden),labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}},children:[a.jsx(ve.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(De,{placeholder:"Please input category title"})}),a.jsx(ve.Item,{label:"Hidden",field:"hidden",initialValue:o.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Tt,{})})]})})]})},ju=e=>new Promise(t=>setTimeout(t,e)),{Paragraph:Cu}=$,jo=Ga(""),Yi=he(jo),Co=$e([Ve,jo],(e,t)=>{const{feedsData:n}=e;return[...n].sort((r,s)=>r.disabled&&!s.disabled?1:!r.disabled&&s.disabled?-1:0).sort((r,s)=>s.parsing_error_count-r.parsing_error_count).filter(r=>jr(r.title,t)||jr(r.site_url,t)||jr(r.feed_url,t))}),Tu=$e(Co,e=>e.map(t=>({category:t.category,checked_at:t.checked_at,crawler:t.crawler,disabled:t.disabled,feed_url:t.feed_url,hidden:t.hide_globally,key:t.id,parsing_error_count:t.parsing_error_count,site_url:t.site_url,title:t.title}))),Xi=(e,t,n=null)=>n===null||n===e.id?{...e,parsing_error_count:t?0:e.parsing_error_count+1,checked_at:Yc()}:e,Mu=()=>{const e=F(Jn),{showDetailedRelativeTime:t}=F(xe),n=F(Co),r=F(Tu),[s,i]=S.useState(!1),[o]=ve.useForm(),[l,c]=S.useState(!1),[u,d]=S.useState(""),[h,v]=S.useState(null),{isBelowMedium:p}=Zn();S.useEffect(()=>{Yi("")},[]);const g=x=>{v(x),c(!0),o.setFieldsValue({category:x.category.id,title:x.title,siteUrl:x.site_url,feedUrl:x.feed_url,hidden:x.hidden,disabled:x.disabled,crawler:x.crawler})},f=async(x,w,E=!0)=>{try{const I=(await x()).status===204;return E&&(I?Y.success("Refreshed"):Y.error("Failed to refresh")),Zt(P=>P.map(q=>w(q,I))),I}catch{return E&&Y.error("Failed to refresh"),Zt(I=>I.map(P=>w(P,!1))),!1}},b=async(x,w=!0)=>{const E=x.id||x.key;return f(()=>Jc(E),(T,I)=>Xi(T,I,E),w)},j=async()=>{try{const x=await Promise.all(n.map(async w=>{const E=new URL(w.feed_url).hostname,T=w.feed_url.replace(E,u),I=await Hi(w.id,{feedUrl:T});return{...w,...I}}));Zt(w=>w.map(E=>x.find(T=>T.id===E.id)||E)),Y.success("Bulk update successfully"),i(!1)}catch{Y.error("Failed to bulk update, please try again")}},C=()=>{const[x,w]=S.useState(!1),E=async()=>{w(!1),await f(eu,Xi)},T=async()=>{w(!1);const P=n.filter(re=>re.parsing_error_count>0);Y.success("Starting refresh of error feeds, please wait");const q=await Promise.all(P.map(async re=>{const de=await b(re,!1);return await ju(500),de})),ne=q.filter(Boolean).length,ce=q.length-ne;Y.success(`Feeds refreshed. Success: ${ne}, Failure: ${ce}`)},I=()=>w(!1);return a.jsxs(a.Fragment,{children:[a.jsx(ge,{icon:a.jsx(Ir,{}),shape:"circle",onClick:()=>w(!0)}),a.jsx(Lt,{className:"edit-modal",onCancel:I,title:"Refresh Feeds",visible:x,footer:[a.jsx(ge,{onClick:I,children:"Cancel"},"cancel"),a.jsx(ge,{type:"outline",onClick:T,children:"Error Feeds"},"error"),a.jsx(ge,{type:"primary",onClick:E,children:"All Feeds"},"all")],children:a.jsx("p",{children:"Do you want to refresh all feeds or just the ones with errors?"})})]})},k=async x=>{try{(await nu(x.key)).status===204?(Zt(E=>E.filter(T=>T.id!==x.key)),Y.success(`Unfollowed feed: ${x.title}`)):Y.error(`Failed to unfollow feed: ${x.title}`)}catch(w){console.error(`Failed to unfollow feed: ${x.title}`,w),Y.error(`Failed to unfollow feed: ${x.title}`)}},O=[{title:"Title",dataIndex:"title",sorter:(x,w)=>x.title.localeCompare(w.title,"en"),render:(x,w)=>{const E=w.parsing_error_count;let T=w.disabled?`ðŸš« ${x}`:x;E>0&&(T=`âš ï¸ ${x}`);const I=a.jsxs("div",{children:[x,E>0&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),"âš ï¸ Parsing error count: ",E]})]});return a.jsx($.Ellipsis,{expandable:!1,children:a.jsx(Vn,{mini:!0,content:I,children:T})})}},!p&&{title:"Feed URL",dataIndex:"feed_url",sorter:(x,w)=>x.feed_url.localeCompare(w.feed_url,"en"),render:x=>a.jsx($.Ellipsis,{expandable:!1,showTooltip:!0,children:x})},{title:"Category",dataIndex:"category.title",sorter:(x,w)=>x.category.title.localeCompare(w.category.title,"en"),render:x=>a.jsx($.Ellipsis,{expandable:!1,showTooltip:!0,children:a.jsx(zn,{children:x})})},!p&&{title:"Checked at",dataIndex:"checked_at",sorter:(x,w)=>x.checked_at.localeCompare(w.checked_at,"en"),render:x=>a.jsx($.Ellipsis,{expandable:!1,children:lo(x,t)})},{title:"Actions",dataIndex:"op",fixed:"right",width:100,render:(x,w)=>a.jsxs(_r,{children:[a.jsx("button",{"aria-label":"Edit this feed",className:"list-item-action",onClick:()=>g(w),type:"button",children:a.jsx(zi,{})}),a.jsx("button",{"aria-label":"Refresh this feed",className:"list-item-action",onClick:()=>b(w),type:"button",children:a.jsx(Ir,{})}),a.jsx(Ka,{focusLock:!0,position:"left",title:"Unfollowï¼Ÿ",onOk:()=>k(w),children:a.jsx("span",{className:"list-item-action",children:a.jsx(Zl,{})})})]})}].filter(Boolean),A=async(x,w)=>{try{const E=await Hi(x,w);Zt(T=>T.map(I=>I.id===x?{...I,...E}:I)),Y.success("Feed updated successfully"),c(!1),o.resetFields()}catch{Y.error("Failed to update feed")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{alignItems:"center",display:"flex",width:"100%"},children:[a.jsx("div",{style:{display:"flex",flex:1,justifyContent:"center",minWidth:0},children:a.jsx(De.Search,{className:"search-input",placeholder:"Search title or site URL or feed URL",searchButton:!0,onChange:Yi})}),a.jsxs("div",{style:{display:"flex",gap:16,paddingBottom:16,paddingLeft:16},children:[a.jsx(ge,{icon:a.jsx(zi,{}),shape:"circle",onClick:()=>i(!0)}),a.jsxs(Lt,{className:"edit-modal",onOk:j,title:"Bulk Update Hosts",visible:s,onCancel:()=>{i(!1),d("")},children:[a.jsxs(Cu,{children:["This will bulk update filtered feeds' hosts.",a.jsx("br",{}),"Only recommended for RssHub."]}),a.jsx(De,{placeholder:"rsshub.app",value:u,onChange:x=>d(x)})]}),a.jsx(C,{})]})]}),a.jsx(Qa,{borderCell:!0,className:"feed-table",columns:O,data:r,pagePosition:"bottomCenter",scroll:{x:!0},size:"small"}),h&&a.jsx(Lt,{className:"edit-modal",onOk:o.submit,title:"Edit Feed",unmountOnExit:!0,visible:l,onCancel:()=>{c(!1),o.resetFields()},children:a.jsxs(ve,{form:o,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async x=>{const w={categoryId:x.category,title:x.title,siteUrl:x.siteUrl.trim(),feedUrl:x.feedUrl.trim(),hidden:x.hidden,disabled:x.disabled,isFullText:x.crawler};w.feedUrl?await A(h.key,w):Y.error("Feed URL cannot be empty")},children:[a.jsx(ve.Item,{label:"Category",required:!0,field:"category",rules:[{required:!0}],children:a.jsx(pe,{placeholder:"Please select",children:e.map(x=>a.jsx(pe.Option,{value:x.id,children:x.title},x.id))})}),a.jsx(ve.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(De,{placeholder:"Please input feed title"})}),a.jsx(ve.Item,{label:"Site URL",field:"siteUrl",rules:[{required:!0}],children:a.jsx(De,{placeholder:"Please input site URL"})}),a.jsx(ve.Item,{label:"Feed URL",field:"feedUrl",rules:[{required:!0}],children:a.jsx(De,{placeholder:"Please input feed URL"})}),a.jsx(ve.Item,{label:"Hidden",field:"hidden",initialValue:h.hidden,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Tt,{})}),a.jsx(ve.Item,{label:"Disabled",field:"disabled",initialValue:h.disabled,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Tt,{})}),a.jsx(ve.Item,{label:"Fetch original content",field:"crawler",tooltip:a.jsx("div",{children:"Only affects newly retrieved articles"}),triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Tt,{})})]})})]})},ku=()=>{const{homePage:e,markReadOnScroll:t,orderBy:n,pageSize:r,removeDuplicates:s,showStatus:i}=F(xe);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Default show status"}),a.jsx($.Text,{type:"secondary",children:"Which status to show by default:"})]}),a.jsx("div",{children:a.jsxs(pe,{className:"input-select",placeholder:"Select status",value:i,onChange:o=>{nt({showStatus:o}),Pr(o)},children:[a.jsx(pe.Option,{value:"all",children:"All"}),a.jsx(pe.Option,{value:"unread",children:"Unread"})]})})]}),a.jsx(Ye,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Default home page"}),a.jsx($.Text,{type:"secondary",children:"Which page to show by default:"})]}),a.jsx("div",{children:a.jsxs(pe,{className:"input-select",onChange:o=>nt({homePage:o}),placeholder:"Select page",value:e,children:[a.jsx(pe.Option,{value:"all",children:"All"}),a.jsx(pe.Option,{value:"today",children:"Today"}),a.jsx(pe.Option,{value:"starred",children:"Starred"}),a.jsx(pe.Option,{value:"history",children:"History"})]})})]}),a.jsx(Ye,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Entries order"}),a.jsx($.Text,{type:"secondary",children:"What order to show entries:"})]}),a.jsx("div",{children:a.jsxs(pe,{className:"input-select",onChange:o=>nt({orderBy:o}),placeholder:"Select order",value:n,children:[a.jsx(pe.Option,{value:"published_at",children:"Published at"}),a.jsx(pe.Option,{value:"created_at",children:"Created at"})]})})]}),a.jsx(Ye,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Entries per page"}),a.jsx($.Text,{type:"secondary",children:"Show how many entries per page:"})]}),a.jsx("div",{children:a.jsx(Jl,{className:"input-select",defaultValue:r,min:1,mode:"button",onChange:o=>nt({pageSize:o}),size:"small"})})]}),a.jsx(Ye,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Remove duplicate articles"}),a.jsx($.Text,{type:"secondary",children:"Automatically remove duplicate articles based on:"})]}),a.jsx("div",{children:a.jsxs(pe,{className:"input-select",onChange:o=>nt({removeDuplicates:o}),placeholder:"Select option",value:s,children:[a.jsx(pe.Option,{value:"none",children:"None"}),a.jsx(pe.Option,{value:"hash",children:"Hash"}),a.jsx(pe.Option,{value:"title",children:"Title"}),a.jsx(pe.Option,{value:"url",children:"URL"})]})})]}),a.jsx(Ye,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Mark articles as read when scrolled off screen"}),a.jsx($.Text,{type:"secondary",children:"Automatically mark articles as read when they are scrolled out of the visible screen area"})]}),a.jsx("div",{children:a.jsx(Tt,{checked:t,onChange:o=>nt({markReadOnScroll:o})})})]})]})},_u=[{title:"Key",dataIndex:"keyName",render:e=>a.jsx(zn,{children:e})},{title:"Function",dataIndex:"description"}],Iu=[{key:"1",keyName:"Esc",description:"Exit the article view and return to the list."},{key:"2",keyName:"â†",description:"Navigate to the previous article in the list."},{key:"3",keyName:"Ctrl + â†",description:"Navigate to the previous unread article in the list."},{key:"4",keyName:"â†’",description:"Navigate to the next article in the list."},{key:"5",keyName:"Ctrl + â†’",description:"Navigate to the next unread article in the list."},{key:"6",keyName:"B",description:"Open the current article's link in a new browser tab."},{key:"7",keyName:"D",description:"Fetch and display the original content of the current article."},{key:"8",keyName:"M",description:"Toggle the read status of the current article."},{key:"9",keyName:"S",description:"Toggle the star status (bookmark) of the current article."},{key:"10",keyName:"V",description:"Open the photo slider for viewing all images in the current article."}],Ou=()=>a.jsx(Qa,{borderCell:!0,columns:_u,data:Iu,pagination:!1,size:"small",style:{margin:"0 auto",width:"90%"}}),Au=()=>{const e=(t,n)=>a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t,a.jsx("div",{style:{fontSize:"12px"},children:n})]});return a.jsxs(fn,{className:"custom-tabs",defaultActiveTab:"1",tabPosition:"top",animation:!0,children:[a.jsx(fn.TabPane,{title:e(a.jsx(ec,{style:{fontSize:"20px"}}),"Feeds"),children:a.jsx(Mu,{})},"1"),a.jsx(fn.TabPane,{title:e(a.jsx(tc,{style:{fontSize:"20px"}}),"Categories"),children:a.jsx(Eu,{})},"2"),a.jsx(fn.TabPane,{title:e(a.jsx(nc,{style:{fontSize:"20px"}}),"General"),children:a.jsx(ku,{})},"3"),a.jsx(fn.TabPane,{title:e(a.jsx(rc,{style:{fontSize:"20px"}}),"Appearance"),children:a.jsx(Su,{})},"4"),a.jsx(fn.TabPane,{title:e(a.jsx(sc,{style:{fontSize:"20px"}}),"Hotkeys"),children:a.jsx(Ou,{})},"5")]})},Pu=[{required:!0}],Ru=[{required:!0}],Fu=[{type:"boolean"}],Nu=()=>{const{setSettingsModalVisible:e,settingsModalVisible:t}=Ks();return a.jsx(Lt,{alignCenter:!1,autoFocus:!1,className:"settings-modal",focusLock:!0,footer:null,onCancel:()=>e(!1),title:null,unmountOnExit:!0,visible:t,children:a.jsx(Au,{})})},Du=()=>{const e=F(Jn),{addFeedModalVisible:t,setAddFeedModalVisible:n}=Ks(),[r,s]=S.useState(!1),[i]=ve.useForm(),o=async(l,c,u)=>{s(!0);try{await tu(l,c,u),await ti(),Y.success("Added a feed successfully"),n(!1),i.resetFields()}catch{Y.error("Failed to add a feed")}finally{s(!1)}};return a.jsx(Lt,{title:"Add Feed",visible:t,unmountOnExit:!0,style:{width:"400px"},onOk:i.submit,confirmLoading:r,onCancel:()=>{n(!1),i.resetFields()},children:a.jsxs(ve,{form:i,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async l=>{const c=l.url.trim();c?await o(c,l.category,l.crawler):Y.error("Feed URL cannot be empty")},children:[a.jsx(ve.Item,{label:"Feed URL",field:"url",rules:Pu,children:a.jsx(De,{placeholder:"Please input a feed URL"})}),a.jsx(ve.Item,{field:"category",label:"Category",required:!0,rules:Ru,children:a.jsx(pe,{placeholder:"Please select a category",showSearch:!0,filterOption:(l,c)=>jr(c.props.children,l),children:e.map(l=>a.jsx(pe.Option,{value:l.id,children:l.title},l.id))})}),a.jsx(ve.Item,{field:"crawler",initialValue:!1,label:"Fetch original content",rules:Fu,style:{marginBottom:0},triggerPropName:"checked",children:a.jsx(Tt,{})})]})})},Lu=()=>a.jsxs("div",{className:"main",children:[a.jsx(ic,{}),a.jsx(Nu,{}),a.jsx(Du,{})]}),To=()=>{const{theme:e,themeColor:t}=F(xe),[n,r]=S.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);S.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),i=o=>r(o.matches);return s.addEventListener("change",i),()=>s.removeEventListener("change",i)},[]),S.useEffect(()=>{const s=i=>{const o=i?"dark":"light";document.body.setAttribute("arco-theme",o),document.body.style.colorScheme=o};Eo(t),s(e==="system"?n:e==="dark")},[n,e,t])},$u=()=>{To();const{isBelowLarge:e}=Zn();return a.jsxs("div",{className:"app",children:[e?null:a.jsx(ac.Sider,{breakpoint:"lg",className:"sidebar",collapsible:!1,trigger:null,width:240,children:a.jsx(So,{})}),a.jsx(wu,{}),a.jsx(Lu,{})]})},Mo=e=>{const n=new DOMParser().parseFromString(e,"text/html").querySelectorAll("img");return Array.from(n).map(r=>r.getAttribute("src"))},Ts=e=>{var s;const r=(s=new DOMParser().parseFromString(e.content,"text/html").querySelector("img"))==null?void 0:s.getAttribute("src");return{...e,imgSrc:r}},ko=Ga(!1),Gi=he(ko),ai=()=>{const{filterStatus:e,offset:t,unreadOffset:n}=F(le),{pageSize:r}=F(xe),s=F(ko),i=l=>{const c=(u,d)=>d.filter(h=>!u.some(v=>v.id===h.id));e==="all"?(tr(u=>[...u,...c(u,l)]),xo(u=>u+r)):(nr(u=>[...u,...c(u,l)]),Dr(u=>u+r))};return{handleLoadMore:async l=>{Gi(!0);try{let c;if(e==="all"?c=await l(t+r):c=await l(n,e),c!=null&&c.entries){const u=c.entries.map(Ts);i(u)}}catch(c){console.error("Error fetching more articles: ",c)}finally{Gi(!1)}},loadingMore:s}},oi=Hr({isPhotoSliderVisible:!1,selectedIndex:0}),Vu=he(oi,"isPhotoSliderVisible"),zu=he(oi,"selectedIndex"),_o=()=>{const{isPhotoSliderVisible:e,selectedIndex:t}=F(oi);return{isPhotoSliderVisible:e,setIsPhotoSliderVisible:Vu,selectedIndex:t,setSelectedIndex:zu}},Io=e=>{const{activeContent:t,filterStatus:n}=F(le),r=F(ii),s=F(ri),i=F(si),{isPhotoSliderVisible:o,setIsPhotoSliderVisible:l,setSelectedIndex:c}=_o(),{loadingMore:u}=ai(),[d,h]=S.useState(!1),[v,p]=S.useState(!1);S.useEffect(()=>{v&&!u&&(h(!1),p(!1),b())},[v,u]),S.useEffect(()=>{if(t){const x=document.querySelector(".card-custom-selected-style");x&&x.scrollIntoView({behavior:"smooth",block:"nearest"})}},[t]);const g=(x,w)=>{var E;t&&(st(null),x.current&&(x.current.setAttribute("tabIndex","-1"),x.current.focus()),(E=w.current)==null||E.scrollTo(0,0))},f=(x=!1)=>{const w=r.findIndex(E=>E.id===(t==null?void 0:t.id));if(w>0){const E=x?r.slice(0,w).toReversed().find(T=>T.status==="unread"):r[w-1];E&&e(E)}},b=(x=!1)=>{var I;if(d)return;const w=r.findIndex(P=>P.id===(t==null?void 0:t.id));if(w===r.length-1&&(n==="all"&&i||s)){h(!0),p(!0);return}if(w===-1){(I=document.querySelector(".entry-list"))==null||I.scrollTo(0,0);return}const T=x?r.slice(w+1).find(P=>P.status==="unread"):r[w+1];T&&(e(T),p(!1))};return{exitDetailView:g,fetchOriginalArticle:x=>{t&&x()},navigateToNextArticle:b,navigateToPreviousArticle:f,openLinkExternally:()=>{t&&window.open(t.url,"_blank")},openPhotoSlider:()=>{!t||!Mo(t.content).length||o||(c(0),l(!0),gn(!1))},toggleReadStatus:x=>{t&&x()},toggleStarStatus:x=>{t&&x()}}};var Oo={},li={},ci={};Object.defineProperty(ci,"__esModule",{value:!0});var Qi="html",Ki="head",dr="body",Uu=/<([a-zA-Z]+[0-9]?)/,Zi=/<head[^]*>/i,Ji=/<body[^]*>/i,Lr=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Ms=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},ea=typeof window=="object"&&window.DOMParser;if(typeof ea=="function"){var Bu=new ea,Hu="text/html";Ms=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),Bu.parseFromString(e,Hu)},Lr=Ms}if(typeof document=="object"&&document.implementation){var hr=document.implementation.createHTMLDocument();Lr=function(e,t){if(t){var n=hr.documentElement.querySelector(t);return n&&(n.innerHTML=e),hr}return hr.documentElement.innerHTML=e,hr}}var fr=typeof document=="object"&&document.createElement("template"),ks;fr&&fr.content&&(ks=function(e){return fr.innerHTML=e,fr.content.childNodes});function qu(e){var t,n,r=e.match(Uu),s=r&&r[1]?r[1].toLowerCase():"";switch(s){case Qi:{var i=Ms(e);if(!Zi.test(e)){var o=i.querySelector(Ki);(t=o==null?void 0:o.parentNode)===null||t===void 0||t.removeChild(o)}if(!Ji.test(e)){var o=i.querySelector(dr);(n=o==null?void 0:o.parentNode)===null||n===void 0||n.removeChild(o)}return i.querySelectorAll(Qi)}case Ki:case dr:{var l=Lr(e).querySelectorAll(s);return Ji.test(e)&&Zi.test(e)?l[0].parentNode.childNodes:l}default:{if(ks)return ks(e);var o=Lr(e,dr).querySelector(dr);return o.childNodes}}}ci.default=qu;var bn={},ui={},di={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(di);var Z={},Vt=ye&&ye.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rn=ye&&ye.__assign||function(){return Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Rn.apply(this,arguments)};Object.defineProperty(Z,"__esModule",{value:!0});Z.cloneNode=Z.hasChildren=Z.isDocument=Z.isDirective=Z.isComment=Z.isText=Z.isCDATA=Z.isTag=Z.Element=Z.Document=Z.CDATA=Z.NodeWithChildren=Z.ProcessingInstruction=Z.Comment=Z.Text=Z.DataNode=Z.Node=void 0;var Fe=di,hi=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),fi(this,t)},e}();Z.Node=hi;var Yr=function(e){Vt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(hi);Z.DataNode=Yr;var Ao=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Yr);Z.Text=Ao;var Po=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Yr);Z.Comment=Po;var Ro=function(e){Vt(t,e);function t(n,r){var s=e.call(this,r)||this;return s.name=n,s.type=Fe.ElementType.Directive,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Yr);Z.ProcessingInstruction=Ro;var Xr=function(e){Vt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(hi);Z.NodeWithChildren=Xr;var Fo=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Xr);Z.CDATA=Fo;var No=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Xr);Z.Document=No;var Do=function(e){Vt(t,e);function t(n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=n==="script"?Fe.ElementType.Script:n==="style"?Fe.ElementType.Style:Fe.ElementType.Tag);var o=e.call(this,s)||this;return o.name=n,o.attribs=r,o.type=i,o}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,i;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(i=n["x-attribsPrefix"])===null||i===void 0?void 0:i[r]}})},enumerable:!1,configurable:!0}),t}(Xr);Z.Element=Do;function Lo(e){return(0,Fe.isTag)(e)}Z.isTag=Lo;function $o(e){return e.type===Fe.ElementType.CDATA}Z.isCDATA=$o;function Vo(e){return e.type===Fe.ElementType.Text}Z.isText=Vo;function zo(e){return e.type===Fe.ElementType.Comment}Z.isComment=zo;function Uo(e){return e.type===Fe.ElementType.Directive}Z.isDirective=Uo;function Bo(e){return e.type===Fe.ElementType.Root}Z.isDocument=Bo;function Wu(e){return Object.prototype.hasOwnProperty.call(e,"children")}Z.hasChildren=Wu;function fi(e,t){t===void 0&&(t=!1);var n;if(Vo(e))n=new Ao(e.data);else if(zo(e))n=new Po(e.data);else if(Lo(e)){var r=t?cs(e.children):[],s=new Do(e.name,Rn({},e.attribs),r);r.forEach(function(c){return c.parent=s}),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]=Rn({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]=Rn({},e["x-attribsPrefix"])),n=s}else if($o(e)){var r=t?cs(e.children):[],i=new Fo(r);r.forEach(function(u){return u.parent=i}),n=i}else if(Bo(e)){var r=t?cs(e.children):[],o=new No(r);r.forEach(function(u){return u.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else if(Uo(e)){var l=new Ro(e.name,e.data);e["x-name"]!=null&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}Z.cloneNode=fi;function cs(e){for(var t=e.map(function(r){return fi(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=ye&&ye.__createBinding||(Object.create?function(l,c,u,d){d===void 0&&(d=u);var h=Object.getOwnPropertyDescriptor(c,u);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(l,d,h)}:function(l,c,u,d){d===void 0&&(d=u),l[d]=c[u]}),n=ye&&ye.__exportStar||function(l,c){for(var u in l)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,l,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=di,s=Z;n(Z,e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function l(c,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=i),typeof c=="object"&&(u=c,c=void 0),this.callback=c??null,this.options=u??i,this.elementCB=d??null}return l.prototype.onparserinit=function(c){this.parser=c},l.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(c){this.handleCallback(c)},l.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},l.prototype.onopentag=function(c,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new s.Element(c,u,void 0,d);this.addNode(h),this.tagStack.push(h)},l.prototype.ontext=function(c){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=c,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(c);this.addNode(d),this.lastNode=d}},l.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=c;return}var u=new s.Comment(c);this.addNode(u),this.lastNode=u},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var c=new s.Text(""),u=new s.CDATA([c]);this.addNode(u),c.parent=u,this.lastNode=c},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(c,u){var d=new s.ProcessingInstruction(c,u);this.addNode(d)},l.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},l.prototype.addNode=function(c){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),u.children.push(c),d&&(c.prev=d,d.next=c),c.parent=u,this.lastNode=null},l}();e.DomHandler=o,e.default=o})(ui);var Ho={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(Ho);Object.defineProperty(bn,"__esModule",{value:!0});bn.formatDOM=bn.formatAttributes=void 0;var mr=ui,Yu=Ho;function Xu(e){return Yu.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function qo(e){for(var t={},n=0,r=e.length;n<r;n++){var s=e[n];t[s.name]=s.value}return t}bn.formatAttributes=qo;function Gu(e){e=e.toLowerCase();var t=Xu(e);return t||e}function Wo(e,t,n){t===void 0&&(t=null);for(var r=[],s,i=0,o=e.length;i<o;i++){var l=e[i];switch(l.nodeType){case 1:{var c=Gu(l.nodeName);s=new mr.Element(c,qo(l.attributes)),s.children=Wo(c==="template"?l.content.childNodes:l.childNodes,s);break}case 3:s=new mr.Text(l.nodeValue);break;case 8:s=new mr.Comment(l.nodeValue);break;default:continue}var u=r[i-1]||null;u&&(u.next=s),s.parent=t,s.prev=u,s.next=null,r.push(s)}return n&&(s=new mr.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),s.next=r[0]||null,s.parent=t,r.unshift(s),r[1]&&(r[1].prev=r[0])),r}bn.formatDOM=Wo;var Qu=ye&&ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(li,"__esModule",{value:!0});var Ku=Qu(ci),Zu=bn,Ju=/<(![a-zA-Z\s]+)>/;function ed(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(Ju),n=t?t[1]:void 0;return(0,Zu.formatDOM)((0,Ku.default)(e),null,n)}li.default=ed;var Gr={},lt={},Qr={},td=0;Qr.SAME=td;var nd=1;Qr.CAMELCASE=nd;Qr.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const Yo=0,zt=1,Kr=2,Zr=3,mi=4,Xo=5,Go=6;function rd(e){return Te.hasOwnProperty(e)?Te[e]:null}function Pe(e,t,n,r,s,i,o){this.acceptsBooleans=t===Kr||t===Zr||t===mi,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}const Te={},sd=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];sd.forEach(e=>{Te[e]=new Pe(e,Yo,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{Te[e]=new Pe(e,zt,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{Te[e]=new Pe(e,Kr,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{Te[e]=new Pe(e,Kr,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{Te[e]=new Pe(e,Zr,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{Te[e]=new Pe(e,Zr,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{Te[e]=new Pe(e,mi,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{Te[e]=new Pe(e,Go,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{Te[e]=new Pe(e,Xo,!1,e.toLowerCase(),null,!1,!1)});const pi=/[\-\:]([a-z])/g,gi=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(pi,gi);Te[t]=new Pe(t,zt,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(pi,gi);Te[t]=new Pe(t,zt,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(pi,gi);Te[t]=new Pe(t,zt,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{Te[e]=new Pe(e,zt,!1,e.toLowerCase(),null,!1,!1)});const id="xlinkHref";Te[id]=new Pe("xlinkHref",zt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{Te[e]=new Pe(e,zt,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:ad,SAME:od,possibleStandardNames:ta}=Qr,ld=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",cd=ld+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",ud=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+cd+"]*$")),dd=Object.keys(ta).reduce((e,t)=>{const n=ta[t];return n===od?e[t]=t:n===ad?e[t.toLowerCase()]=t:e[t]=n,e},{});lt.BOOLEAN=Zr;lt.BOOLEANISH_STRING=Kr;lt.NUMERIC=Xo;lt.OVERLOADED_BOOLEAN=mi;lt.POSITIVE_NUMERIC=Go;lt.RESERVED=Yo;lt.STRING=zt;lt.getPropertyInfo=rd;lt.isCustomAttribute=ud;lt.possibleStandardNames=dd;var vi={},yi={},na=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,hd=/\n/g,fd=/^\s*/,md=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,pd=/^:\s*/,gd=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,vd=/^[;\s]*/,yd=/^\s+|\s+$/g,xd=`
`,ra="/",sa="*",Jt="",bd="comment",wd="declaration",Sd=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(g){var f=g.match(hd);f&&(n+=f.length);var b=g.lastIndexOf(xd);r=~b?g.length-b:r+g.length}function i(){var g={line:n,column:r};return function(f){return f.position=new o(g),u(),f}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(g){var f=new Error(t.source+":"+n+":"+r+": "+g);if(f.reason=g,f.filename=t.source,f.line=n,f.column=r,f.source=e,!t.silent)throw f}function c(g){var f=g.exec(e);if(f){var b=f[0];return s(b),e=e.slice(b.length),f}}function u(){c(fd)}function d(g){var f;for(g=g||[];f=h();)f!==!1&&g.push(f);return g}function h(){var g=i();if(!(ra!=e.charAt(0)||sa!=e.charAt(1))){for(var f=2;Jt!=e.charAt(f)&&(sa!=e.charAt(f)||ra!=e.charAt(f+1));)++f;if(f+=2,Jt===e.charAt(f-1))return l("End of comment missing");var b=e.slice(2,f-2);return r+=2,s(b),e=e.slice(f),r+=2,g({type:bd,comment:b})}}function v(){var g=i(),f=c(md);if(f){if(h(),!c(pd))return l("property missing ':'");var b=c(gd),j=g({type:wd,property:ia(f[0].replace(na,Jt)),value:b?ia(b[0].replace(na,Jt)):Jt});return c(vd),j}}function p(){var g=[];d(g);for(var f;f=v();)f!==!1&&(g.push(f),d(g));return g}return u(),p()};function ia(e){return e?e.replace(yd,Jt):Jt}var Ed=ye&&ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yi,"__esModule",{value:!0});var jd=Ed(Sd);function Cd(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,jd.default)(e),s=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,l=i.value;s?t(o,l,i):l&&(n=n||{},n[o]=l)}}),n}yi.default=Cd;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.camelCase=void 0;var Td=/^--[a-zA-Z0-9-]+$/,Md=/-([a-z])/g,kd=/^[^-]+$/,_d=/^-(webkit|moz|ms|o|khtml)-/,Id=/^-(ms)-/,Od=function(e){return!e||kd.test(e)||Td.test(e)},Ad=function(e,t){return t.toUpperCase()},aa=function(e,t){return"".concat(t,"-")},Pd=function(e,t){return t===void 0&&(t={}),Od(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Id,aa):e=e.replace(_d,aa),e.replace(Md,Ad))};Jr.camelCase=Pd;var Rd=ye&&ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Fd=Rd(yi),Nd=Jr;function _s(e,t){var n={};return!e||typeof e!="string"||(0,Fd.default)(e,function(r,s){r&&s&&(n[(0,Nd.camelCase)(r,t)]=s)}),n}_s.default=_s;var Dd=_s;(function(e){var t=ye&&ye.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var n=S,r=t(Dd),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function i(d,h){return d.includes("-")?!s.has(d):!!(h&&typeof h.is=="string")}e.isCustomComponent=i;var o={reactCompat:!0};function l(d,h){if(typeof d=="string"){if(!d.trim()){h.style={};return}try{h.style=(0,r.default)(d,o)}catch{h.style={}}}}e.setStyleProp=l,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var c=function(d){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};e.canTextBeChildOfNode=c;var u=function(d){return d};e.returnFirstArg=u})(vi);Object.defineProperty(Gr,"__esModule",{value:!0});var An=lt,oa=vi,Ld=["checked","value"],$d=["input","select","textarea"],Vd={reset:!0,submit:!0};function zd(e,t){e===void 0&&(e={});var n={},r=!!(e.type&&Vd[e.type]);for(var s in e){var i=e[s];if((0,An.isCustomAttribute)(s)){n[s]=i;continue}var o=s.toLowerCase(),l=la(o);if(l){var c=(0,An.getPropertyInfo)(l);switch(Ld.includes(l)&&$d.includes(t)&&!r&&(l=la("default"+o)),n[l]=i,c&&c.type){case An.BOOLEAN:n[l]=!0;break;case An.OVERLOADED_BOOLEAN:i===""&&(n[l]=!0);break}continue}oa.PRESERVE_CUSTOM_ATTRIBUTES&&(n[s]=i)}return(0,oa.setStyleProp)(e.style,n),n}Gr.default=zd;function la(e){return An.possibleStandardNames[e]}var xi={},Ud=ye&&ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});var us=S,Bd=Ud(Gr),Fn=vi,Hd={cloneElement:us.cloneElement,createElement:us.createElement,isValidElement:us.isValidElement};function Qo(e,t){t===void 0&&(t={});for(var n=[],r=typeof t.replace=="function",s=t.transform||Fn.returnFirstArg,i=t.library||Hd,o=i.cloneElement,l=i.createElement,c=i.isValidElement,u=e.length,d=0;d<u;d++){var h=e[d];if(r){var v=t.replace(h,d);if(c(v)){u>1&&(v=o(v,{key:v.key||d})),n.push(s(v,h,d));continue}}if(h.type==="text"){var p=!h.data.trim().length;if(p&&h.parent&&!(0,Fn.canTextBeChildOfNode)(h.parent)||t.trim&&p)continue;n.push(s(h.data,h,d));continue}var g=h,f={};qd(g)?((0,Fn.setStyleProp)(g.attribs.style,g.attribs),f=g.attribs):g.attribs&&(f=(0,Bd.default)(g.attribs,g.name));var b=void 0;switch(h.type){case"script":case"style":h.children[0]&&(f.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?f.defaultValue=h.children[0].data:h.children&&h.children.length&&(b=Qo(h.children,t));break;default:continue}u>1&&(f.key=d),n.push(s(l(h.name,f,b),h,d))}return n.length===1?n[0]:n}xi.default=Qo;function qd(e){return Fn.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,Fn.isCustomComponent)(e.name,e.attribs)}(function(e){var t=ye&&ye.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var n=t(li);e.htmlToDOM=n.default;var r=t(Gr);e.attributesToProps=r.default;var s=t(xi);e.domToReact=s.default;var i=ui;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return i.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return i.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return i.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return i.Text}});var o={lowerCaseAttributeNames:!1};function l(c,u){if(typeof c!="string")throw new TypeError("First argument must be a string");return c?(0,s.default)((0,n.default)(c,(u==null?void 0:u.htmlparser2)||o),u):[]}e.default=l})(Oo);const ca=Kn(Oo),Wd=ca.default||ca;function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function bi(e,t){if(e==null)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(s[n]=e[n]);return s}function Cr(e){var t=S.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var n=Object.create(null);Object.keys(e).forEach(function(r){n[r]=function(){var s;return(s=t.fn[r]).call.apply(s,[t.fn].concat([].slice.call(arguments)))}}),t.curr=n}return t.curr}function Is(e){return S.useReducer(function(t,n){return _e({},t,typeof n=="function"?n(t):n)},e)}S.createContext(void 0);var jt=typeof window<"u"&&"ontouchstart"in window,Os=function(e,t,n){return Math.max(Math.min(e,n),t)},pr=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),Os(e,1*(1-n),Math.max(6,t)*(1+n))},As=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?S.useEffect:S.useLayoutEffect;function pn(e,t,n){var r=S.useRef(t);r.current=t,S.useEffect(function(){function s(i){r.current(i)}return e&&window.addEventListener(e,s,n),function(){e&&window.removeEventListener(e,s)}},[e])}var Yd=["container"];function Xd(e){var t=e.container,n=t===void 0?document.body:t,r=bi(e,Yd);return Xs.createPortal(ee.createElement("div",_e({},r)),n)}function Gd(e){return ee.createElement("svg",_e({width:"44",height:"44",viewBox:"0 0 768 768"},e),ee.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function Qd(e){return ee.createElement("svg",_e({width:"44",height:"44",viewBox:"0 0 768 768"},e),ee.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function Kd(e){return ee.createElement("svg",_e({width:"44",height:"44",viewBox:"0 0 768 768"},e),ee.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function Zd(){return S.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function ua(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var s=e.touches[1],i=s.clientX,o=s.clientY;return[(n+i)/2,(r+o)/2,Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2))]}return[n,r,0]}var Ft=function(e,t,n,r){var s=n*t,i=(s-r)/2,o=void 0,l=e;return s<=r?(o=1,l=0):e>0&&i-e<=0?(o=2,l=i):e<0&&i+e<=0&&(o=3,l=-i),[o,l]};function ds(e,t,n,r,s,i,o,l,c,u){o===void 0&&(o=innerWidth/2),l===void 0&&(l=innerHeight/2),c===void 0&&(c=0),u===void 0&&(u=0);var d=Ft(e,i,n,innerWidth)[0],h=Ft(t,i,r,innerHeight),v=innerWidth/2,p=innerHeight/2;return{x:o-i/s*(o-(v+e))-v+(r/n>=3&&n*i===innerWidth?0:d?c/2:c),y:l-i/s*(l-(p+t))-p+(h[0]?u/2:u),lastCX:o,lastCY:l}}function Ps(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function hs(e,t,n){var r=Ps(n,innerWidth,innerHeight),s=r[0],i=r[1],o=0,l=s,c=i,u=e/t*i,d=t/e*s;return e<s&&t<i?(l=e,c=t):e<s&&t>=i?l=u:e>=s&&t<i||e/t>s/i?c=d:t/e>=3&&!r[2]?o=((c=d)-i)/2:l=u,{width:l,height:c,x:0,y:o,pause:!0}}function gr(e,t){var n=t.leading,r=n!==void 0&&n,s=t.maxWait,i=t.wait,o=i===void 0?s||0:i,l=S.useRef(e);l.current=e;var c=S.useRef(0),u=S.useRef(),d=function(){return u.current&&clearTimeout(u.current)},h=S.useCallback(function(){var v=[].slice.call(arguments),p=Date.now();function g(){c.current=p,d(),l.current.apply(null,v)}var f=c.current,b=p-f;if(f===0&&(r&&g(),c.current=p),s!==void 0){if(b>s)return void g()}else b<o&&(c.current=p);d(),u.current=setTimeout(function(){g(),c.current=0},o)},[o,s,r]);return h.cancel=d,h}var da=function(e,t,n){return en(e,t,n,100,function(r){return r},function(){return en(t,e,n)})},Jd=function(e){return 1-Math.pow(1-e,4)};function en(e,t,n,r,s,i){r===void 0&&(r=400),s===void 0&&(s=Jd);var o=t-e;if(o!==0){var l=Date.now(),c=0,u=function(){var h=Math.min(1,(Date.now()-l)/r);n(e+s(h)*o)&&h<1?d():(cancelAnimationFrame(c),h>=1&&i&&i())};d()}function d(){c=requestAnimationFrame(u)}}var eh={T:0,L:0,W:0,H:0,FIT:void 0},Ko=function(){var e=S.useRef(!1);return S.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},th=["className"];function nh(e){var t=e.className,n=bi(e,th);return ee.createElement("div",_e({className:"PhotoView__Spinner "+t},n),ee.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},ee.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),ee.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var rh=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function sh(e){var t=e.src,n=e.loaded,r=e.broken,s=e.className,i=e.onPhotoLoad,o=e.loadingElement,l=e.brokenElement,c=bi(e,rh),u=Ko();return t&&!r?ee.createElement(ee.Fragment,null,ee.createElement("img",_e({className:"PhotoView__Photo"+(s?" "+s:""),src:t,onLoad:function(d){var h=d.target;u.current&&i({loaded:!0,naturalWidth:h.naturalWidth,naturalHeight:h.naturalHeight})},onError:function(){u.current&&i({broken:!0})},alt:""},c)),!n&&(ee.createElement("span",{className:"PhotoView__icon"},o)||ee.createElement(nh,{className:"PhotoView__icon"}))):l?ee.createElement("span",{className:"PhotoView__icon"},typeof l=="function"?l({src:t}):l):null}var ih={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function ah(e){var t=e.item,n=t.src,r=t.render,s=t.width,i=s===void 0?0:s,o=t.height,l=o===void 0?0:o,c=t.originRef,u=e.visible,d=e.speed,h=e.easing,v=e.wrapClassName,p=e.className,g=e.style,f=e.loadingElement,b=e.brokenElement,j=e.onPhotoTap,C=e.onMaskTap,k=e.onReachMove,O=e.onReachUp,A=e.onPhotoResize,x=e.isActive,w=e.expose,E=Is(ih),T=E[0],I=E[1],P=S.useRef(0),q=Ko(),ne=T.naturalWidth,ce=ne===void 0?i:ne,re=T.naturalHeight,de=re===void 0?l:re,J=T.width,se=J===void 0?i:J,Me=T.height,y=Me===void 0?l:Me,m=T.loaded,R=m===void 0?!n:m,N=T.broken,D=T.x,z=T.y,U=T.touched,L=T.stopRaf,B=T.maskTouched,K=T.rotate,W=T.scale,ie=T.CX,ue=T.CY,fe=T.lastX,X=T.lastY,G=T.lastCX,ke=T.lastCY,be=T.lastScale,je=T.touchTime,ze=T.touchLength,we=T.pause,pt=T.reach,Ut=Cr({onScale:function(M){return Qe(pr(M))},onRotate:function(M){K!==M&&(w({rotate:M}),I(_e({rotate:M},hs(ce,de,M))))}});function Qe(M,V,ae){W!==M&&(w({scale:M}),I(_e({scale:M},ds(D,z,se,y,W,M,V,ae),M<=1&&{x:0,y:0})))}var Bt=gr(function(M,V,ae){if(ae===void 0&&(ae=0),(U||B)&&x){var Wt=Ps(K,se,y),gt=Wt[0],Ze=Wt[1];if(ae===0&&P.current===0){var Ce=Math.abs(M-ie)<=20,Ne=Math.abs(V-ue)<=20;if(Ce&&Ne)return void I({lastCX:M,lastCY:V});P.current=Ce?V>ue?3:2:1}var Yt=M-G,Xt=V-ke,Je=void 0;if(ae===0){var Gt=Ft(Yt+fe,W,gt,innerWidth)[0],ln=Ft(Xt+X,W,Ze,innerHeight);Je=function(_t,yt,xt,dt){return yt&&_t===1||dt==="x"?"x":xt&&_t>1||dt==="y"?"y":void 0}(P.current,Gt,ln[0],pt),Je!==void 0&&k(Je,M,V,W)}if(Je==="x"||B)return void I({reach:"x"});var vt=pr(W+(ae-ze)/100/2*W,ce/se,.2);w({scale:vt}),I(_e({touchLength:ae,reach:Je,scale:vt},ds(D,z,se,y,W,vt,M,V,Yt,Xt)))}},{maxWait:8});function Ht(M){return!L&&!U&&(q.current&&I(_e({},M,{pause:u})),q.current)}var Ke,Ue,ct,Mt,qt,kt,sn,Ie,ar=(qt=function(M){return Ht({x:M})},kt=function(M){return Ht({y:M})},sn=function(M){return q.current&&(w({scale:M}),I({scale:M})),!U&&q.current},Ie=Cr({X:function(M){return qt(M)},Y:function(M){return kt(M)},S:function(M){return sn(M)}}),function(M,V,ae,Wt,gt,Ze,Ce,Ne,Yt,Xt,Je){var Gt=Ps(Xt,gt,Ze),ln=Gt[0],vt=Gt[1],_t=Ft(M,Ne,ln,innerWidth),yt=_t[0],xt=_t[1],dt=Ft(V,Ne,vt,innerHeight),cn=dt[0],lr=dt[1],un=Date.now()-Je;if(un>=200||Ne!=Ce||Math.abs(Yt-Ce)>1){var It=ds(M,V,gt,Ze,Ce,Ne),bt=It.x,Qt=It.y,Be=yt?xt:bt!==M?bt:null,dn=cn?lr:Qt!==V?Qt:null;return Be!==null&&en(M,Be,Ie.X),dn!==null&&en(V,dn,Ie.Y),void(Ne!=Ce&&en(Ce,Ne,Ie.S))}var Kt=(M-ae)/un,Ot=(V-Wt)/un,At=Math.sqrt(Math.pow(Kt,2)+Math.pow(Ot,2)),wt=!1,St=!1;(function(et,Oe){var Ae=et,Et=0,tt=void 0,He=0,hn=function(Tn){tt||(tt=Tn);var Mn=Tn-tt,Fi=Math.sign(et),Ni=-.001*Fi,Di=Math.sign(-Ae)*Math.pow(Ae,2)*2e-4,Al=Ae*Mn+(Ni+Di)*Math.pow(Mn,2)/2;Et+=Al,tt=Tn,Fi*(Ae+=(Ni+Di)*Mn)<=0?qe():Oe(Et)?ht():qe()};function ht(){He=requestAnimationFrame(hn)}function qe(){cancelAnimationFrame(He)}ht()})(At,function(et){var Oe=M+et*(Kt/At),Ae=V+et*(Ot/At),Et=Ft(Oe,Ce,ln,innerWidth),tt=Et[0],He=Et[1],hn=Ft(Ae,Ce,vt,innerHeight),ht=hn[0],qe=hn[1];if(tt&&!wt&&(wt=!0,yt?en(Oe,He,Ie.X):da(He,Oe+(Oe-He),Ie.X)),ht&&!St&&(St=!0,cn?en(Ae,qe,Ie.Y):da(qe,Ae+(Ae-qe),Ie.Y)),wt&&St)return!1;var Tn=wt||Ie.X(He),Mn=St||Ie.Y(qe);return Tn&&Mn})}),an=(Ke=j,Ue=function(M,V){pt||Qe(W!==1?1:Math.max(2,ce/se),M,V)},ct=S.useRef(0),Mt=gr(function(){ct.current=0,Ke.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var M=[].slice.call(arguments);ct.current+=1,Mt.apply(void 0,M),ct.current>=2&&(Mt.cancel(),ct.current=0,Ue.apply(void 0,M))});function on(M,V){if(P.current=0,(U||B)&&x){I({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var ae=pr(W,ce/se);if(ar(D,z,fe,X,se,y,W,ae,be,K,je),O(M,V),ie===M&&ue===V){if(U)return void an(M,V);B&&C(M,V)}}}function Cn(M,V,ae){ae===void 0&&(ae=0),I({touched:!0,CX:M,CY:V,lastCX:M,lastCY:V,lastX:D,lastY:z,lastScale:W,touchLength:ae,touchTime:Date.now()})}function or(M){I({maskTouched:!0,CX:M.clientX,CY:M.clientY,lastX:D,lastY:z})}pn(jt?void 0:"mousemove",function(M){M.preventDefault(),Bt(M.clientX,M.clientY)}),pn(jt?void 0:"mouseup",function(M){on(M.clientX,M.clientY)}),pn(jt?"touchmove":void 0,function(M){M.preventDefault();var V=ua(M);Bt.apply(void 0,V)},{passive:!1}),pn(jt?"touchend":void 0,function(M){var V=M.changedTouches[0];on(V.clientX,V.clientY)},{passive:!1}),pn("resize",gr(function(){R&&!U&&(I(hs(ce,de,K)),A())},{maxWait:8})),As(function(){x&&w(_e({scale:W,rotate:K},Ut))},[x]);var ut=function(M,V,ae,Wt,gt,Ze,Ce,Ne,Yt,Xt){var Je=function(bt,Qt,Be,dn,Kt){var Ot=S.useRef(!1),At=Is({lead:!0,scale:Be}),wt=At[0],St=wt.lead,et=wt.scale,Oe=At[1],Ae=gr(function(Et){try{return Kt(!0),Oe({lead:!1,scale:Et}),Promise.resolve()}catch(tt){return Promise.reject(tt)}},{wait:dn});return As(function(){Ot.current?(Kt(!1),Oe({lead:!0}),Ae(Be)):Ot.current=!0},[Be]),St?[bt*et,Qt*et,Be/et]:[bt*Be,Qt*Be,1]}(Ze,Ce,Ne,Yt,Xt),Gt=Je[0],ln=Je[1],vt=Je[2],_t=function(bt,Qt,Be,dn,Kt){var Ot=S.useState(eh),At=Ot[0],wt=Ot[1],St=S.useState(0),et=St[0],Oe=St[1],Ae=S.useRef(),Et=Cr({OK:function(){return bt&&Oe(4)}});function tt(He){Kt(!1),Oe(He)}return S.useEffect(function(){if(Ae.current||(Ae.current=Date.now()),Be){if(function(He,hn){var ht=He&&He.current;if(ht&&ht.nodeType===1){var qe=ht.getBoundingClientRect();hn({T:qe.top,L:qe.left,W:qe.width,H:qe.height,FIT:ht.tagName==="IMG"?getComputedStyle(ht).objectFit:void 0})}}(Qt,wt),bt)return Date.now()-Ae.current<250?(Oe(1),requestAnimationFrame(function(){Oe(2),requestAnimationFrame(function(){return tt(3)})}),void setTimeout(Et.OK,dn)):void Oe(4);tt(5)}},[bt,Be]),[et,At]}(M,V,ae,Yt,Xt),yt=_t[0],xt=_t[1],dt=xt.W,cn=xt.FIT,lr=innerWidth/2,un=innerHeight/2,It=yt<3||yt>4;return[It?dt?xt.L:lr:Wt+(lr-Ze*Ne/2),It?dt?xt.T:un:gt+(un-Ce*Ne/2),Gt,It&&cn?Gt*(xt.H/dt):ln,yt===0?vt:It?dt/(Ze*Ne)||.01:vt,It?cn?1:0:1,yt,cn]}(u,c,R,D,z,se,y,W,d,function(M){return I({pause:M})}),Q=ut[4],me=ut[6],Ee="transform "+d+"ms "+h,Se={className:p,onMouseDown:jt?void 0:function(M){M.stopPropagation(),M.button===0&&Cn(M.clientX,M.clientY,0)},onTouchStart:jt?function(M){M.stopPropagation(),Cn.apply(void 0,ua(M))}:void 0,onWheel:function(M){if(!pt){var V=pr(W-M.deltaY/100/2,ce/se);I({stopRaf:!0}),Qe(V,M.clientX,M.clientY)}},style:{width:ut[2],height:ut[3],opacity:ut[5],objectFit:me===4?void 0:ut[7],transform:K?"rotate("+K+"deg)":void 0,transition:me>2?Ee+", opacity "+d+"ms ease, height "+(me<4?d/2:me>4?d:0)+"ms "+h:void 0}};return ee.createElement("div",{className:"PhotoView__PhotoWrap"+(v?" "+v:""),style:g,onMouseDown:!jt&&x?or:void 0,onTouchStart:jt&&x?function(M){return or(M.touches[0])}:void 0},ee.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+Q+", 0, 0, "+Q+", "+ut[0]+", "+ut[1]+")",transition:U||we?void 0:Ee,willChange:x?"transform":void 0}},n?ee.createElement(sh,_e({src:n,loaded:R,broken:N},Se,{onPhotoLoad:function(M){I(_e({},M,M.loaded&&hs(M.naturalWidth||0,M.naturalHeight||0,K)))},loadingElement:f,brokenElement:b})):r&&r({attrs:Se,scale:Q,rotate:K})))}var ha={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function oh(e){var t=e.loop,n=t===void 0?3:t,r=e.speed,s=e.easing,i=e.photoClosable,o=e.maskClosable,l=o===void 0||o,c=e.maskOpacity,u=c===void 0?1:c,d=e.pullClosable,h=d===void 0||d,v=e.bannerVisible,p=v===void 0||v,g=e.overlayRender,f=e.toolbarRender,b=e.className,j=e.maskClassName,C=e.photoClassName,k=e.photoWrapClassName,O=e.loadingElement,A=e.brokenElement,x=e.images,w=e.index,E=w===void 0?0:w,T=e.onIndexChange,I=e.visible,P=e.onClose,q=e.afterClose,ne=e.portalContainer,ce=Is(ha),re=ce[0],de=ce[1],J=S.useState(0),se=J[0],Me=J[1],y=re.x,m=re.touched,R=re.pause,N=re.lastCX,D=re.lastCY,z=re.bg,U=z===void 0?u:z,L=re.lastBg,B=re.overlay,K=re.minimal,W=re.scale,ie=re.rotate,ue=re.onScale,fe=re.onRotate,X=e.hasOwnProperty("index"),G=X?E:se,ke=X?T:Me,be=S.useRef(G),je=x.length,ze=x[G],we=typeof n=="boolean"?n:je>n,pt=function(Q,me){var Ee=S.useReducer(function(ae){return!ae},!1)[1],Se=S.useRef(0),M=function(ae,Wt){var gt=S.useRef(ae);function Ze(Ce){gt.current=Ce}return S.useMemo(function(){(function(Ce){Q?(Ce(Q),Se.current=1):Se.current=2})(Ze)},[ae]),[gt.current,Ze]}(Q),V=M[1];return[M[0],Se.current,function(){Ee(),Se.current===2&&(V(!1),me&&me()),Se.current=0}]}(I,q),Ut=pt[0],Qe=pt[1],Bt=pt[2];As(function(){if(Ut)return de({pause:!0,x:G*-(innerWidth+20)}),void(be.current=G);de(ha)},[Ut]);var Ht=Cr({close:function(Q){fe&&fe(0),de({overlay:!0,lastBg:U}),P(Q)},changeIndex:function(Q,me){me===void 0&&(me=!1);var Ee=we?be.current+(Q-G):Q,Se=je-1,M=Os(Ee,0,Se),V=we?Ee:M,ae=innerWidth+20;de({touched:!1,lastCX:void 0,lastCY:void 0,x:-ae*V,pause:me}),be.current=V,ke&&ke(we?Q<0?Se:Q>Se?0:Q:M)}}),Ke=Ht.close,Ue=Ht.changeIndex;function ct(Q){return Q?Ke():de({overlay:!B})}function Mt(){de({x:-(innerWidth+20)*G,lastCX:void 0,lastCY:void 0,pause:!0}),be.current=G}function qt(Q,me,Ee,Se){Q==="x"?function(M){if(N!==void 0){var V=M-N,ae=V;!we&&(G===0&&V>0||G===je-1&&V<0)&&(ae=V/2),de({touched:!0,lastCX:N,x:-(innerWidth+20)*be.current+ae,pause:!1})}else de({touched:!0,lastCX:M,x:y,pause:!1})}(me):Q==="y"&&function(M,V){if(D!==void 0){var ae=u===null?null:Os(u,.01,u-Math.abs(M-D)/100/4);de({touched:!0,lastCY:D,bg:V===1?ae:u,minimal:V===1})}else de({touched:!0,lastCY:M,bg:U,minimal:!0})}(Ee,Se)}function kt(Q,me){var Ee=Q-(N??Q),Se=me-(D??me),M=!1;if(Ee<-40)Ue(G+1);else if(Ee>40)Ue(G-1);else{var V=-(innerWidth+20)*be.current;Math.abs(Se)>100&&K&&h&&(M=!0,Ke()),de({touched:!1,x:V,lastCX:void 0,lastCY:void 0,bg:u,overlay:!!M||B})}}pn("keydown",function(Q){if(I)switch(Q.key){case"ArrowLeft":Ue(G-1,!0);break;case"ArrowRight":Ue(G+1,!0);break;case"Escape":Ke()}});var sn=function(Q,me,Ee){return S.useMemo(function(){var Se=Q.length;return Ee?Q.concat(Q).concat(Q).slice(Se+me-1,Se+me+2):Q.slice(Math.max(me-1,0),Math.min(me+2,Se+1))},[Q,me,Ee])}(x,G,we);if(!Ut)return null;var Ie=B&&!Qe,ar=I?U:L,an=ue&&fe&&{images:x,index:G,visible:I,onClose:Ke,onIndexChange:Ue,overlayVisible:Ie,overlay:ze&&ze.overlay,scale:W,rotate:ie,onScale:ue,onRotate:fe},on=r?r(Qe):400,Cn=s?s(Qe):"cubic-bezier(0.25, 0.8, 0.25, 1)",or=r?r(3):600,ut=s?s(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return ee.createElement(Xd,{className:"PhotoView-Portal"+(Ie?"":" PhotoView-Slider__clean")+(I?"":" PhotoView-Slider__willClose")+(b?" "+b:""),role:"dialog",onClick:function(Q){return Q.stopPropagation()},container:ne},I&&ee.createElement(Zd,null),ee.createElement("div",{className:"PhotoView-Slider__Backdrop"+(j?" "+j:"")+(Qe===1?" PhotoView-Slider__fadeIn":Qe===2?" PhotoView-Slider__fadeOut":""),style:{background:ar?"rgba(0, 0, 0, "+ar+")":void 0,transitionTimingFunction:Cn,transitionDuration:(m?0:on)+"ms",animationDuration:on+"ms"},onAnimationEnd:Bt}),p&&ee.createElement("div",{className:"PhotoView-Slider__BannerWrap"},ee.createElement("div",{className:"PhotoView-Slider__Counter"},G+1," / ",je),ee.createElement("div",{className:"PhotoView-Slider__BannerRight"},f&&an&&f(an),ee.createElement(Gd,{className:"PhotoView-Slider__toolbarIcon",onClick:Ke}))),sn.map(function(Q,me){var Ee=we||G!==0?be.current-1+me:G+me;return ee.createElement(ah,{key:we?Q.key+"/"+Q.src+"/"+Ee:Q.key,item:Q,speed:on,easing:Cn,visible:I,onReachMove:qt,onReachUp:kt,onPhotoTap:function(){return ct(i)},onMaskTap:function(){return ct(l)},wrapClassName:k,className:C,style:{left:(innerWidth+20)*Ee+"px",transform:"translate3d("+y+"px, 0px, 0)",transition:m||R?void 0:"transform "+or+"ms "+ut},loadingElement:O,brokenElement:A,onPhotoResize:Mt,isActive:be.current===Ee,expose:de})}),!jt&&p&&ee.createElement(ee.Fragment,null,(we||G!==0)&&ee.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Ue(G-1,!0)}},ee.createElement(Qd,null)),(we||G+1<je)&&ee.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Ue(G+1,!0)}},ee.createElement(Kd,null))),g&&an&&ee.createElement("div",{className:"PhotoView-Slider__Overlay"},g(an)))}const lh=({handleEntryClick:e,entryListRef:t,entryDetailRef:n})=>{const{activeContent:r}=F(le),{handleFetchContent:s,handleToggleStarred:i,handleToggleStatus:o}=ni(),{exitDetailView:l,navigateToNextArticle:c,navigateToPreviousArticle:u}=Io(e);if(!r)return null;const d=r.status==="unread",h=r.starred;return a.jsxs(ge.Group,{className:"action-buttons",children:[a.jsx(ge,{icon:a.jsx(oc,{}),onClick:()=>l(t,n),shape:"round",type:"primary"}),a.jsx(ge,{icon:d?a.jsx(Za,{}):a.jsx(Ja,{}),onClick:()=>o(r),type:"primary"}),a.jsx(ge,{icon:h?a.jsx(Gs,{style:{color:"#ffcd00"}}):a.jsx(Ys,{}),onClick:()=>i(r),type:"primary"}),a.jsx(ge,{icon:a.jsx(lc,{}),onClick:()=>u(),type:"primary"}),a.jsx(ge,{icon:a.jsx(cc,{}),onClick:()=>c(),type:"primary"}),a.jsx(ge,{icon:a.jsx(uc,{}),onClick:s,shape:"round",type:"primary"})]})},ch=({url:e,text:t})=>{const[n,r]=S.useState(!1),s=()=>r(!n);return a.jsx(hc,{to:e,style:{color:"inherit",textDecoration:n?"underline":"none"},onMouseEnter:s,onMouseLeave:s,children:t})},fa=({node:e,index:t,togglePhotoSlider:n,isLinkWrapper:r=!1})=>{var g;const{fontSize:s}=F(xe),[i,o]=S.useState(!1),[l,c]=S.useState(!1),{isBelowMedium:u}=Zn();S.useEffect(()=>{const b=(r?e.children[0]:e).attribs.src,j=new Image;j.src=b,j.onload=()=>c(j.width<=64&&j.height<=64)},[e,r]);const d=r?e.children[0]:e,h=()=>a.jsx("img",{...d.attribs,alt:d.attribs.alt??"image",style:l?{display:"inline-block",width:"auto",height:`${s}rem`,margin:0}:{}});if(l)return r?a.jsxs("a",{...e.attribs,children:[h(),(g=e.children[1])==null?void 0:g.data]}):h();const v=()=>o(!0),p=()=>o(!1);return a.jsx("div",{style:{textAlign:"center",position:"relative"},children:a.jsxs("div",{style:{display:"inline-block",position:"relative"},onMouseEnter:v,onMouseLeave:p,children:[r?a.jsx("a",{...e.attribs,children:h()}):h(),a.jsx(ge,{icon:a.jsx(fc,{}),shape:"circle",style:{position:"absolute",top:30,right:10,color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",opacity:u||i?1:0,transition:"opacity 0.3s"},onClick:f=>{f.preventDefault(),n(t)}})]})})},uh=(e,t)=>({replace:n=>{if(n.type==="tag"&&n.name==="a"&&n.children.length>0){const r=n.children[0];if(r.type==="tag"&&r.name==="img"){const s=e.findIndex(i=>i===r.attribs.src);return a.jsx(fa,{node:n,index:s,togglePhotoSlider:t,isLinkWrapper:!0})}}else if(n.type==="tag"&&n.name==="img"){const r=e.findIndex(s=>s===n.attribs.src);return a.jsx(fa,{node:n,index:r,togglePhotoSlider:t})}return n}}),dh=S.forwardRef(({handleEntryClick:e,entryListRef:t},n)=>{const r=rn(),{activeContent:s}=F(le),{articleWidth:i,fontSize:o}=F(xe),{isPhotoSliderVisible:l,setIsPhotoSliderVisible:c,selectedIndex:u,setSelectedIndex:d}=_o(),h=()=>{Fr("author"),Rr(s.author)},v=C=>{d(C),c(k=>!k),gn(k=>!k)};if(S.useEffect(()=>{var k;const C=(k=n.current)==null?void 0:k.querySelector(".scroll-container");C&&(C.scrollTo(0,0),C.setAttribute("tabIndex","-1"),setTimeout(()=>{C.focus()},200))},[s==null?void 0:s.id]),!s)return a.jsxs("div",{ref:n,className:"content-empty",children:[a.jsx(dc,{style:{fontSize:"64px"}}),a.jsx($.Title,{heading:6,style:{color:"var(--color-text-3)",marginTop:"10px"},children:"ReactFlux"})]});const p=Mo(s.content),g=uh(p,v),f=Wd(s.content,g),{id:b,title:j}=s.feed.category;return a.jsxs("div",{className:"article-content",onBlur:()=>gn(!1),onFocus:()=>gn(!0),ref:n,children:[a.jsxs("div",{className:"scroll-container",children:[a.jsxs("div",{className:"article-header",style:{width:`${i}%`},children:[a.jsx($.Title,{className:"article-title",heading:3,children:a.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:s.title})}),a.jsxs("div",{className:"article-meta",children:[a.jsx($.Text,{children:a.jsx(ch,{url:`/feed/${s.feed.id}`,text:s.feed.title})}),a.jsx($.Text,{onClick:h,style:{cursor:"pointer"},children:` - ${s.author}`}),a.jsx($.Text,{children:a.jsx(zn,{size:"small",style:{marginLeft:"10px",cursor:"pointer"},onClick:()=>r(`/category/${b}`),children:j})})]}),a.jsx($.Text,{className:"article-date",children:Ge(s.published_at).format("dddd, MMMM D, YYYY [at] h:mm A")}),a.jsx(Ye,{})]}),a.jsxs("div",{className:"article-body",style:{fontSize:`${o}rem`,width:`${i}%`},children:[f,a.jsx(oh,{images:p.map(C=>({src:C,key:C})),loop:!1,visible:l,onClose:()=>{c(!1),gn(!0)},index:u,onIndexChange:d})]},s.id)]}),a.jsx(lh,{handleEntryClick:e,entryListRef:t,entryDetailRef:n})]})});function kn(e,t,n){let r=n.initialDeps??[],s;return()=>{var i,o,l,c;let u;n.key&&((i=n.debug)!=null&&i.call(n))&&(u=Date.now());const d=e();if(!(d.length!==r.length||d.some((p,g)=>r[g]!==p)))return s;r=d;let v;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(v=Date.now()),s=t(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const p=Math.round((Date.now()-u)*100)/100,g=Math.round((Date.now()-v)*100)/100,f=g/16,b=(j,C)=>{for(j=String(j);j.length<C;)j=" "+j;return j};console.info(`%câ± ${b(g,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,s),s}}function fs(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const hh=(e,t)=>Math.abs(e-t)<1,fh=(e,t)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}},mh=e=>e,ph=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},gh=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=i=>{const{width:o,height:l}=i;t({width:Math.round(o),height:Math.round(l)})};if(r(n.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const s=new ResizeObserver(i=>{const o=i[0];if(o!=null&&o.borderBoxSize){const l=o.borderBoxSize[0];if(l){r({width:l.inlineSize,height:l.blockSize});return}}r(n.getBoundingClientRect())});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},ma={passive:!0},vh=typeof window>"u"?!0:"onscrollend"in window,yh=(e,t)=>{const n=e.scrollElement;if(!n)return;let r=0;const s=vh?()=>{}:fh(()=>{t(r,!1)},e.options.isScrollingResetDelay),i=c=>()=>{r=n[e.options.horizontal?"scrollLeft":"scrollTop"],s(),t(r,c)},o=i(!0),l=i(!1);return l(),n.addEventListener("scroll",o,ma),n.addEventListener("scrollend",l,ma),()=>{n.removeEventListener("scroll",o),n.removeEventListener("scrollend",l)}},xh=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},bh=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const o=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class wh{constructor(t){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(typeof ResizeObserver<"u"?n=new ResizeObserver(s=>{s.forEach(i=>{this._measureElement(i.target,i)})}):null);return{disconnect:()=>{var s;return(s=r())==null?void 0:s.disconnect()},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:mh,rangeExtractor:ph,onChange:()=>{},measureElement:xh,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...n}},this.notify=(n,r)=>{var s,i;const{startIndex:o,endIndex:l}=this.range??{startIndex:void 0,endIndex:void 0},c=this.calculateRange();(n||o!==(c==null?void 0:c.startIndex)||l!==(c==null?void 0:c.endIndex))&&((i=(s=this.options).onChange)==null||i.call(s,this,r))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const n=this.options.getScrollElement();this.scrollElement!==n&&(this.cleanup(),this.scrollElement=n,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(r,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.scrollOffset<r?"forward":"backward":null,this.scrollOffset=r;const i=this.isScrolling;this.isScrolling=s,this.notify(i!==s,s)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=kn(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(n,r,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i}),{key:!1}),this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(s.has(l.lane))continue;const c=i.get(l.lane);if(c==null||l.end>c.end?i.set(l.lane,l):l.end<c.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurements=kn(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i},o)=>{const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let u=l;u<n;u++){const d=i(u),h=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),v=h?h.end+this.options.gap:r+s,p=o.get(d),g=typeof p=="number"?p:this.options.estimateSize(u),f=v+g,b=h?h.lane:u%this.options.lanes;c[u]={index:u,start:v,size:g,end:f,key:d,lane:b}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=kn(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(n,r,s)=>this.range=n.length>0&&r>0?Sh({measurements:n,outerSize:r,scrollOffset:s}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=kn(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,s,i)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:s,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.measurementsCache[this.indexFromElement(n)];if(!s||!n.isConnected){this.measureElementCache.forEach((l,c)=>{l===n&&(this.observer.unobserve(n),this.measureElementCache.delete(c))});return}const i=this.measureElementCache.get(s.key);i!==n&&(i&&this.observer.unobserve(i),this.observer.observe(n),this.measureElementCache.set(s.key,n));const o=this.options.measureElement(n,r,this);this.resizeItem(s,o)},this.resizeItem=(n,r)=>{const s=this.itemSizeCache.get(n.key)??n.size,i=r-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,i,this):n.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,r)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=kn(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,o=n.length;i<o;i++){const l=n[i],c=r[l];s.push(c)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();return fs(r[Zo(0,r.length-1,s=>fs(r[s]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const s=this.getSize();r==="auto"&&(n<=this.scrollOffset?r="start":n>=this.scrollOffset+s?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-s:r==="center"&&(n=n-s/2);const i=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-this.getSize();return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=fs(this.getMeasurements()[n]);if(r==="auto")if(s.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)r="end";else if(s.start<=this.scrollOffset+this.options.scrollPaddingStart)r="start";else return[this.scrollOffset,r];const i=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,r),r]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[i,o]=this.getOffsetForIndex(n,r);this._scrollToOffset(i,{adjustments:void 0,behavior:s}),s!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(n))){const[c]=this.getOffsetForIndex(n,o);hh(c,this.scrollOffset)||this.scrollToIndex(n,{align:o,behavior:s})}else this.scrollToIndex(n,{align:o,behavior:s})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;return r.length===0?s=this.options.paddingStart:s=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(i=>i.end)),s-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{var n,r;this.itemSizeCache=new Map,(r=(n=this.options).onChange)==null||r.call(n,this,!1)},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(n=>{this.itemSizeCache.set(n.key,n.size)}),this.notify(!1,!1)}}const Zo=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function Sh({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,i=Zo(0,r,l=>e[l].start,n);let o=i;for(;o<r&&e[o].end<n+t;)o++;return{startIndex:i,endIndex:o}}const Eh=typeof document<"u"?S.useLayoutEffect:S.useEffect;function jh(e){const t=S.useReducer(()=>({}),{})[1],n={...e,onChange:(s,i)=>{var o;i?Xs.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,i)}},[r]=S.useState(()=>new wh(n));return r.setOptions(n),S.useEffect(()=>r._didMount(),[]),Eh(()=>r._willUpdate()),r}function Ch(e){return jh({observeElementRect:gh,observeElementOffset:yh,scrollToFn:bh,...e})}var Th=Object.defineProperty,Mh=(e,t)=>{for(var n in t)Th(e,n,{get:t[n],enumerable:!0})},ot={};Mh(ot,{assign:()=>Ih,colors:()=>$t,createStringInterpolator:()=>Mi,skipAnimation:()=>il,to:()=>sl,willAdvance:()=>ki});var wi=sr(),H=e=>rr(e,wi),Si=sr();H.write=e=>rr(e,Si);var es=sr();H.onStart=e=>rr(e,es);var Ei=sr();H.onFrame=e=>rr(e,Ei);var ji=sr();H.onFinish=e=>rr(e,ji);var yn=[];H.setTimeout=(e,t)=>{const n=H.now()+t,r=()=>{const i=yn.findIndex(o=>o.cancel==r);~i&&yn.splice(i,1),Dt-=~i?1:0},s={time:n,handler:e,cancel:r};return yn.splice(Jo(n),0,s),Dt+=1,el(),s};var Jo=e=>~(~yn.findIndex(t=>t.time>e)||~yn.length);H.cancel=e=>{es.delete(e),Ei.delete(e),ji.delete(e),wi.delete(e),Si.delete(e)};H.sync=e=>{Rs=!0,H.batchedUpdates(e),Rs=!1};H.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,H.onStart(n)}return r.handler=e,r.cancel=()=>{es.delete(n),t=null},r};var Ci=typeof window<"u"?window.requestAnimationFrame:()=>{};H.use=e=>Ci=e;H.now=typeof performance<"u"?()=>performance.now():Date.now;H.batchedUpdates=e=>e();H.catch=console.error;H.frameLoop="always";H.advance=()=>{H.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):nl()};var Nt=-1,Dt=0,Rs=!1;function rr(e,t){Rs?(t.delete(e),e(0)):(t.add(e),el())}function el(){Nt<0&&(Nt=0,H.frameLoop!=="demand"&&Ci(tl))}function kh(){Nt=-1}function tl(){~Nt&&(Ci(tl),H.batchedUpdates(nl))}function nl(){const e=Nt;Nt=H.now();const t=Jo(Nt);if(t&&(rl(yn.splice(0,t),n=>n.handler()),Dt-=t),!Dt){kh();return}es.flush(),wi.flush(e?Math.min(64,Nt-e):16.667),Ei.flush(),Si.flush(),ji.flush()}function sr(){let e=new Set,t=e;return{add(n){Dt+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Dt-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Dt-=t.size,rl(t,r=>r(n)&&e.add(r)),Dt+=e.size,t=e)}}}function rl(e,t){e.forEach(n=>{try{t(n)}catch(r){H.catch(r)}})}function Fs(){}var _h=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),_={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ct(e,t){if(_.arr(e)){if(!_.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var te=(e,t)=>e.forEach(t);function mt(e,t,n){if(_.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Le=e=>_.und(e)?[]:_.arr(e)?e:[e];function Nn(e,t){if(e.size){const n=Array.from(e);e.clear(),te(n,t)}}var Pn=(e,...t)=>Nn(e,n=>n(...t)),Ti=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Mi,sl,$t=null,il=!1,ki=Fs,Ih=e=>{e.to&&(sl=e.to),e.now&&(H.now=e.now),e.colors!==void 0&&($t=e.colors),e.skipAnimation!=null&&(il=e.skipAnimation),e.createStringInterpolator&&(Mi=e.createStringInterpolator),e.requestAnimationFrame&&H.use(e.requestAnimationFrame),e.batchedUpdates&&(H.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ki=e.willAdvance),e.frameLoop&&(H.frameLoop=e.frameLoop)},Dn=new Set,Xe=[],ms=[],$r=0,ts={get idle(){return!Dn.size&&!Xe.length},start(e){$r>e.priority?(Dn.add(e),H.onStart(Oh)):(al(e),H(Ns))},advance:Ns,sort(e){if($r)H.onFrame(()=>ts.sort(e));else{const t=Xe.indexOf(e);~t&&(Xe.splice(t,1),ol(e))}},clear(){Xe=[],Dn.clear()}};function Oh(){Dn.forEach(al),Dn.clear(),H(Ns)}function al(e){Xe.includes(e)||ol(e)}function ol(e){Xe.splice(Ah(Xe,t=>t.priority>e.priority),0,e)}function Ns(e){const t=ms;for(let n=0;n<Xe.length;n++){const r=Xe[n];$r=r.priority,r.idle||(ki(r),r.advance(e),r.idle||t.push(r))}return $r=0,ms=Xe,ms.length=0,Xe=t,Xe.length>0}function Ah(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Ph=(e,t,n)=>Math.min(Math.max(n,e),t),Rh={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},it="[-+]?\\d*\\.?\\d+",Vr=it+"%";function ns(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Fh=new RegExp("rgb"+ns(it,it,it)),Nh=new RegExp("rgba"+ns(it,it,it,it)),Dh=new RegExp("hsl"+ns(it,Vr,Vr)),Lh=new RegExp("hsla"+ns(it,Vr,Vr,it)),$h=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Vh=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,zh=/^#([0-9a-fA-F]{6})$/,Uh=/^#([0-9a-fA-F]{8})$/;function Bh(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=zh.exec(e))?parseInt(t[1]+"ff",16)>>>0:$t&&$t[e]!==void 0?$t[e]:(t=Fh.exec(e))?(mn(t[1])<<24|mn(t[2])<<16|mn(t[3])<<8|255)>>>0:(t=Nh.exec(e))?(mn(t[1])<<24|mn(t[2])<<16|mn(t[3])<<8|va(t[4]))>>>0:(t=$h.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Uh.exec(e))?parseInt(t[1],16)>>>0:(t=Vh.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Dh.exec(e))?(pa(ga(t[1]),vr(t[2]),vr(t[3]))|255)>>>0:(t=Lh.exec(e))?(pa(ga(t[1]),vr(t[2]),vr(t[3]))|va(t[4]))>>>0:null}function ps(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pa(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,i=ps(s,r,e+1/3),o=ps(s,r,e),l=ps(s,r,e-1/3);return Math.round(i*255)<<24|Math.round(o*255)<<16|Math.round(l*255)<<8}function mn(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function ga(e){return(parseFloat(e)%360+360)%360/360}function va(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function vr(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function ya(e){let t=Bh(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,i=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${i})`}var Un=(e,t,n)=>{if(_.fun(e))return e;if(_.arr(e))return Un({range:e,output:t,extrapolate:n});if(_.str(e.output[0]))return Mi(e);const r=e,s=r.output,i=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(u=>u);return u=>{const d=qh(u,i);return Hh(u,i[d],i[d+1],s[d],s[d+1],c,o,l,r.map)}};function Hh(e,t,n,r,s,i,o,l,c){let u=c?c(e):e;if(u<t){if(o==="identity")return u;o==="clamp"&&(u=t)}if(u>n){if(l==="identity")return u;l==="clamp"&&(u=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=i(u),r===-1/0?u=-u:s===1/0?u=u+r:u=u*(s-r)+r,u)}function qh(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Wh=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,s=t==="end"?Math.floor(r):Math.ceil(r);return Ph(0,1,s/e)},zr=1.70158,yr=zr*1.525,xa=zr+1,ba=2*Math.PI/3,wa=2*Math.PI/4.5,xr=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Yh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>xa*e*e*e-zr*e*e,easeOutBack:e=>1+xa*Math.pow(e-1,3)+zr*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((yr+1)*2*e-yr)/2:(Math.pow(2*e-2,2)*((yr+1)*(e*2-2)+yr)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*ba),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*ba)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*wa))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*wa)/2+1,easeInBounce:e=>1-xr(1-e),easeOutBounce:xr,easeInOutBounce:e=>e<.5?(1-xr(1-2*e))/2:(1+xr(2*e-1))/2,steps:Wh},Bn=Symbol.for("FluidValue.get"),wn=Symbol.for("FluidValue.observers"),We=e=>!!(e&&e[Bn]),Re=e=>e&&e[Bn]?e[Bn]():e,Sa=e=>e[wn]||null;function Xh(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Hn(e,t){const n=e[wn];n&&n.forEach(r=>{Xh(r,t)})}var ll=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Gh(this,e)}},Gh=(e,t)=>cl(e,Bn,t);function En(e,t){if(e[Bn]){let n=e[wn];n||cl(e,wn,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function qn(e,t){const n=e[wn];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[wn]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var cl=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Tr=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Qh=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ea=new RegExp(`(${Tr.source})(%|[a-z]+)`,"i"),Kh=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,rs=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,ul=e=>{const[t,n]=Zh(e);if(!t||Ti())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&rs.test(n))return ul(n);if(n)return n}return e},Zh=e=>{const t=rs.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},gs,Jh=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,dl=e=>{gs||(gs=$t?new RegExp(`(${Object.keys($t).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>Re(i).replace(rs,ul).replace(Qh,ya).replace(gs,ya)),n=t.map(i=>i.match(Tr).map(Number)),s=n[0].map((i,o)=>n.map(l=>{if(!(o in l))throw Error('The arity of each "output" value must be equal');return l[o]})).map(i=>Un({...e,output:i}));return i=>{var c;const o=!Ea.test(t[0])&&((c=t.find(u=>Ea.test(u)))==null?void 0:c.replace(Tr,""));let l=0;return t[0].replace(Tr,()=>`${s[l++](i)}${o||""}`).replace(Kh,Jh)}},_i="react-spring: ",hl=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${_i}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},ef=hl(console.warn);function tf(){ef(`${_i}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var nf=hl(console.warn);function rf(){nf(`${_i}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ss(e){return _.str(e)&&(e[0]=="#"||/\d/.test(e)||!Ti()&&rs.test(e)||e in($t||{}))}var Ii=Ti()?S.useEffect:S.useLayoutEffect,sf=()=>{const e=S.useRef(!1);return Ii(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function fl(){const e=S.useState()[1],t=sf();return()=>{t.current&&e(Math.random())}}function af(e,t){const[n]=S.useState(()=>({inputs:t,result:e()})),r=S.useRef(),s=r.current;let i=s;return i?t&&i.inputs&&of(t,i.inputs)||(i={inputs:t,result:e()}):i=n,S.useEffect(()=>{r.current=i,s==n&&(n.inputs=n.result=void 0)},[i]),i.result}function of(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var ml=e=>S.useEffect(e,lf),lf=[];function ja(e){const t=S.useRef();return S.useEffect(()=>{t.current=e}),t.current}var Wn=Symbol.for("Animated:node"),cf=e=>!!e&&e[Wn]===e,ft=e=>e&&e[Wn],Oi=(e,t)=>_h(e,Wn,t),is=e=>e&&e[Wn]&&e[Wn].getPayload(),pl=class{constructor(){Oi(this,this)}getPayload(){return this.payload||[]}},ir=class extends pl{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,_.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new ir(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return _.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,_.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Yn=class extends ir{constructor(e){super(0),this._string=null,this._toString=Un({output:[e,e]})}static create(e){return new Yn(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(_.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Un({output:[this.getValue(),e]})),this._value=0,super.reset()}},Ur={dependencies:null},as=class extends pl{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return mt(this.source,(n,r)=>{cf(n)?t[r]=n.getValue(e):We(n)?t[r]=Re(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&te(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return mt(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Ur.dependencies&&We(e)&&Ur.dependencies.add(e);const t=is(e);t&&te(t,n=>this.add(n))}},gl=class extends as{constructor(e){super(e)}static create(e){return new gl(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(uf)),!0)}};function uf(e){return(ss(e)?Yn:ir).create(e)}function Ds(e){const t=ft(e);return t?t.constructor:_.arr(e)?gl:ss(e)?Yn:ir}var Ca=(e,t)=>{const n=!_.fun(e)||e.prototype&&e.prototype.isReactComponent;return S.forwardRef((r,s)=>{const i=S.useRef(null),o=n&&S.useCallback(g=>{i.current=ff(s,g)},[s]),[l,c]=hf(r,t),u=fl(),d=()=>{const g=i.current;if(n&&!g)return;(g?t.applyAnimatedValues(g,l.getValue(!0)):!1)===!1&&u()},h=new df(d,c),v=S.useRef();Ii(()=>(v.current=h,te(c,g=>En(g,h)),()=>{v.current&&(te(v.current.deps,g=>qn(g,v.current)),H.cancel(v.current.update))})),S.useEffect(d,[]),ml(()=>()=>{const g=v.current;te(g.deps,f=>qn(f,g))});const p=t.getComponentProps(l.getValue());return S.createElement(e,{...p,ref:o})})},df=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&H.write(this.update)}};function hf(e,t){const n=new Set;return Ur.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new as(e),Ur.dependencies=null,[e,n]}function ff(e,t){return e&&(_.fun(e)?e(t):e.current=t),t}var Ta=Symbol.for("AnimatedComponent"),mf=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new as(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=o=>{const l=Ma(o)||"Anonymous";return _.str(o)?o=i[o]||(i[o]=Ca(o,s)):o=o[Ta]||(o[Ta]=Ca(o,s)),o.displayName=`Animated(${l})`,o};return mt(e,(o,l)=>{_.arr(e)&&(l=Ma(o)),i[l]=i(o)}),{animated:i}},Ma=e=>_.str(e)?e:e&&_.str(e.displayName)?e.displayName:_.fun(e)&&e.name||null;function tn(e,...t){return _.fun(e)?e(...t):e}var Ln=(e,t)=>e===!0||!!(t&&e&&(_.fun(e)?e(t):Le(e).includes(t))),vl=(e,t)=>_.obj(e)?t&&e[t]:e,yl=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,pf=e=>e,Ai=(e,t=pf)=>{let n=gf;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const i=t(e[s],s);_.und(i)||(r[s]=i)}return r},gf=["config","onProps","onStart","onChange","onPause","onResume","onRest"],vf={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function yf(e){const t={};let n=0;if(mt(e,(r,s)=>{vf[s]||(t[s]=r,n++)}),n)return t}function xl(e){const t=yf(e);if(t){const n={to:t};return mt(e,(r,s)=>s in t||(n[s]=r)),n}return{...e}}function Xn(e){return e=Re(e),_.arr(e)?e.map(Xn):ss(e)?ot.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function xf(e){for(const t in e)return!0;return!1}function Ls(e){return _.fun(e)||_.arr(e)&&_.obj(e[0])}function bf(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function wf(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var Sf={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},$s={...Sf.default,mass:1,damping:1,easing:Yh.linear,clamp:!1},Ef=class{constructor(){this.velocity=0,Object.assign(this,$s)}};function jf(e,t,n){n&&(n={...n},ka(n,t),t={...n,...t}),ka(e,t),Object.assign(e,t);for(const o in $s)e[o]==null&&(e[o]=$s[o]);let{frequency:r,damping:s}=e;const{mass:i}=e;return _.und(r)||(r<.01&&(r=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/r,2)*i,e.friction=4*Math.PI*s*i/r),e}function ka(e,t){if(!_.und(t.decay))e.duration=void 0;else{const n=!_.und(t.tension)||!_.und(t.friction);(n||!_.und(t.frequency)||!_.und(t.damping)||!_.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var _a=[],Cf=class{constructor(){this.changed=!1,this.values=_a,this.toValues=null,this.fromValues=_a,this.config=new Ef,this.immediate=!1}};function bl(e,{key:t,props:n,defaultProps:r,state:s,actions:i}){return new Promise((o,l)=>{let c,u,d=Ln(n.cancel??(r==null?void 0:r.cancel),t);if(d)p();else{_.und(n.pause)||(s.paused=Ln(n.pause,t));let g=r==null?void 0:r.pause;g!==!0&&(g=s.paused||Ln(g,t)),c=tn(n.delay||0,t),g?(s.resumeQueue.add(v),i.pause()):(i.resume(),v())}function h(){s.resumeQueue.add(v),s.timeouts.delete(u),u.cancel(),c=u.time-H.now()}function v(){c>0&&!ot.skipAnimation?(s.delayed=!0,u=H.setTimeout(p,c),s.pauseQueue.add(h),s.timeouts.add(u)):p()}function p(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(h),s.timeouts.delete(u),e<=(s.cancelId||0)&&(d=!0);try{i.start({...n,callId:e,cancel:d},o)}catch(g){l(g)}}})}var Pi=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?xn(e.get()):t.every(n=>n.noop)?wl(e.get()):rt(e.get(),t.every(n=>n.finished)),wl=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),rt=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),xn=e=>({value:e,cancelled:!0,finished:!1});function Sl(e,t,n,r){const{callId:s,parentId:i,onRest:o}=t,{asyncTo:l,promise:c}=n;return!i&&e===l&&!t.reset?c:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const u=Ai(t,(b,j)=>j==="onRest"?void 0:b);let d,h;const v=new Promise((b,j)=>(d=b,h=j)),p=b=>{const j=s<=(n.cancelId||0)&&xn(r)||s!==n.asyncId&&rt(r,!1);if(j)throw b.result=j,h(b),b},g=(b,j)=>{const C=new Ia,k=new Oa;return(async()=>{if(ot.skipAnimation)throw Gn(n),k.result=rt(r,!1),h(k),k;p(C);const O=_.obj(b)?{...b}:{...j,to:b};O.parentId=s,mt(u,(x,w)=>{_.und(O[w])&&(O[w]=x)});const A=await r.start(O);return p(C),n.paused&&await new Promise(x=>{n.resumeQueue.add(x)}),A})()};let f;if(ot.skipAnimation)return Gn(n),rt(r,!1);try{let b;_.arr(e)?b=(async j=>{for(const C of j)await g(C)})(e):b=Promise.resolve(e(g,r.stop.bind(r))),await Promise.all([b.then(d),v]),f=rt(r.get(),!0,!1)}catch(b){if(b instanceof Ia)f=b.result;else if(b instanceof Oa)f=b.result;else throw b}finally{s==n.asyncId&&(n.asyncId=i,n.asyncTo=i?l:void 0,n.promise=i?c:void 0)}return _.fun(o)&&H.batchedUpdates(()=>{o(f,r,r.item)}),f})()}function Gn(e,t){Nn(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Ia=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Oa=class extends Error{constructor(){super("SkipAnimationSignal")}},Vs=e=>e instanceof Ri,Tf=1,Ri=class extends ll{constructor(){super(...arguments),this.id=Tf++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ft(this);return e&&e.getValue()}to(...e){return ot.to(this,e)}interpolate(...e){return tf(),ot.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Hn(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||ts.sort(this),Hn(this,{type:"priority",parent:this,priority:e})}},nn=Symbol.for("SpringPhase"),El=1,zs=2,Us=4,vs=e=>(e[nn]&El)>0,Pt=e=>(e[nn]&zs)>0,_n=e=>(e[nn]&Us)>0,Aa=(e,t)=>t?e[nn]|=zs|El:e[nn]&=~zs,Pa=(e,t)=>t?e[nn]|=Us:e[nn]&=~Us,Mf=class extends Ri{constructor(e,t){if(super(),this.animation=new Cf,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!_.und(e)||!_.und(t)){const n=_.obj(e)?{...e}:{...t,from:e};_.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Pt(this)||this._state.asyncTo)||_n(this)}get goal(){return Re(this.animation.to)}get velocity(){const e=ft(this);return e instanceof ir?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return vs(this)}get isAnimating(){return Pt(this)}get isPaused(){return _n(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:s}=r;const{config:i}=r,o=is(r.to);!o&&We(r.to)&&(s=Le(Re(r.to))),r.values.forEach((u,d)=>{if(u.done)return;const h=u.constructor==Yn?1:o?o[d].lastPosition:s[d];let v=r.immediate,p=h;if(!v){if(p=u.lastPosition,i.tension<=0){u.done=!0;return}let g=u.elapsedTime+=e;const f=r.fromValues[d],b=u.v0!=null?u.v0:u.v0=_.arr(i.velocity)?i.velocity[d]:i.velocity;let j;const C=i.precision||(f==h?.005:Math.min(1,Math.abs(h-f)*.001));if(_.und(i.duration))if(i.decay){const k=i.decay===!0?.998:i.decay,O=Math.exp(-(1-k)*g);p=f+b/(1-k)*(1-O),v=Math.abs(u.lastPosition-p)<=C,j=b*O}else{j=u.lastVelocity==null?b:u.lastVelocity;const k=i.restVelocity||C/10,O=i.clamp?0:i.bounce,A=!_.und(O),x=f==h?u.v0>0:f<h;let w,E=!1;const T=1,I=Math.ceil(e/T);for(let P=0;P<I&&(w=Math.abs(j)>k,!(!w&&(v=Math.abs(h-p)<=C,v)));++P){A&&(E=p==h||p>h==x,E&&(j=-j*O,p=h));const q=-i.tension*1e-6*(p-h),ne=-i.friction*.001*j,ce=(q+ne)/i.mass;j=j+ce*T,p=p+j*T}}else{let k=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,g=u.elapsedTime+=e)),k=(i.progress||0)+g/this._memoizedDuration,k=k>1?1:k<0?0:k,u.durationProgress=k),p=f+i.easing(k)*(h-f),j=(p-u.lastPosition)/e,v=k==1}u.lastVelocity=j,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),v=!0)}o&&!o[d].done&&(v=!1),v?u.done=!0:t=!1,u.setValue(p,i.round)&&(n=!0)});const l=ft(this),c=l.getValue();if(t){const u=Re(r.to);(c!==u||n)&&!i.decay?(l.setValue(u),this._onChange(u)):n&&i.decay&&this._onChange(c),this._stop()}else n&&this._onChange(c)}set(e){return H.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Pt(this)){const{to:e,config:t}=this.animation;H.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return _.und(e)?(n=this.queue||[],this.queue=[]):n=[_.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Pi(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Gn(this._state,e&&this._lastCallId),H.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=_.obj(n)?n[t]:n,(n==null||Ls(n))&&(n=void 0),r=_.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:n,from:r};return vs(this)||(e.reverse&&([n,r]=[r,n]),r=Re(r),_.und(r)?ft(this)||this._set(n):this._set(r)),s}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Ai(e,(o,l)=>/^on/.test(l)?vl(o,n):o)),Fa(this,e,"onProps"),On(this,"onProps",e,this);const s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return bl(++this._lastCallId,{key:n,props:e,defaultProps:r,state:i,actions:{pause:()=>{_n(this)||(Pa(this,!0),Pn(i.pauseQueue),On(this,"onPause",rt(this,In(this,this.animation.to)),this))},resume:()=>{_n(this)&&(Pa(this,!1),Pt(this)&&this._resume(),Pn(i.resumeQueue),On(this,"onResume",rt(this,In(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const l=jl(e);if(l)return this._update(l,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(xn(this));const r=!_.und(e.to),s=!_.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(xn(this));const{key:i,defaultProps:o,animation:l}=this,{to:c,from:u}=l;let{to:d=c,from:h=u}=e;s&&!r&&(!t.default||_.und(d))&&(d=h),t.reverse&&([d,h]=[h,d]);const v=!Ct(h,u);v&&(l.from=h),h=Re(h);const p=!Ct(d,c);p&&this._focus(d);const g=Ls(t.to),{config:f}=l,{decay:b,velocity:j}=f;(r||s)&&(f.velocity=0),t.config&&!g&&jf(f,tn(t.config,i),t.config!==o.config?tn(o.config,i):void 0);let C=ft(this);if(!C||_.und(d))return n(rt(this,!0));const k=_.und(t.reset)?s&&!t.default:!_.und(h)&&Ln(t.reset,i),O=k?h:this.get(),A=Xn(d),x=_.num(A)||_.arr(A)||ss(A),w=!g&&(!x||Ln(o.immediate||t.immediate,i));if(p){const P=Ds(d);if(P!==C.constructor)if(w)C=this._set(A);else throw Error(`Cannot animate between ${C.constructor.name} and ${P.name}, as the "to" prop suggests`)}const E=C.constructor;let T=We(d),I=!1;if(!T){const P=k||!vs(this)&&v;(p||P)&&(I=Ct(Xn(O),A),T=!I),(!Ct(l.immediate,w)&&!w||!Ct(f.decay,b)||!Ct(f.velocity,j))&&(T=!0)}if(I&&Pt(this)&&(l.changed&&!k?T=!0:T||this._stop(c)),!g&&((T||We(c))&&(l.values=C.getPayload(),l.toValues=We(d)?null:E==Yn?[1]:Le(A)),l.immediate!=w&&(l.immediate=w,!w&&!k&&this._set(c)),T)){const{onRest:P}=l;te(_f,ne=>Fa(this,t,ne));const q=rt(this,In(this,c));Pn(this._pendingCalls,q),this._pendingCalls.add(n),l.changed&&H.batchedUpdates(()=>{var ne;l.changed=!k,P==null||P(q,this),k?tn(o.onRest,q):(ne=l.onStart)==null||ne.call(l,q,this)})}k&&this._set(O),g?n(Sl(t.to,t,this._state,this)):T?this._start():Pt(this)&&!p?this._pendingCalls.add(n):n(wl(O))}_focus(e){const t=this.animation;e!==t.to&&(Sa(this)&&this._detach(),t.to=e,Sa(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;We(t)&&(En(t,this),Vs(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;We(e)&&qn(e,this)}_set(e,t=!0){const n=Re(e);if(!_.und(n)){const r=ft(this);if(!r||!Ct(n,r.getValue())){const s=Ds(n);!r||r.constructor!=s?Oi(this,s.create(n)):r.setValue(n),r&&H.batchedUpdates(()=>{this._onChange(n,t)})}}return ft(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,On(this,"onStart",rt(this,In(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),tn(this.animation.onChange,e,this)),tn(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ft(this).reset(Re(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Pt(this)||(Aa(this,!0),_n(this)||this._resume())}_resume(){ot.skipAnimation?this.finish():ts.start(this)}_stop(e,t){if(Pt(this)){Aa(this,!1);const n=this.animation;te(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Hn(this,{type:"idle",parent:this});const r=t?xn(this.get()):rt(this.get(),In(this,e??n.to));Pn(this._pendingCalls,r),n.changed&&(n.changed=!1,On(this,"onRest",r,this))}}};function In(e,t){const n=Xn(t),r=Xn(e.get());return Ct(r,n)}function jl(e,t=e.loop,n=e.to){const r=tn(t);if(r){const s=r!==!0&&xl(r),i=(s||e).reverse,o=!s||s.reset;return Qn({...e,loop:t,default:!1,pause:void 0,to:!i||Ls(n)?n:void 0,from:o?e.from:void 0,reset:o,...s})}}function Qn(e){const{to:t,from:n}=e=xl(e),r=new Set;return _.obj(t)&&Ra(t,r),_.obj(n)&&Ra(n,r),e.keys=r.size?Array.from(r):null,e}function kf(e){const t=Qn(e);return _.und(t.default)&&(t.default=Ai(t)),t}function Ra(e,t){mt(e,(n,r)=>n!=null&&t.add(r))}var _f=["onStart","onRest","onChange","onPause","onResume"];function Fa(e,t,n){e.animation[n]=t[n]!==yl(t,n)?vl(t[n],e.key):void 0}function On(e,t,...n){var r,s,i,o;(s=(r=e.animation)[t])==null||s.call(r,...n),(o=(i=e.defaultProps)[t])==null||o.call(i,...n)}var If=["onStart","onChange","onRest"],Of=1,Af=class{constructor(e,t){this.id=Of++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];_.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Qn(e)),this}start(e){let{queue:t}=this;return e?t=Le(e).map(Qn):this.queue=[],this._flush?this._flush(this,t):(_l(this,t),Bs(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;te(Le(t),r=>n[r].stop(!!e))}else Gn(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(_.und(e))this.start({pause:!0});else{const t=this.springs;te(Le(e),n=>t[n].pause())}return this}resume(e){if(_.und(e))this.start({pause:!1});else{const t=this.springs;te(Le(e),n=>t[n].resume())}return this}each(e){mt(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,Nn(e,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));const i=!r&&this._started,o=s||i&&n.size?this.get():null;s&&t.size&&Nn(t,([l,c])=>{c.value=o,l(c,this,this._item)}),i&&(this._started=!1,Nn(n,([l,c])=>{c.value=o,l(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;H.onFrame(this._onFrame)}};function Bs(e,t){return Promise.all(t.map(n=>Cl(e,n))).then(n=>Pi(e,n))}async function Cl(e,t,n){const{keys:r,to:s,from:i,loop:o,onRest:l,onResolve:c}=t,u=_.obj(t.default)&&t.default;o&&(t.loop=!1),s===!1&&(t.to=null),i===!1&&(t.from=null);const d=_.arr(s)||_.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):te(If,f=>{const b=t[f];if(_.fun(b)){const j=e._events[f];t[f]=({finished:C,cancelled:k})=>{const O=j.get(b);O?(C||(O.finished=!1),k&&(O.cancelled=!0)):j.set(b,{value:null,finished:C||!1,cancelled:k||!1})},u&&(u[f]=t[f])}});const h=e._state;t.pause===!h.paused?(h.paused=t.pause,Pn(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const v=(r||Object.keys(e.springs)).map(f=>e.springs[f].start(t)),p=t.cancel===!0||yl(t,"cancel")===!0;(d||p&&h.asyncId)&&v.push(bl(++e._lastAsyncId,{props:t,state:h,actions:{pause:Fs,resume:Fs,start(f,b){p?(Gn(h,e._lastAsyncId),b(xn(e))):(f.onRest=l,b(Sl(d,f,h,e)))}}})),h.paused&&await new Promise(f=>{h.resumeQueue.add(f)});const g=Pi(e,await Promise.all(v));if(o&&g.finished&&!(n&&g.noop)){const f=jl(t,o,s);if(f)return _l(e,[f]),Cl(e,f,!0)}return c&&H.batchedUpdates(()=>c(g,e,e.item)),g}function Na(e,t){const n={...e.springs};return t&&te(Le(t),r=>{_.und(r.keys)&&(r=Qn(r)),_.obj(r.to)||(r={...r,to:void 0}),kl(n,r,s=>Ml(s))}),Tl(e,n),n}function Tl(e,t){mt(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,En(n,e))})}function Ml(e,t){const n=new Mf;return n.key=e,t&&En(n,t),n}function kl(e,t,n){t.keys&&te(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function _l(e,t){te(t,n=>{kl(e.springs,n,r=>Ml(r,e))})}var os=({children:e,...t})=>{const n=S.useContext(Br),r=t.pause||!!n.pause,s=t.immediate||!!n.immediate;t=af(()=>({pause:r,immediate:s}),[r,s]);const{Provider:i}=Br;return S.createElement(i,{value:t},e)},Br=Pf(os,{});os.Provider=Br.Provider;os.Consumer=Br.Consumer;function Pf(e,t){return Object.assign(e,S.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Rf=()=>{const e=[],t=function(r){rf();const s=[];return te(e,(i,o)=>{if(_.und(r))s.push(i.start());else{const l=n(r,i,o);l&&s.push(i.start(l))}}),s};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return te(e,r=>r.pause(...arguments)),this},t.resume=function(){return te(e,r=>r.resume(...arguments)),this},t.set=function(r){te(e,(s,i)=>{const o=_.fun(r)?r(i,s):r;o&&s.set(o)})},t.start=function(r){const s=[];return te(e,(i,o)=>{if(_.und(r))s.push(i.start());else{const l=this._getProps(r,i,o);l&&s.push(i.start(l))}}),s},t.stop=function(){return te(e,r=>r.stop(...arguments)),this},t.update=function(r){return te(e,(s,i)=>s.update(this._getProps(r,s,i))),this};const n=function(r,s,i){return _.fun(r)?r(i,s):r};return t._getProps=n,t};function Ff(e,t,n){const r=_.fun(t)&&t;r&&!n&&(n=[]);const s=S.useMemo(()=>r||arguments.length==3?Rf():void 0,[]),i=S.useRef(0),o=fl(),l=S.useMemo(()=>({ctrls:[],queue:[],flush(j,C){const k=Na(j,C);return i.current>0&&!l.queue.length&&!Object.keys(k).some(A=>!j.springs[A])?Bs(j,C):new Promise(A=>{Tl(j,k),l.queue.push(()=>{A(Bs(j,C))}),o()})}}),[]),c=S.useRef([...l.ctrls]),u=[],d=ja(e)||0;S.useMemo(()=>{te(c.current.slice(e,d),j=>{bf(j,s),j.stop(!0)}),c.current.length=e,h(d,e)},[e]),S.useMemo(()=>{h(0,Math.min(d,e))},n);function h(j,C){for(let k=j;k<C;k++){const O=c.current[k]||(c.current[k]=new Af(null,l.flush)),A=r?r(k,O):t[k];A&&(u[k]=kf(A))}}const v=c.current.map((j,C)=>Na(j,u[C])),p=S.useContext(os),g=ja(p),f=p!==g&&xf(p);Ii(()=>{i.current++,l.ctrls=c.current;const{queue:j}=l;j.length&&(l.queue=[],te(j,C=>C())),te(c.current,(C,k)=>{s==null||s.add(C),f&&C.start({default:p});const O=u[k];O&&(wf(C,O.ref),C.ref?C.queue.push(O):C.start(O))})}),ml(()=>()=>{te(l.ctrls,j=>j.stop(!0))});const b=v.map(j=>({...j}));return s?[b,s]:b}function Nf(e,t){const n=_.fun(e),[[r],s]=Ff(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,s]:r}var Df=class extends Ri{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Un(...t);const n=this._get(),r=Ds(n);Oi(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Ct(t,n)||(ft(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Da(this._active)&&ys(this)}_get(){const e=_.arr(this.source)?this.source.map(Re):Le(Re(this.source));return this.calc(...e)}_start(){this.idle&&!Da(this._active)&&(this.idle=!1,te(is(this),e=>{e.done=!1}),ot.skipAnimation?(H.batchedUpdates(()=>this.advance()),ys(this)):ts.start(this))}_attach(){let e=1;te(Le(this.source),t=>{We(t)&&En(t,this),Vs(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){te(Le(this.source),e=>{We(e)&&qn(e,this)}),this._active.clear(),ys(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Le(this.source).reduce((t,n)=>Math.max(t,(Vs(n)?n.priority:0)+1),0))}};function Lf(e){return e.idle!==!1}function Da(e){return!e.size||Array.from(e).every(Lf)}function ys(e){e.idle||(e.idle=!0,te(is(e),t=>{t.done=!0}),Hn(e,{type:"idle",parent:e}))}ot.assign({createStringInterpolator:dl,to:(e,t)=>new Df(e,t)});var Il=/^--/;function $f(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Il.test(e)&&!($n.hasOwnProperty(e)&&$n[e])?t+"px":(""+t).trim()}var La={};function Vf(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:s,scrollTop:i,scrollLeft:o,viewBox:l,...c}=t,u=Object.values(c),d=Object.keys(c).map(h=>n||e.hasAttribute(h)?h:La[h]||(La[h]=h.replace(/([A-Z])/g,v=>"-"+v.toLowerCase())));s!==void 0&&(e.textContent=s);for(const h in r)if(r.hasOwnProperty(h)){const v=$f(h,r[h]);Il.test(h)?e.style.setProperty(h,v):e.style[h]=v}d.forEach((h,v)=>{e.setAttribute(h,u[v])}),i!==void 0&&(e.scrollTop=i),o!==void 0&&(e.scrollLeft=o),l!==void 0&&e.setAttribute("viewBox",l)}var $n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zf=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Uf=["Webkit","Ms","Moz","O"];$n=Object.keys($n).reduce((e,t)=>(Uf.forEach(n=>e[zf(n,t)]=e[t]),e),$n);var Bf=/^(matrix|translate|scale|rotate|skew)/,Hf=/^(translate)/,qf=/^(rotate|skew)/,xs=(e,t)=>_.num(e)&&e!==0?e+t:e,Mr=(e,t)=>_.arr(e)?e.every(n=>Mr(n,t)):_.num(e)?e===t:parseFloat(e)===t,Wf=class extends as{constructor({x:e,y:t,z:n,...r}){const s=[],i=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),i.push(o=>[`translate3d(${o.map(l=>xs(l,"px")).join(",")})`,Mr(o,0)])),mt(r,(o,l)=>{if(l==="transform")s.push([o||""]),i.push(c=>[c,c===""]);else if(Bf.test(l)){if(delete r[l],_.und(o))return;const c=Hf.test(l)?"px":qf.test(l)?"deg":"";s.push(Le(o)),i.push(l==="rotate3d"?([u,d,h,v])=>[`rotate3d(${u},${d},${h},${xs(v,c)})`,Mr(v,0)]:u=>[`${l}(${u.map(d=>xs(d,c)).join(",")})`,Mr(u,l.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new Yf(s,i)),super(r)}},Yf=class extends ll{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return te(this.inputs,(n,r)=>{const s=Re(n[0]),[i,o]=this.transforms[r](_.arr(s)?s:n.map(Re));e+=" "+i,t=t&&o}),t?"none":e}observerAdded(e){e==1&&te(this.inputs,t=>te(t,n=>We(n)&&En(n,this)))}observerRemoved(e){e==0&&te(this.inputs,t=>te(t,n=>We(n)&&qn(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Hn(this,e)}},Xf=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];ot.assign({batchedUpdates:Xs.unstable_batchedUpdates,createStringInterpolator:dl,colors:Rh});var Gf=mf(Xf,{applyAnimatedValues:Vf,createAnimatedStyle:e=>new Wf(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Qf=Gf.animated,Hs=new Map,br=new WeakMap,$a=0,Kf=void 0;function Zf(e){return e?(br.has(e)||($a+=1,br.set(e,$a.toString())),br.get(e)):"0"}function Jf(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Zf(e.root):e[t]}`).toString()}function em(e){const t=Jf(e);let n=Hs.get(t);if(!n){const r=new Map;let s;const i=new IntersectionObserver(o=>{o.forEach(l=>{var c;const u=l.isIntersecting&&s.some(d=>l.intersectionRatio>=d);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=u),(c=r.get(l.target))==null||c.forEach(d=>{d(u,l)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:r},Hs.set(t,n)}return n}function tm(e,t,n={},r=Kf){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const c=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:i,elements:o}=em(n),l=o.get(e)||[];return o.has(e)||o.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(o.delete(e),i.unobserve(e)),o.size===0&&(i.disconnect(),Hs.delete(s))}}function ls({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:s,triggerOnce:i,skip:o,initialInView:l,fallbackInView:c,onChange:u}={}){var d;const[h,v]=S.useState(null),p=S.useRef(),[g,f]=S.useState({inView:!!l,entry:void 0});p.current=u,S.useEffect(()=>{if(o||!h)return;let k;return k=tm(h,(O,A)=>{f({inView:O,entry:A}),p.current&&p.current(O,A),A.isIntersecting&&i&&k&&(k(),k=void 0)},{root:s,rootMargin:r,threshold:e,trackVisibility:n,delay:t},c),()=>{k&&k()}},[Array.isArray(e)?e.toString():e,h,s,r,i,o,n,c,t]);const b=(d=g.entry)==null?void 0:d.target,j=S.useRef();!h&&b&&!i&&!o&&j.current!==b&&(j.current=b,f({inView:!!l,entry:void 0}));const C=[v,g.inView,g.entry];return C.ref=C[0],C.inView=C[1],C.entry=C[2],C}const nm="Left",rm="Right",sm="Up",im="Down",vn={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},qs={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Va="mousemove",za="mouseup",am="touchend",om="touchmove",lm="touchstart";function cm(e,t,n,r){return e>t?n>0?rm:nm:r>0?im:sm}function Ua(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),s=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,s]}function um(e,t){const n=d=>{const h="touches"in d;h&&d.touches.length>1||e((v,p)=>{p.trackMouse&&!h&&(document.addEventListener(Va,r),document.addEventListener(za,o));const{clientX:g,clientY:f}=h?d.touches[0]:d,b=Ua([g,f],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},v),qs),{initial:b.slice(),xy:b,start:d.timeStamp||0})})},r=d=>{e((h,v)=>{const p="touches"in d;if(p&&d.touches.length>1)return h;if(d.timeStamp-h.start>v.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;const{clientX:g,clientY:f}=p?d.touches[0]:d,[b,j]=Ua([g,f],v.rotationAngle),C=b-h.xy[0],k=j-h.xy[1],O=Math.abs(C),A=Math.abs(k),x=(d.timeStamp||0)-h.start,w=Math.sqrt(O*O+A*A)/(x||1),E=[C/(x||1),k/(x||1)],T=cm(O,A,C,k),I=typeof v.delta=="number"?v.delta:v.delta[T.toLowerCase()]||vn.delta;if(O<I&&A<I&&!h.swiping)return h;const P={absX:O,absY:A,deltaX:C,deltaY:k,dir:T,event:d,first:h.first,initial:h.initial,velocity:w,vxvy:E};P.first&&v.onSwipeStart&&v.onSwipeStart(P),v.onSwiping&&v.onSwiping(P);let q=!1;return(v.onSwiping||v.onSwiped||v[`onSwiped${T}`])&&(q=!0),q&&v.preventScrollOnSwipe&&v.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:P,swiping:!0})})},s=d=>{e((h,v)=>{let p;if(h.swiping&&h.eventData){if(d.timeStamp-h.start<v.swipeDuration){p=Object.assign(Object.assign({},h.eventData),{event:d}),v.onSwiped&&v.onSwiped(p);const g=v[`onSwiped${p.dir}`];g&&g(p)}}else v.onTap&&v.onTap({event:d});return v.onTouchEndOrOnMouseUp&&v.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},h),qs),{eventData:p})})},i=()=>{document.removeEventListener(Va,r),document.removeEventListener(za,o)},o=d=>{i(),s(d)},l=(d,h)=>{let v=()=>{};if(d&&d.addEventListener){const p=Object.assign(Object.assign({},vn.touchEventOptions),h.touchEventOptions),g=[[lm,n,p],[om,r,Object.assign(Object.assign({},p),h.preventScrollOnSwipe?{passive:!1}:{})],[am,s,p]];g.forEach(([f,b,j])=>d.addEventListener(f,b,j)),v=()=>g.forEach(([f,b])=>d.removeEventListener(f,b))}return v},u={ref:d=>{d!==null&&e((h,v)=>{if(h.el===d)return h;const p={};return h.el&&h.el!==d&&h.cleanUpTouch&&(h.cleanUpTouch(),p.cleanUpTouch=void 0),v.trackTouch&&d&&(p.cleanUpTouch=l(d,v)),Object.assign(Object.assign(Object.assign({},h),{el:d}),p)})}};return t.trackMouse&&(u.onMouseDown=n),[u,l]}function dm(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function hm(e){const{trackMouse:t}=e,n=S.useRef(Object.assign({},qs)),r=S.useRef(Object.assign({},vn)),s=S.useRef(Object.assign({},r.current));s.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},vn),e);let i;for(i in vn)r.current[i]===void 0&&(r.current[i]=vn[i]);const[o,l]=S.useMemo(()=>um(c=>n.current=c(n.current,r.current),{trackMouse:t}),[t]);return n.current=dm(n.current,r.current,s.current,l),o}const fm=({alt:e,borderRadius:t,height:n,src:r,status:s,width:i})=>{const[o,l]=S.useState(!1),{ref:c}=ls({triggerOnce:!0,onChange:(u,d)=>{if(u&&!o){const h=new Image;h.onload=()=>l(!0),h.onerror=()=>{d.target.style.display="none"},h.src=r}}});return a.jsx("div",{className:"image-container",ref:c,children:a.jsx("div",{className:"img-placeholder",style:{width:"100%",height:"100%",backgroundColor:"var(--color-fill-2)",position:"absolute",left:0,top:0},children:o?a.jsx("img",{className:s==="unread"?"":"read",src:r,alt:e,style:{width:i,height:n,objectFit:"cover",borderRadius:t}}):a.jsx("div",{className:"skeleton-container",children:a.jsx(kr,{text:{rows:0},image:{style:{width:i,height:n,margin:"0",borderRadius:t}},animation:!0})})})})},mm=({entry:e,isThumbnail:t})=>{if(!e.imgSrc)return null;const n=t?{width:"80px",height:"80px"}:{width:"100%",height:"160px"};return a.jsx("div",{className:t?"thumbnail":"cover-image",children:a.jsx(fm,{alt:e.id,borderRadius:t?"2px":void 0,src:e.imgSrc,status:e.status,width:n.width,height:n.height})})},pm=({entry:e,showFeedIcon:t,mini:n,children:r})=>{const{showDetailedRelativeTime:s}=F(xe),i=Wr({"article-card-mini-content":n,"article-card-mini-content-padding":n&&t});return a.jsxs("div",{className:i,style:{width:"100%",boxSizing:"border-box",opacity:e.status==="unread"?1:.5},children:[a.jsx("div",{style:{padding:e.imgSrc?n?"0 10px 0 0":"0 0 10px 0":"0"},children:a.jsx(mm,{entry:e,isThumbnail:n})}),a.jsxs("div",{className:n?"article-card-mini-content-text":"",children:[a.jsx($.Text,{className:"article-card-title",children:e.title}),a.jsxs($.Text,{className:"article-card-info",children:[a.jsx("br",{}),t&&a.jsx(bo,{feed:e.feed,className:n?"feed-icon-mini":"feed-icon"}),e.feed.title,a.jsx("br",{}),lo(e.published_at,s)]}),e.starred&&a.jsx(Gs,{className:"icon-starred"})]}),a.jsx("div",{children:r})]})},gm=({entry:e,handleEntryClick:t,mini:n,children:r})=>{const{markReadOnScroll:s,showFeedIcon:i}=F(xe),{activeContent:o}=F(le),l=o&&e.id===o.id,{handleToggleStarred:c,handleToggleStatus:u}=ni(),[d,h]=S.useState(0),v=100,p=.5,g=e.starred,f=e.status==="unread",b=hm({preventScrollOnSwipe:!0,delta:v/2,onSwiping:T=>{const I=Math.min(Math.abs(T.deltaX*p),v)*Math.sign(T.deltaX);h(I)},onSwiped:async T=>{try{T.deltaX>v?(await c(e),Y.success(g?"Unmarked as starred":"Marked as starred")):T.deltaX<-v&&(await u(e),Y.success(f?"Marked as read":"Marked as unread"))}catch{Y.error("Failed to update, please try again")}h(0)}}),[j,C]=S.useState(!1),[k,O]=S.useState(!1),A=()=>u(e),x=20,{ref:w}=ls({skip:k,onChange:async(T,I)=>{if(!(!s||!f)){if(T)C(!0);else if(j){const{top:P}=I.boundingClientRect;P<x&&(await A(),O(!0))}}}}),E=Nf({x:d});return S.createElement("div",{...b,className:"article-card",key:e.id},a.jsxs("div",{ref:w,children:[a.jsx(Qf.div,{className:"swipe-card",style:E,children:a.jsx(Or,{className:Wr("swipe-content","card-custom-style","card-custom-hover-style",{"card-custom-selected-style":l}),"data-entry-id":e.id,hoverable:!0,onClick:()=>t(e),bordered:!1,children:a.jsx(Or.Meta,{description:a.jsx(pm,{entry:e,showFeedIcon:i,mini:n,children:r})})})}),a.jsxs("div",{className:"swipe-actions",children:[a.jsx("div",{className:"swipe-action left",children:g?a.jsx(Gs,{style:{color:"#ffcd00",fontSize:"24px"}}):a.jsx(Ys,{style:{color:"#ffffff",fontSize:"24px"}})}),a.jsx("div",{className:"swipe-action right",children:f?a.jsx(Za,{style:{color:"#ffffff",fontSize:"24px"}}):a.jsx(Ja,{style:{color:"#ffffff",fontSize:"24px"}})})]})]}))},vm=()=>{const{layout:e}=F(xe),{loading:t}=F(le),n=e==="large"?2:4,r=s=>a.jsx(Or,{className:"card-style",cover:e==="large"?a.jsx("div",{className:"card-cover-style"}):null,children:a.jsx(Or.Meta,{description:a.jsx(kr,{loading:t,animation:!0,text:{rows:3,width:150}})})},s);return t?Array.from({length:n},(s,i)=>r(i)):null},ym=()=>{const{orderDirection:e}=F(xe),{filterString:t,filterType:n}=F(le),{isBelowMedium:r}=Zn(),s=()=>{nt({orderDirection:e==="desc"?"asc":"desc"})};return S.useEffect(()=>{Fr("title"),Rr("")},[]),a.jsxs("div",{className:"search-and-sort-bar",children:[a.jsx(De.Search,{allowClear:!0,onChange:Rr,placeholder:"Search...",style:{width:r?"100%":278,marginLeft:8},value:t,addBefore:a.jsxs(pe,{placeholder:"Select type",onChange:Fr,style:{width:100},value:n,children:[a.jsx(pe.Option,{value:"title",children:"Title"}),a.jsx(pe.Option,{value:"content",children:"Content"}),a.jsx(pe.Option,{value:"author",children:"Author"})]})}),a.jsx(Vn,{mini:!0,content:e==="desc"?"Newest first":"Oldest first",children:a.jsx(ge,{shape:"circle",size:"small",style:{margin:"0 8px",flexShrink:0},icon:e==="desc"?a.jsx(mc,{}):a.jsx(pc,{}),onClick:s})})]})},xm=(...e)=>t=>{for(const n of e)typeof n=="function"?n(t):n&&typeof n=="object"&&(n.current=t)},bm=(e,t,n)=>{S.useLayoutEffect(()=>{let r=null;return e>0&&(clearTimeout(r),r=setTimeout(()=>{n(),clearTimeout(r)},t*4)),()=>clearTimeout(r)},[e,t,n])},wm=({duration:e,color:t})=>{const[n,r]=S.useState([]);bm(n.length,e,()=>{r([])});const s=i=>{const o=i.currentTarget.getBoundingClientRect(),l=o.width>o.height?o.width:o.height,c=i.pageX-o.x-l/2,u=i.pageY-o.y-l/2,d={x:c,y:u,size:l,id:`${new Date().getTime()}-${c}-${u}`};r([...n,d])};return a.jsx("div",{className:"ripple-container",onMouseDown:s,children:n.length>0&&n.map(i=>a.jsx("span",{className:"ripple-span",style:{top:i.y,left:i.x,width:i.size,height:i.size,backgroundColor:t,animationDuration:`${e}ms`}},i.id))})},Sm=({getEntries:e})=>{const{filterStatus:t,loading:n}=F(le),r=F(ri),s=F(si),{loadingMore:i,handleLoadMore:o}=ai(),{ref:l}=ls({skip:!(s||r),onChange:async c=>{!c||n||i||await o(e)}});return!n&&(t==="all"?s:r)&&a.jsxs("div",{className:"load-more-container",ref:l,children:[a.jsx(gc,{loading:i,style:{paddingRight:"10px"}}),"Loading more ..."]})},Em=S.forwardRef(({getEntries:e,handleEntryClick:t,cardsRef:n},r)=>{const{layout:s,pageSize:i}=F(xe),o=s==="small",{loading:l}=F(le),c=F(ii),u=c.length-Math.ceil(i*.2)-1,d=F(ri),h=F(si),{loadingMore:v,handleLoadMore:p}=ai(),{ref:g}=ls({skip:!(h||d),onChange:async C=>{!C||l||v||await p(e)}}),f=Ch({count:c.length,getScrollElement:()=>n.current,estimateSize:()=>o?120:280}),b=f.getVirtualItems(),j=S.useCallback(C=>C===u?xm(f.measureElement,g):f.measureElement,[u,f.measureElement,g]);return a.jsxs(a.Fragment,{children:[a.jsx(ym,{}),a.jsxs("div",{className:"entry-list",ref:r,children:[a.jsx(vm,{}),!l&&a.jsx("div",{ref:n,children:a.jsx("div",{style:{height:f.getTotalSize(),width:"100%",position:"relative"},children:b.map(C=>a.jsx("div",{"data-index":C.index,ref:j(C.index),style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${C.start}px)`},children:a.jsx(gm,{entry:c[C.index],handleEntryClick:t,mini:o,children:a.jsx(wm,{color:"var(--color-text-4)",duration:1e3})})},C.key))})}),a.jsx(Sm,{getEntries:e})]})]})}),jm=()=>{tr(e=>e.map(t=>({...t,status:"read"}))),nr(e=>e.map(t=>({...t,status:"read"}))),Nr(0)},Cm=S.forwardRef(({info:e,refreshArticleList:t,markAllAsRead:n},r)=>{const{filterStatus:s,loading:i}=F(le),o=async()=>{try{await n(),await ti(),jm(),Y.success("All articles marked as read")}catch{Y.error("Failed to mark all as read")}},l=c=>{r.current&&r.current.scrollTo(0,0),Pr(c)};return S.useEffect(()=>{Fr("title"),Rr("")},[s]),a.jsxs("div",{className:"entry-panel",children:[!["starred","history"].includes(e.from)&&a.jsx(Ka,{focusLock:!0,title:"Mark All As Read?",onOk:o,children:a.jsx(ge,{icon:a.jsx(Ya,{}),shape:"circle"})}),a.jsx(vc.Group,{disabled:e.from==="history",onChange:l,options:[{label:"ALL",value:"all"},{label:"UNREAD",value:"unread"}],type:"button",value:s}),a.jsx(ge,{icon:a.jsx(Ir,{}),loading:i,shape:"circle",onClick:t})]})}),jn=({info:e,getEntries:t,markAllAsRead:n})=>{const{activeContent:r,isArticleFocused:s,loading:i}=F(le),{isAppDataReady:o}=F(Ve),{orderBy:l,orderDirection:c,showStatus:u}=F(xe),d=F(ii),{handleFetchContent:h,handleToggleStarred:v,handleToggleStatus:p,handleEntryStatusUpdate:g}=ni(),[f,b]=S.useState(!1),j=S.useRef(null),C=S.useRef(null),k=S.useRef(null);S.useEffect(()=>{!f||["starred","history"].includes(e.from)||de()},[l]),S.useEffect(()=>{["starred","history"].includes(e.from)?Pr("all"):Pr(u),gu(e.from),de()},[e,c]);const O=async J=>{if(st(null),J.status!=="unread"){setTimeout(()=>{st({...J,status:"read"})},200);return}try{setTimeout(()=>{st({...J,status:"read"}),g(J,"read")},200),await qr([J.id],"read")}catch{Y.error("Failed to mark entry as read, please try again later"),g(J,"unread")}},{exitDetailView:A,fetchOriginalArticle:x,navigateToNextArticle:w,navigateToPreviousArticle:E,openLinkExternally:T,openPhotoSlider:I,toggleReadStatus:P,toggleStarStatus:q}=Io(O);S.useEffect(()=>{const J={ArrowLeft:()=>E(),ArrowRight:()=>w(),Escape:()=>A(j,k),b:T,d:()=>x(h),m:()=>P(()=>p(r)),s:()=>q(()=>v(r)),v:I},se=Me=>{const y=J[Me.key];y&&(Me.key==="ArrowLeft"?E(Me.ctrlKey):Me.key==="ArrowRight"?w(Me.ctrlKey):y())};return s?document.addEventListener("keydown",se):document.removeEventListener("keydown",se),()=>{document.removeEventListener("keydown",se)}},[r,d,s]);const ne=(J,se,Me,y)=>{tr(J),nr(se),vu(Me.total),Nr(y.total)},ce=(J,se)=>{if(J!=null&&J.entries&&(se==null?void 0:se.total)>=0){const Me=J.entries.map(Ts),y=se.entries.map(Ts);ne(Me,y,J,se)}},re=async()=>{qi(!0);try{const J=await t(),se=e.from==="history"?J:await t(0,"unread");ce(J,se)}catch(J){console.error("Error fetching articles: ",J)}finally{qi(!1)}},de=async()=>{var J;if((J=j.current)==null||J.scrollTo(0,0),xo(0),Dr(0),!o){await ti();return}await re()};return S.useEffect(()=>{r&&st(null)},[]),S.useEffect(()=>{if(!o)try{re(),b(!0),gn(!0)}catch{Y.error("Failed to fetch articles, please try again later")}},[o]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"entry-col",children:[a.jsx(Ui,{in:!i,timeout:200,nodeRef:C,classNames:"fade",children:a.jsx(Em,{cardsRef:C,getEntries:t,handleEntryClick:O,ref:j})}),a.jsx(Cm,{info:e,refreshArticleList:de,markAllAsRead:n,ref:j})]}),a.jsx(Ui,{in:r!==null,timeout:200,nodeRef:k,classNames:"fade",unmountOnExit:!0,children:a.jsx(dh,{handleEntryClick:O,entryListRef:j,ref:k})})]})},Tm=()=>a.jsx(jn,{info:{from:"all",id:""},getEntries:Qc,markAllAsRead:iu}),Mm=()=>{const{id:e}=eo(),{orderBy:t,pageSize:n}=F(xe),r=async(s=0,i=null)=>{const o={baseUrl:`/v1/categories/${e}/entries`,orderField:t,offset:s,limit:n,status:i};return oe.get(Sn(o))};return a.jsx(jn,{info:{from:"category",id:e},getEntries:r,markAllAsRead:()=>Dc(e)})},km=()=>{const e=rn(),t=yc();return console.error(t),a.jsx("div",{id:"error-page",style:{top:"30%",position:"relative"},children:a.jsx(xc,{status:"404",subTitle:t.statusText||t.message,extra:[a.jsx(ge,{type:"primary",onClick:()=>e("/"),children:"Back to Home"},"back")]})})},_m=()=>{const{id:e}=eo(),{orderBy:t,pageSize:n}=F(xe),r=async(s=0,i=null)=>{const o={baseUrl:`/v1/feeds/${e}/entries`,orderField:t,offset:s,limit:n,status:i};return oe.get(Sn(o))};return a.jsx(jn,{info:{from:"feed",id:e},getEntries:r,markAllAsRead:()=>ru(e)})},Im=()=>a.jsx(jn,{info:{from:"history",id:""},getEntries:uo}),Om="/assets/background-BMolBQF-.jpg",Am=e=>{const t=e.getFieldsValue();let n=!0;for(const[r,s]of Object.entries(t))if(r!=="password"){const i=s==null?void 0:s.trim();e.setFieldValue(r,i),i||(n=!1)}else s||(n=!1);return n},wr=(e,t)=>{e.key==="Enter"&&t.submit()},Pm=()=>{To();const[e]=bc(),[t,n]=S.useState(!1),[r,s]=S.useState("token"),i=rn(),o=async()=>{n(!0);const{server:c,token:u,username:d,password:h}=e.getFieldsValue();try{(await Ha.raw("v1/me",{baseURL:c,headers:u?{"X-Auth-Token":u}:{Authorization:`Basic ${btoa(`${d}:${h}`)}`}})).status===200&&(Y.success("Login successfully"),ro({server:c,token:u,username:d,password:h}),i("/"))}catch(v){console.error(v),Y.error(v.message)}n(!1)},l=async()=>{const c=e.getFieldsValue();if(!Js(c)){Y.error("Please check your server address and credentials");return}await o()};return a.jsxs("div",{className:"page-layout",style:{height:"100%",display:"flex"},children:[a.jsx("div",{className:"form-panel",style:{backgroundColor:"var(--color-bg-1)",width:"50%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflowY:"auto",zIndex:2},children:a.jsxs("div",{className:"login-form",style:{width:"340px"},children:[a.jsx($.Title,{heading:3,children:"Connect to your server"}),a.jsxs(ve,{autoComplete:"off",form:e,layout:"vertical",onSubmit:async()=>{Am(e)?await l():Y.error("Please fill in all required fields")},children:[a.jsx(ve.Item,{field:"server",label:"Server address",rules:[{required:!0}],onKeyDown:c=>{wr(c,e)},children:a.jsx(De,{disabled:t,placeholder:"Please input server address",prefix:a.jsx(wc,{})})}),r==="token"&&a.jsx(ve.Item,{field:"token",label:"API Token",rules:[{required:!0}],onKeyDown:c=>{wr(c,e)},children:a.jsx(De.Password,{disabled:t,placeholder:"Please input API token",prefix:a.jsx(Bi,{})})}),r==="user"&&a.jsxs(a.Fragment,{children:[a.jsx(ve.Item,{field:"username",label:"Username",rules:[{required:!0}],onKeyDown:c=>{wr(c,e)},children:a.jsx(De,{disabled:t,placeholder:"Please input username",prefix:a.jsx(Xa,{})})}),a.jsx(ve.Item,{field:"password",label:"Password",rules:[{required:!0}],onKeyDown:c=>{wr(c,e)},children:a.jsx(De.Password,{disabled:t,placeholder:"Please input password",prefix:a.jsx(Bi,{})})})]})]}),a.jsx(ge,{loading:t,type:"primary",long:!0,onClick:()=>e.submit(),style:{marginTop:"20px"},children:"Connect"}),a.jsx(Ye,{orientation:"center",children:"Or connect with"}),a.jsx(ge,{type:"secondary",long:!0,onClick:()=>s(r==="token"?"user":"token"),style:{marginTop:"20px"},children:r==="token"?"Username and password":"API Token"}),a.jsxs("div",{style:{display:"flex",marginTop:"40px"},children:[a.jsx($.Text,{disabled:!0,children:"Need more info?"}),a.jsx(Sc,{href:"https://miniflux.app/docs/api.html#authentication",style:{fontWeight:"500"},children:"Go to Miniflux official website"})]})]})}),a.jsx("div",{className:"background",style:{backgroundImage:`url(${Om})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"50%",height:"100%"}})]})},Rm=({children:e})=>{const t=F(Zs);return Js(t)?a.jsx(a.Fragment,{children:e}):a.jsx(to,{to:"/login"})},Fm=()=>a.jsx(jn,{info:{from:"starred",id:""},getEntries:co}),Nm=()=>{const e=async()=>{const t=await Sr(0,"unread"),n=t.total;let r=t.entries;n>r.length&&(r=Sr(0,"unread",n).then(i=>i.entries));const s=r.map(i=>i.id);return qr(s,"read")};return a.jsx(jn,{info:{from:"today",id:""},getEntries:Sr,markAllAsRead:e})},Dm=at("homePage"),Lm=[{path:"/all",element:a.jsx(Tm,{})},{path:"/today",element:a.jsx(Nm,{})},{path:"/starred",element:a.jsx(Fm,{})},{path:"/history",element:a.jsx(Im,{})},{path:"/category/:id",element:a.jsx(Mm,{})},{path:"/feed/:id",element:a.jsx(_m,{})}],Ol=Ec([{path:"/",element:a.jsx(Rm,{children:a.jsx($u,{})}),errorElement:a.jsx(km,{}),children:[...Lm,{index:!0,element:a.jsx(to,{to:`/${Dm}`,replace:!0})}]},{path:"/login",element:a.jsx(Pm,{})}]);jc.createRoot(document.getElementById("root")).render(a.jsx(Cc,{locale:Tc,children:a.jsx(Mc,{router:Ol})}))});export default $m();

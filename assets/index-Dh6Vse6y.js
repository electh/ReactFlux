var cc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{c as uc,a as xe,g as dc,b as fc,u as vt,d as ur,e as Xr,j as a,B as Se,I as hc,S as Dr,T as Kn,f as Ga,h as mc,i as pc,k as gc,D as Gi,M as Ut,l as Ka,m as vc,n as yc,A as Qa,o as Za,p as fe,q as bc,r as xc,s as wc,t as pe,v as ii,w as Cn,x as Ja,y as re,z as v,C as Ec,E as ce,F as q,G as ot,H as on,J as Ki,K as we,L as Qn,N as lt,O as Yr,P as eo,Q as Ae,R as Cc,U as to,V as no,W as Sc,X as Tc,Y as vn,Z as jc,_ as _c,$ as Ac,a0 as Ic,a1 as kc,a2 as Oc,a3 as Mc,a4 as ro,a5 as so,a6 as Lr,a7 as Rc,a8 as Pc,a9 as ai,aa as Nc,ab as Fc,ac as Dc,ad as Lc,ae as io,af as Vc,ag as ao,ah as oo,ai as oi,aj as Uc,ak as Bc,al as zc,am as $c,an as Hc,ao as Wc,ap as Zn,aq as qc,ar as Xc,as as Yc,at as gs,au as Qi,av as lo,aw as Gc,ax as Kc,ay as Qc,az as Zi,aA as Zc,aB as co,aC as Jc,aD as eu,aE as tu,aF as nu,aG as ru}from"./vendor-D0O79CfI.js";var dp=cc((mp,fr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const je=uc(e=>({visible:{settings:!1,addFeed:!1},collapsed:window.innerWidth<=992,activeContent:null,isSysDarkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,setActiveContent:t=>{e({activeContent:t})},setIsSysDarkMode:t=>e({isSysDarkMode:t}),setVisible:(t,n)=>{e(r=>({visible:{...r.visible,[t]:n}}))},toggleCollapsed:()=>e(t=>({collapsed:!t.collapsed}))})),uo=(e,t)=>{const r=xe((()=>{const s=localStorage.getItem(e);return s!==null?JSON.parse(s):t})());return xe(s=>s(r),(s,i,l)=>{const o=typeof l=="function"?l(s(r)):l;i(r,o),localStorage.setItem(e,JSON.stringify(o))})},jn=(e,t)=>{const n=xe({refresh:null,value:null});return xe(r=>{const{refresh:s,value:i}=r(n),l=r(e);return i!==null&&s===l?i:t(r)},(r,s,i)=>{let l;const{refresh:o,value:c}=r(n),u=r(e);typeof i=="function"?l=i(c!==null&&o===u?c:t(r)):l=i,s(n,{refresh:u,value:l})})},Vr={articleWidth:90,fontSize:1.05,homePage:"all",layout:"large",markReadOnScroll:!1,orderBy:"created_at",orderDirection:"desc",pageSize:100,showAllFeeds:!1,showFeedIcon:!0,showStatus:"all",theme:"light",themeColor:"Blue"},yt=e=>{const t=JSON.parse(localStorage.getItem("config"))??{};return Object.hasOwn(t,e)?t[e]:Object.hasOwn(Vr,e)?Vr[e]:null},_e=uo("config",Vr),fo=[{name:"Red",valueLight:"#F53F3F",valueDark:"#F76965"},{name:"Orange",valueLight:"#F77234",valueDark:"#F9925A"},{name:"Green",valueLight:"#00B42A",valueDark:"#27C346"},{name:"Blue",valueLight:"#165DFF",valueDark:"#3C7EFF"},{name:"Purple",valueLight:"#722ED1",valueDark:"#8E51DA"}],Ps=e=>{const t=fo.find(i=>i.name===e),n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=yt("theme"),s=r==="system"?n:r==="dark";return t?s?t.valueDark:t.valueLight:"#165DFF"},ho=e=>{dc(Ps(e),{list:!0}).map(n=>fc(n)).forEach((n,r)=>{document.body.style.setProperty(`--primary-${r+1}`,n)})},li=uo("auth",{server:"",token:"",username:"",password:""}),Gr=()=>{const e=vt(_e);return{updateConfig:n=>{e(r=>({...r,...n}))}}},su=()=>{const e=ur(),t=je(y=>y.setVisible),n=je(y=>y.toggleCollapsed),[r,s]=Xr(_e),i=vt(li),{showAllFeeds:l,theme:o}=r,{updateConfig:c}=Gr(),u=()=>{c({showAllFeeds:!l})},d=()=>{c({theme:o==="light"?"dark":"light"})},f=()=>{i({}),s(Vr),document.body.removeAttribute("arco-theme"),ho("Blue"),e("/login"),fe.success("Logout successful")},w=(y=>{switch(y){case"dark":return a.jsx(wc,{});case"system":return a.jsx(xc,{});default:return a.jsx(bc,{})}})(o);return a.jsxs("div",{className:"header",children:[a.jsx("div",{className:"brand",children:a.jsx(Se,{className:"trigger",onClick:n,shape:"circle",size:"small",children:a.jsx(hc,{})})}),a.jsx("div",{className:"button-group",children:a.jsxs(Dr,{size:16,children:[a.jsx(Kn,{content:"Add a feed",mini:!0,children:a.jsx(Se,{shape:"circle",size:"small",type:"primary",icon:a.jsx(Ga,{}),onClick:()=>t("addFeed",!0)})}),a.jsx(Kn,{content:l?"Hide some feeds":"Show all feeds",mini:!0,children:a.jsx(Se,{shape:"circle",size:"small",icon:l?a.jsx(mc,{}):a.jsx(pc,{}),onClick:u})}),a.jsx(Se,{shape:"circle",size:"small",icon:a.jsx(gc,{}),onClick:()=>window.open("https://github.com/electh/ReactFlux","_blank")}),a.jsx(Gi,{droplist:a.jsx(Ut,{defaultSelectedKeys:[o],className:"theme-menu",children:["light","dark","system"].map(y=>a.jsxs(Ut.Item,{className:"theme-menu-item",onClick:()=>c({theme:y}),children:[y.charAt(0).toUpperCase()+y.slice(1),o===y&&a.jsx(Ka,{style:{marginLeft:8}})]},y))}),trigger:"hover",position:"bottom",children:a.jsx(Se,{icon:w,shape:"circle",size:"small",onClick:d})}),a.jsx(Gi,{droplist:a.jsxs(Ut,{children:[a.jsxs(Ut.Item,{onClick:()=>t("settings",!0),children:[a.jsx(vc,{className:"icon-right"}),"Settings"]},"0"),a.jsxs(Ut.Item,{onClick:f,children:[a.jsx(yc,{className:"icon-right"}),"Logout"]},"1")]}),trigger:"click",position:"br",children:a.jsx(Qa,{size:28,style:{cursor:"pointer"},children:a.jsx(Za,{})})})]})})]})};var mo={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pe,function(){return function(n,r,s){n=n||{};var i=r.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(u,d,f,p){return i.fromToBase(u,d,f,p)}s.en.relativeTime=l,i.fromToBase=function(u,d,f,p,w){for(var y,g,b,h=f.$locale().relativeTime||l,E=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=E.length,j=0;j<C;j+=1){var T=E[j];T.d&&(y=p?s(u).diff(f,T.d,!0):f.diff(u,T.d,!0));var k=(n.rounding||Math.round)(Math.abs(y));if(b=y>0,k<=T.r||!T.r){k<=1&&j>0&&(T=E[j-1]);var _=h[T.l];w&&(k=w(""+k)),g=typeof _=="string"?_.replace("%d",k):_(k,d,T.l,b);break}}if(d)return g;var O=b?h.future:h.past;return typeof O=="function"?O(g):O.replace("%s",g)},i.to=function(u,d){return o(u,d,this,!0)},i.from=function(u,d){return o(u,d,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}})})(mo);var iu=mo.exports;const au=ii(iu);Cn.extend(au);const ou=e=>{const t=Cn(e),n=Cn();return t.isAfter(n.subtract(24,"hour"))},lu=()=>Cn().subtract(24,"hour").unix(),po=e=>Cn(e).fromNow(),cu=()=>JSON.parse(localStorage.getItem("auth"))??{},ci=e=>{const{server:t,token:n,username:r,password:s}=e;return t&&(n||r&&s)},ge=Ja.create({timeout:3e3,retry:3,retryDelay:1e3});ge.interceptors.request.use(e=>{const t=cu(),{server:n,token:r,username:s,password:i}=t;return ci(t)?(e.baseURL=n,r?e.headers["X-Auth-Token"]=r:e.auth={username:s,password:i},e):Promise.reject(new Error("Invalid auth"))},e=>Promise.reject(e));const uu=async e=>{const{config:t}=e;return e.code!=="ECONNABORTED"||!(t!=null&&t.retry)||(t.__retryCount=t.__retryCount??0,t.__retryCount>=t.retry)?Promise.reject(e):(t.__retryCount+=1,await new Promise(r=>{setTimeout(()=>{r()},t.retryDelay??1e3)}),ge(t))},du=e=>{var n,r,s;const t=((r=(n=e.response)==null?void 0:n.data)==null?void 0:r.error_message)??e.message;return fe.error(t),((s=e.response)==null?void 0:s.status)===401&&(localStorage.removeItem("auth"),oc.navigate("/login")),Promise.reject(e)};ge.interceptors.response.use(e=>e,async e=>{try{return await uu(e)}catch(t){return du(t)}});const ui=async(e,t)=>ge.put("/v1/entries",{entry_ids:e,status:t}),fu=async e=>ge.put(`/v1/entries/${e}/bookmark`),hu=async e=>ge.get(`/v1/entries/${e}/fetch-content`),mu=async()=>ge.get("/v1/me"),pu=async()=>ge.get("/v1/feeds/counters"),gu=async()=>ge.get("/v1/feeds"),vu=async()=>ge.get("/v1/categories"),yu=async e=>ge.delete(`/v1/categories/${e}`),bu=async e=>ge.post("/v1/categories",{title:e}),xu=async(e,t,n=!1)=>{const r={title:t,hide_globally:n?"on":void 0};return ge.put(`/v1/categories/${e}`,r)},wu=async(e,t)=>{const{url:n,title:r,categoryId:s,isFullText:i,hidden:l=!1}=t;return ge.put(`/v1/feeds/${e}`,{feed_url:n,title:r,category_id:s,crawler:i,hide_globally:l})},Eu=async e=>ge.put(`/v1/feeds/${e}/refresh`),Cu=async e=>ge.delete(`/v1/feeds/${e}`),Su=async(e,t,n)=>ge.post("/v1/feeds",{feed_url:e,category_id:t,crawler:n}),_n=(e,t={})=>{const{baseUrl:n,orderField:r,offset:s,limit:i,status:l}=e,o=yt("orderDirection"),c=new URLSearchParams({order:r,direction:o,offset:s,limit:i,...t});return l&&c.append("status",l),`${n}?${c.toString()}`},Tu=async(e=0,t=null)=>{const n=yt("orderBy"),r=yt("pageSize"),i=_n({baseUrl:"/v1/entries",orderField:n,offset:e,limit:r,status:t});return ge.get(i)},go=async(e=0)=>{const t=yt("pageSize"),r=_n({baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:t,status:"read"});return ge.get(r)},vo=async(e=0,t=null)=>{const n=yt("pageSize"),i=_n({baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:n,status:t},{starred:"true"});return ge.get(i)},Rr=async(e=0,t=null,n=null)=>{const r=yt("orderBy"),s=n??yt("pageSize"),i=lu(),c=_n({baseUrl:"/v1/entries",orderField:r,offset:e,limit:s,status:t},{published_after:i});return ge.get(c)},di=xe(!1),yo=xe(0),bo=xe({}),fi=jn(yo,e=>e(bo).unreads??{}),xo=xe(0),wo=xe({}),Eo=jn(xo,e=>e(wo).total??0),Co=xe(0),So=xe({}),To=jn(Co,e=>e(So).total??0),jo=xe(0),_o=xe({}),Ao=jn(jo,e=>e(_o).total??0),Io=xe(0),ko=xe([]),Kr=jn(Io,e=>{const t=e(fi);return e(ko).map(r=>({...r,unreadCount:t[r.id]??0}))}),hi=xe(e=>e(Kr).sort((n,r)=>n.title.localeCompare(r.title,"en"))),Oo=xe(0),Mo=xe([]),ju=jn(Oo,e=>{const t=e(Kr);return e(Mo).map(r=>{const s=t.filter(i=>i.category.id===r.id);return{...r,unreadCount:s.reduce((i,l)=>i+l.unreadCount,0),feedCount:s.length}})}),dr=xe(e=>e(ju).sort((n,r)=>n.title.localeCompare(r.title,"en"))),Ro=xe(e=>e(dr).filter(n=>n.hide_globally).map(n=>n.id)),An=xe(e=>{const t=e(Ro);return e(hi).filter(r=>r.hide_globally||t.includes(r.category.id)).map(r=>r.id)}),_u=xe(e=>{const t=e(fi),n=e(_e),{showAllFeeds:r}=n,s=e(An);return Object.entries(t).reduce((i,[l,o])=>r||!s.includes(Number(l))?i+o:i,0)}),Bt=()=>{},He=Bt(),vs=Object,ue=e=>e===He,gt=e=>typeof e=="function",Wt=(e,t)=>({...e,...t}),Au=e=>gt(e.then),xr=new WeakMap;let Iu=0;const Jn=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let s,i;if(vs(e)===e&&!r&&n!=RegExp){if(s=xr.get(e),s)return s;if(s=++Iu+"~",xr.set(e,s),n==Array){for(s="@",i=0;i<e.length;i++)s+=Jn(e[i])+",";xr.set(e,s)}if(n==vs){s="#";const l=vs.keys(e).sort();for(;!ue(i=l.pop());)ue(e[i])||(s+=i+":"+Jn(e[i])+",");xr.set(e,s)}}else s=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return s},Ot=new WeakMap,ys={},wr={},mi="undefined",Qr=typeof window!=mi,Ns=typeof document!=mi,ku=()=>Qr&&typeof window.requestAnimationFrame!=mi,Po=(e,t)=>{const n=Ot.get(e);return[()=>!ue(t)&&e.get(t)||ys,r=>{if(!ue(t)){const s=e.get(t);t in wr||(wr[t]=s),n[5](t,Wt(s,r),s||ys)}},n[6],()=>!ue(t)&&t in wr?wr[t]:!ue(t)&&e.get(t)||ys]};let Fs=!0;const Ou=()=>Fs,[Ds,Ls]=Qr&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Bt,Bt],Mu=()=>{const e=Ns&&document.visibilityState;return ue(e)||e!=="hidden"},Ru=e=>(Ns&&document.addEventListener("visibilitychange",e),Ds("focus",e),()=>{Ns&&document.removeEventListener("visibilitychange",e),Ls("focus",e)}),Pu=e=>{const t=()=>{Fs=!0,e()},n=()=>{Fs=!1};return Ds("online",t),Ds("offline",n),()=>{Ls("online",t),Ls("offline",n)}},Nu={isOnline:Ou,isVisible:Mu},Fu={initFocus:Ru,initReconnect:Pu},Ji=!re.useId,er=!Qr||"Deno"in window,Du=e=>ku()?window.requestAnimationFrame(e):setTimeout(e,1),bs=er?v.useEffect:v.useLayoutEffect,xs=typeof navigator<"u"&&navigator.connection,ea=!er&&xs&&(["slow-2g","2g"].includes(xs.effectiveType)||xs.saveData),pi=e=>{if(gt(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Jn(e):"",[e,t]};let Lu=0;const Vs=()=>++Lu,No=0,Fo=1,Do=2,Vu=3;var Fn={__proto__:null,ERROR_REVALIDATE_EVENT:Vu,FOCUS_EVENT:No,MUTATE_EVENT:Do,RECONNECT_EVENT:Fo};async function Lo(...e){const[t,n,r,s]=e,i=Wt({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let l=i.populateCache;const o=i.rollbackOnError;let c=i.optimisticData;const u=p=>typeof o=="function"?o(p):o!==!1,d=i.throwOnError;if(gt(n)){const p=n,w=[],y=t.keys();for(const g of y)!/^\$(inf|sub)\$/.test(g)&&p(t.get(g)._k)&&w.push(g);return Promise.all(w.map(f))}return f(n);async function f(p){const[w]=pi(p);if(!w)return;const[y,g]=Po(t,w),[b,h,E,C]=Ot.get(t),j=()=>{const Q=b[w];return(gt(i.revalidate)?i.revalidate(y().data,p):i.revalidate!==!1)&&(delete E[w],delete C[w],Q&&Q[0])?Q[0](Do).then(()=>y().data):y().data};if(e.length<3)return j();let T=r,k;const _=Vs();h[w]=[_,0];const O=!ue(c),I=y(),N=I.data,z=I._c,ne=ue(z)?N:z;if(O&&(c=gt(c)?c(ne,N):c,g({data:c,_c:ne})),gt(T))try{T=T(ne)}catch(Q){k=Q}if(T&&Au(T))if(T=await T.catch(Q=>{k=Q}),_!==h[w][0]){if(k)throw k;return T}else k&&O&&u(k)&&(l=!0,g({data:ne,_c:He}));if(l&&!k)if(gt(l)){const Q=l(T,ne);g({data:Q,error:He,_c:He})}else g({data:T,error:He,_c:He});if(h[w][1]=Vs(),Promise.resolve(j()).then(()=>{g({_c:He})}),k){if(d)throw k;return}return T}}const ta=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},Uu=(e,t)=>{if(!Ot.has(e)){const n=Wt(Fu,t),r={},s=Lo.bind(He,e);let i=Bt;const l={},o=(d,f)=>{const p=l[d]||[];return l[d]=p,p.push(f),()=>p.splice(p.indexOf(f),1)},c=(d,f,p)=>{e.set(d,f);const w=l[d];if(w)for(const y of w)y(f,p)},u=()=>{if(!Ot.has(e)&&(Ot.set(e,[r,{},{},{},s,c,o]),!er)){const d=n.initFocus(setTimeout.bind(He,ta.bind(He,r,No))),f=n.initReconnect(setTimeout.bind(He,ta.bind(He,r,Fo)));i=()=>{d&&d(),f&&f(),Ot.delete(e)}}};return u(),[e,s,u,i]}return[e,Ot.get(e)[4]]},Bu=(e,t,n,r,s)=>{const i=n.errorRetryCount,l=s.retryCount,o=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!ue(i)&&l>i||setTimeout(r,o,s)},zu=(e,t)=>Jn(e)==Jn(t),[Vo,$u]=Uu(new Map),Hu=Wt({onLoadingSlow:Bt,onSuccess:Bt,onError:Bt,onErrorRetry:Bu,onDiscarded:Bt,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ea?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ea?5e3:3e3,compare:zu,isPaused:()=>!1,cache:Vo,mutate:$u,fallback:{}},Nu),Wu=(e,t)=>{const n=Wt(e,t);if(t){const{use:r,fallback:s}=e,{use:i,fallback:l}=t;r&&i&&(n.use=r.concat(i)),s&&l&&(n.fallback=Wt(s,l))}return n},qu=v.createContext({}),Xu="$inf$",Uo=Qr&&window.__SWR_DEVTOOLS_USE__,Yu=Uo?window.__SWR_DEVTOOLS_USE__:[],Gu=()=>{Uo&&(window.__SWR_DEVTOOLS_REACT__=re)},Ku=e=>gt(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Qu=()=>Wt(Hu,v.useContext(qu)),Zu=e=>(t,n,r)=>e(t,n&&((...i)=>{const[l]=pi(t),[,,,o]=Ot.get(Vo);if(l.startsWith(Xu))return n(...i);const c=o[l];return ue(c)?n(...i):(delete o[l],c)}),r),Ju=Yu.concat(Zu),ed=e=>function(...n){const r=Qu(),[s,i,l]=Ku(n),o=Wu(r,l);let c=e;const{use:u}=o,d=(u||[]).concat(Ju);for(let f=d.length;f--;)c=d[f](c);return c(s,i||o.fetcher||null,o)},td=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};Gu();const na=re.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),ws={dedupe:!0},nd=(e,t,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:l,revalidateOnMount:o,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:d,refreshWhenOffline:f,keepPreviousData:p}=n,[w,y,g,b]=Ot.get(r),[h,E]=pi(e),C=v.useRef(!1),j=v.useRef(!1),T=v.useRef(h),k=v.useRef(t),_=v.useRef(n),O=()=>_.current,I=()=>O().isVisible()&&O().isOnline(),[N,z,ne,Q]=Po(r,h),Z=v.useRef({}).current,me=ue(l)?n.fallback[h]:l,ve=(U,H)=>{for(const F in Z){const P=F;if(P==="data"){if(!s(U[P],H[P])&&(!ue(U[P])||!s(V,H[P])))return!1}else if(H[P]!==U[P])return!1}return!0},Re=v.useMemo(()=>{const U=!h||!t?!1:ue(o)?O().isPaused()||i?!1:ue(c)?!0:c:o,H=ae=>{const ee=Wt(ae);return delete ee._k,U?{isValidating:!0,isLoading:!0,...ee}:ee},F=N(),P=Q(),de=H(F),L=F===P?de:H(P);let W=de;return[()=>{const ae=H(N());return ve(ae,W)?(W.data=ae.data,W.isLoading=ae.isLoading,W.isValidating=ae.isValidating,W.error=ae.error,W):(W=ae,ae)},()=>L]},[r,h]),be=Ec.useSyncExternalStore(v.useCallback(U=>ne(h,(H,F)=>{ve(F,H)||U()}),[r,h]),Re[0],Re[1]),tt=!C.current,x=w[h]&&w[h].length>0,m=be.data,M=ue(m)?me:m,R=be.error,D=v.useRef(M),V=p?ue(m)?D.current:m:M,$=x&&!ue(R)?!1:tt&&!ue(o)?o:O().isPaused()?!1:i?ue(M)?!1:c:ue(M)||c,B=!!(h&&t&&tt&&$),X=ue(be.isValidating)?B:be.isValidating,J=ue(be.isLoading)?B:be.isLoading,G=v.useCallback(async U=>{const H=k.current;if(!h||!H||j.current||O().isPaused())return!1;let F,P,de=!0;const L=U||{},W=!g[h]||!L.dedupe,ae=()=>Ji?!j.current&&h===T.current&&C.current:h===T.current,ee={isValidating:!1,isLoading:!1},Ve=()=>{z(ee)},Ge=()=>{const Ee=g[h];Ee&&Ee[1]===P&&delete g[h]},Ue={isValidating:!0};ue(N().data)&&(Ue.isLoading=!0);try{if(W&&(z(Ue),n.loadingTimeout&&ue(N().data)&&setTimeout(()=>{de&&ae()&&O().onLoadingSlow(h,n)},n.loadingTimeout),g[h]=[H(E),Vs()]),[F,P]=g[h],F=await F,W&&setTimeout(Ge,n.dedupingInterval),!g[h]||g[h][1]!==P)return W&&ae()&&O().onDiscarded(h),!1;ee.error=He;const Ee=y[h];if(!ue(Ee)&&(P<=Ee[0]||P<=Ee[1]||Ee[1]===0))return Ve(),W&&ae()&&O().onDiscarded(h),!1;const Ie=N().data;ee.data=s(Ie,F)?Ie:F,W&&ae()&&O().onSuccess(F,h,n)}catch(Ee){Ge();const Ie=O(),{shouldRetryOnError:Pe}=Ie;Ie.isPaused()||(ee.error=Ee,W&&ae()&&(Ie.onError(Ee,h,Ie),(Pe===!0||gt(Pe)&&Pe(Ee))&&(!O().revalidateOnFocus||!O().revalidateOnReconnect||I())&&Ie.onErrorRetry(Ee,h,Ie,Be=>{const ze=w[h];ze&&ze[0]&&ze[0](Fn.ERROR_REVALIDATE_EVENT,Be)},{retryCount:(L.retryCount||0)+1,dedupe:!0})))}return de=!1,Ve(),!0},[h,r]),oe=v.useCallback((...U)=>Lo(r,T.current,...U),[]);if(bs(()=>{k.current=t,_.current=n,ue(m)||(D.current=m)}),bs(()=>{if(!h)return;const U=G.bind(He,ws);let H=0;const P=td(h,w,(de,L={})=>{if(de==Fn.FOCUS_EVENT){const W=Date.now();O().revalidateOnFocus&&W>H&&I()&&(H=W+O().focusThrottleInterval,U())}else if(de==Fn.RECONNECT_EVENT)O().revalidateOnReconnect&&I()&&U();else{if(de==Fn.MUTATE_EVENT)return G();if(de==Fn.ERROR_REVALIDATE_EVENT)return G(L)}});return j.current=!1,T.current=h,C.current=!0,z({_k:E}),$&&(ue(M)||er?U():Du(U)),()=>{j.current=!0,P()}},[h]),bs(()=>{let U;function H(){const P=gt(u)?u(N().data):u;P&&U!==-1&&(U=setTimeout(F,P))}function F(){!N().error&&(d||O().isVisible())&&(f||O().isOnline())?G(ws).then(H):H()}return H(),()=>{U&&(clearTimeout(U),U=-1)}},[u,d,f,h]),v.useDebugValue(V),i&&ue(M)&&h){if(!Ji&&er)throw new Error("Fallback data is required when using suspense in SSR.");k.current=t,_.current=n,j.current=!1;const U=b[h];if(!ue(U)){const H=oe(U);na(H)}if(ue(R)){const H=G(ws);ue(V)||(H.status="fulfilled",H.value=!0),na(H)}else throw R}return{mutate:oe,get data(){return Z.data=!0,V},get error(){return Z.error=!0,R},get isValidating(){return Z.isValidating=!0,X},get isLoading(){return Z.isLoading=!0,J}}},rd=ed(nd),In=(e,t,n)=>r=>{const s=vt(e),i=vt(t),{data:l}=rd(r,n);return v.useEffect(()=>{l&&(s(l.data),i(o=>o+1))},[l,s,i]),l},sd=In(bo,yo,pu),id=In(wo,xo,()=>Rr(0,"unread")),ad=In(So,Co,vo),od=In(_o,jo,go),ld=In(ko,Io,gu),cd=In(Mo,Oo,vu),gi=()=>{const[e,t]=Xr(di),n=sd("/v1/feeds/counters"),r=id("/v1/entries?status=unread"),s=ad("/v1/entries?starred=true"),i=od("/v1/entries?status=read"),l=ld("/v1/feeds"),o=cd("/v1/categories"),c=()=>{t(!1)};return v.useEffect(()=>{!e&&[n,r,s,i,l,o].every(Boolean)&&t(!0)},[e,t,n,r,s,i,l,o]),{loadData:c}},an=(e,t)=>e.toLowerCase().includes(t.toLowerCase()),Bo=(e,t,n,r)=>r?t==="0"?n==="all"?e.filter(s=>an(s.title,r)):e.filter(s=>an(s.title,r)&&s.status===n):n==="all"?e.filter(s=>an(s.content,r)):e.filter(s=>an(s.content,r)&&s.status===n):e,Ur=(e,t,n,r)=>{const s=i=>n||!r.includes(i.feed.id);return["all","today","category"].includes(t.from)?e.filter(s):e},ud=()=>{const{updateConfig:e}=Gr(),t=ce(_e),{articleWidth:n,fontSize:r,layout:s,showFeedIcon:i,themeColor:l}=t,o=p=>{e({themeColor:p}),ho(p)},c=p=>{e({layout:p?"small":"large"})},u=p=>{e({showFeedIcon:p})},d=p=>{e({fontSize:p})},f=p=>{e({articleWidth:p})};return a.jsxs(a.Fragment,{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Theme"}),a.jsx(q.Text,{type:"secondary",children:"Customize your UI theme"}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Accent color"}),a.jsx(q.Text,{type:"secondary",children:"Choose your accent color"})]}),a.jsx("div",{style:{display:"flex"},children:fo.map(p=>a.jsx(Kn,{content:p.name,children:a.jsx("button",{type:"button",className:"accent-color-button",style:{backgroundColor:Ps(p.name),outline:p.name===l?`1px solid ${Ps(p.name)}`:"none"},onClick:()=>o(p.name),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&o(p.name)}})},p.name))})]}),a.jsx(ot,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Compact article list"}),a.jsx(q.Text,{type:"secondary",children:"Use small thumbnail in article list"})]}),a.jsx("div",{children:a.jsx(on,{checked:s==="small",onChange:p=>c(p)})})]}),a.jsx(ot,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Show feed icon"}),a.jsx(q.Text,{type:"secondary",children:"Show feed icon in feed list and article list"})]}),a.jsx("div",{children:a.jsx(on,{checked:i,onChange:p=>u(p)})})]}),a.jsx(ot,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Font size"}),a.jsx(q.Text,{type:"secondary",children:"Adjust article text size"})]}),a.jsx("div",{children:a.jsxs(Dr,{children:[a.jsx(q.Text,{style:{fontSize:"0.75rem"},children:"A"}),a.jsx(Ki,{formatTooltip:p=>`${p}rem`,max:1.25,min:.75,showTicks:!0,step:.05,style:{width:200},value:r,onChange:p=>d(p)}),a.jsx(q.Text,{style:{fontSize:"1.25rem"},children:"A"})]})})]}),a.jsx(ot,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Article width"}),a.jsx(q.Text,{type:"secondary",children:"Adjust article width"})]}),a.jsx("div",{children:a.jsxs(Dr,{children:[a.jsx(q.Text,{children:"60%"}),a.jsx(Ki,{formatTooltip:p=>`${p}%`,max:90,min:60,showTicks:!0,step:10,style:{width:200},value:n,onChange:p=>f(p)}),a.jsx(q.Text,{children:"90%"})]})})]})]})},dd=()=>{const e=vt(Kr),[t,n]=Xr(dr),[r,s]=v.useState(!1),[i,l]=v.useState(""),[o,c]=v.useState(!1),[u]=we.useForm(),[d,f]=v.useState({}),p=async()=>{if(i){try{const{data:g}=await bu(i);n(b=>[...b,{...g,feedCount:0}]),fe.success("Category added successfully")}catch{fe.error("Failed to add category")}l(""),s(!1)}},w=async(g,b,h)=>{try{const{data:E}=await xu(g,b,h);e(C=>C.map(j=>j.category.id===g?{...j,category:{...j.category,title:b}}:j)),n(C=>C.map(j=>j.id===g?{...j,...E}:j)),fe.success("Category updated successfully")}catch{fe.error("Failed to update category")}c(!1),u.resetFields()},y=async g=>{try{(await yu(g)).status===204?(n(h=>h.filter(E=>E.id!==g)),fe.success("Category deleted successfully")):fe.error("Failed to delete category")}catch{fe.error("Failed to delete category")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[t.map(g=>a.jsx(Qn,{className:"tag-style",closable:g.feedCount===0,size:"medium",onClick:()=>{f(g),c(!0),u.setFieldsValue({title:g.title})},onClose:async b=>{b.stopPropagation(),await y(g.id)},children:g.title},g.id)),r?a.jsx(lt,{autoFocus:!0,className:"input-style",onBlur:p,onChange:l,onPressEnter:p,size:"small",value:i}):a.jsx(Qn,{className:"add-category-tag",icon:a.jsx(Ga,{}),onClick:()=>s(!0),size:"medium",tabIndex:0,children:"Add"})]}),d&&a.jsx(Yr,{className:"modal-style",onOk:u.submit,title:"Edit Category",unmountOnExit:!0,visible:o,onCancel:()=>{c(!1),u.resetFields()},children:a.jsxs(we,{form:u,layout:"vertical",onSubmit:g=>w(d.id,g.title,g.hidden),labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}},children:[a.jsx(we.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(lt,{placeholder:"Please input category title"})}),a.jsx(we.Item,{label:"Hidden",field:"hidden",initialValue:d.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(on,{})})]})})]})},Zr=()=>{const[e,t]=v.useState(window.innerWidth),n=e<=768;return v.useEffect(()=>{const r=()=>t(window.innerWidth);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),{screenWidth:e,isMobileView:n}},Es=e=>e.slice().sort((t,n)=>n.parsing_error_count-t.parsing_error_count),fd=()=>{const[e,t]=v.useState(!1),[n,r]=v.useState({}),[s]=we.useForm(),i=ce(hi),l=vt(Kr),[o,c]=v.useState(Es(i)),u=ce(dr),{isMobileView:d}=Zr(),f=o.map(h=>({category:h.category,checked_at:h.checked_at,crawler:h.crawler,feed_url:h.feed_url,key:h.id,parsing_error_count:h.parsing_error_count,title:h.title,hidden:h.hide_globally}));v.useEffect(()=>{c(Es(i))},[i]);const p=h=>{r(h),t(!0),s.setFieldsValue({category:h.category.id,crawler:h.crawler,title:h.title,url:h.feed_url,hidden:h.hidden})},w=async h=>{try{await Eu(h.key),fe.success("Refreshed"),l(E=>E.map(C=>C.id===h.key?{...C,parsing_error_count:0}:C))}catch{fe.error("Failed to refresh"),l(C=>C.map(j=>j.id===h.key?{...j,parsing_error_count:j.parsing_error_count+1}:j))}},y=async h=>{try{await Cu(h.key),fe.success("Unfollowed"),l(E=>E.filter(C=>C.id!==h.key))}catch{fe.error("Failed to unfollow")}},g=[{title:"Title",dataIndex:"title",sorter:(h,E)=>h.title.localeCompare(E.title,"en"),render:(h,E)=>{const C=E.parsing_error_count,j=C?`âš ï¸ ${h}`:h,T=a.jsxs("div",{children:[h,C>0&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),"âš ï¸ Parsing error count: ",C]})]});return a.jsx(q.Ellipsis,{expandable:!1,children:a.jsx(Kn,{mini:!0,content:T,children:j})})}},!d&&{title:"Url",dataIndex:"feed_url",sorter:(h,E)=>h.feed_url.localeCompare(E.feed_url,"en"),render:h=>a.jsx(q.Ellipsis,{expandable:!1,showTooltip:!0,children:h})},{title:"Category",dataIndex:"category.title",sorter:(h,E)=>h.category.title.localeCompare(E.category.title,"en"),render:h=>a.jsx(q.Ellipsis,{expandable:!1,showTooltip:!0,children:a.jsx(Qn,{children:h})})},!d&&{title:"Checked at",dataIndex:"checked_at",sorter:(h,E)=>h.checked_at.localeCompare(E.checked_at,"en"),render:h=>a.jsx(q.Ellipsis,{expandable:!1,children:po(h)})},{title:"Actions",dataIndex:"op",fixed:"right",width:100,render:(h,E)=>a.jsxs(Dr,{children:[a.jsx("button",{"aria-label":"Edit this feed",className:"list-item-action",onClick:()=>p(E),type:"button",children:a.jsx(Cc,{})}),a.jsx("button",{"aria-label":"Refresh this feed",className:"list-item-action",onClick:()=>w(E),type:"button",children:a.jsx(to,{})}),a.jsx(no,{position:"left",focusLock:!0,title:"Unfollowï¼Ÿ",onOk:async()=>{await y(E)},children:a.jsx("span",{className:"list-item-action",children:a.jsx(Sc,{})})})]})}].filter(Boolean),b=async(h,E)=>{try{const C=await wu(h,E);l(j=>j.map(T=>T.id===h?{...T,...C.data}:T)),fe.success("Feed updated successfully"),t(!1),s.resetFields()}catch{fe.error("Failed to update feed")}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{display:"flex",justifyContent:"center"},children:a.jsx(lt.Search,{className:"search-input",placeholder:"Search feed title or url",searchButton:!0,onChange:h=>c(Es(i).filter(E=>an(E.title,h)||an(E.feed_url,h)))})}),a.jsx(eo,{borderCell:!0,className:"feed-table",columns:g,data:f,pagePosition:"bottomCenter",scroll:{x:!0},size:"small"}),n&&a.jsx(Yr,{className:"edit-modal",onOk:s.submit,title:"Edit Feed",unmountOnExit:!0,visible:e,onCancel:()=>{t(!1),s.resetFields()},children:a.jsxs(we,{form:s,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:h=>{const E=h.url.trim(),C={url:h.url,title:h.title,categoryId:h.category,isFullText:h.crawler,hidden:h.hidden};E?b(n.key,C):fe.error("Feed URL cannot be empty")},children:[a.jsx(we.Item,{label:"Feed URL",field:"url",rules:[{required:!0}],children:a.jsx(lt,{placeholder:"Please input feed URL"})}),a.jsx(we.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(lt,{placeholder:"Please input feed title"})}),a.jsx(we.Item,{label:"Category",required:!0,field:"category",rules:[{required:!0}],children:a.jsx(Ae,{placeholder:"Please select",children:u.map(h=>a.jsx(Ae.Option,{value:h.id,children:h.title},h.id))})}),a.jsx(we.Item,{label:"Hidden",field:"hidden",initialValue:n.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(on,{})}),a.jsx(we.Item,{label:"Fetch original content",field:"crawler",tooltip:a.jsx("div",{children:"Only affects newly retrieved articles"}),style:{marginBottom:0},triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(on,{})})]})})]})},hd=()=>{const{updateConfig:e}=Gr(),t=ce(_e),{homePage:n,markReadOnScroll:r,orderBy:s,pageSize:i,showStatus:l}=t;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Default show status"}),a.jsx(q.Text,{type:"secondary",children:"Which status to show by default:"})]}),a.jsx("div",{children:a.jsxs(Ae,{className:"select-style",placeholder:"Select status",value:l,onChange:o=>e({showStatus:o}),children:[a.jsx(Ae.Option,{value:"all",children:"All"}),a.jsx(Ae.Option,{value:"unread",children:"Unread"})]})})]}),a.jsx(ot,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Default home page"}),a.jsx(q.Text,{type:"secondary",children:"Which page to show by default:"})]}),a.jsx("div",{children:a.jsxs(Ae,{onChange:o=>e({homePage:o}),placeholder:"Select page",style:{width:128,marginLeft:16},value:n,children:[a.jsx(Ae.Option,{value:"all",children:"All"}),a.jsx(Ae.Option,{value:"today",children:"Today"}),a.jsx(Ae.Option,{value:"starred",children:"Starred"}),a.jsx(Ae.Option,{value:"history",children:"History"})]})})]}),a.jsx(ot,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Entries order"}),a.jsx(q.Text,{type:"secondary",children:"What order to show entries:"})]}),a.jsx("div",{children:a.jsxs(Ae,{onChange:o=>e({orderBy:o}),placeholder:"Select order",style:{width:128,marginLeft:16},value:s,children:[a.jsx(Ae.Option,{value:"published_at",children:"Published at"}),a.jsx(Ae.Option,{value:"created_at",children:"Created at"})]})})]}),a.jsx(ot,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Entries per page"}),a.jsx(q.Text,{type:"secondary",children:"Show how many entries per page:"})]}),a.jsx("div",{children:a.jsx(Tc,{defaultValue:i,min:1,mode:"button",onChange:o=>e({pageSize:o}),size:"small",style:{width:128,marginLeft:16}})})]}),a.jsx(ot,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(q.Title,{heading:6,style:{marginTop:0},children:"Mark articles as read when scrolled off screen"}),a.jsx(q.Text,{type:"secondary",children:"Automatically mark articles as read when they are scrolled out of the visible screen area"})]}),a.jsx("div",{children:a.jsx(on,{checked:r,onChange:o=>e({markReadOnScroll:o})})})]})]})},md=[{title:"Key",dataIndex:"keyName",render:e=>a.jsx(Qn,{children:e})},{title:"Function",dataIndex:"description"}],pd=[{key:"1",keyName:"Esc",description:"Dismiss article"},{key:"2",keyName:"â†",description:"Previous article"},{key:"3",keyName:"â†’",description:"Next article"},{key:"4",keyName:"B",description:"Open link externally"},{key:"5",keyName:"D",description:"Fetch original article"},{key:"6",keyName:"M",description:"Mark as read / unread"},{key:"7",keyName:"S",description:"Star / Unstar"}],gd=()=>a.jsx(eo,{borderCell:!0,columns:md,data:pd,pagination:!1,size:"small",style:{margin:"0 auto",width:"80%"}}),vd=()=>a.jsxs(vn,{className:"custom-tabs",defaultActiveTab:"1",tabPosition:"top",children:[a.jsx(vn.TabPane,{title:a.jsxs("span",{children:[a.jsx(jc,{style:{marginRight:6}}),"Feeds"]}),children:a.jsx(fd,{})},"1"),a.jsx(vn.TabPane,{title:a.jsxs("span",{children:[a.jsx(_c,{style:{marginRight:6}}),"Categories"]}),children:a.jsx(dd,{})},"2"),a.jsx(vn.TabPane,{title:a.jsxs("span",{children:[a.jsx(Ac,{style:{marginRight:6}}),"General"]}),children:a.jsx(hd,{})},"3"),a.jsx(vn.TabPane,{title:a.jsxs("span",{children:[a.jsx(Ic,{style:{marginRight:6}}),"Appearance"]}),children:a.jsx(ud,{})},"4"),a.jsx(vn.TabPane,{title:a.jsxs("span",{children:[a.jsx(kc,{style:{marginRight:6}}),"Hotkeys"]}),children:a.jsx(gd,{})},"5")]}),yd=[{required:!0}],bd=[{required:!0}],xd=[{type:"boolean"}],wd=()=>{const e=je(n=>n.setVisible),t=je(n=>n.visible);return a.jsx(Yr,{className:"settings-modal",visible:t.settings,alignCenter:!1,title:"Settings",footer:null,unmountOnExit:!0,onCancel:()=>e("settings",!1),autoFocus:!1,focusLock:!0,children:a.jsx(vd,{})})},Ed=()=>{const e=ce(dr),t=je(c=>c.setVisible),n=je(c=>c.visible),[r,s]=v.useState(!1),[i]=we.useForm(),{loadData:l}=gi(),o=async(c,u,d)=>{s(!0),Su(c,u,d).then(()=>{l(),fe.success("Added a feed successfully"),t("addFeed",!1),i.resetFields()}).catch(()=>{fe.error("Failed to add a feed")}),s(!1)};return a.jsx(Yr,{title:"Add Feed",visible:n.addFeed,unmountOnExit:!0,style:{width:"400px"},onOk:i.submit,confirmLoading:r,onCancel:()=>{t("addFeed",!1),i.resetFields()},children:a.jsxs(we,{form:i,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:c=>{c.url.trim()?o(c.url.trim(),c.category,c.crawler):fe.error("Feed URL cannot be empty")},children:[a.jsx(we.Item,{label:"Feed URL",field:"url",rules:yd,children:a.jsx(lt,{placeholder:"Please input a feed URL"})}),a.jsx(we.Item,{label:"Category",required:!0,field:"category",rules:bd,children:a.jsx(Ae,{placeholder:"Please select a category",showSearch:!0,filterOption:(c,u)=>an(u.props.children,c),children:e.map(c=>a.jsx(Ae.Option,{value:c.id,children:c.title},c.id))})}),a.jsx(we.Item,{label:"Fetch original content",initialValue:!1,field:"crawler",style:{marginBottom:0},triggerPropName:"checked",rules:xd,children:a.jsx(on,{})})]})})},Cd=()=>a.jsxs("div",{className:"main",children:[a.jsx(Oc,{}),a.jsx(wd,{}),a.jsx(Ed,{})]}),zo=e=>{const t=new URL(e);return`${t.protocol}//${t.hostname}`},Dn=Ut.Item,{Sider:Sd}=Fc,Td=({category:e,isOpen:t,feedsGroupedById:n})=>{const r=ce(_e),{showAllFeeds:s}=r,i=ce(An);let{unreadCount:l}=e;return!s&&i&&(l=n[e.id].filter(o=>!i.includes(o.id)).reduce((o,c)=>o+c.unreadCount,0)),a.jsxs("div",{className:"category-title",children:[a.jsxs(q.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:l?"80%":"100%"},children:[t?a.jsx(Dc,{}):a.jsx(Lc,{}),e.title]}),l>0&&a.jsx(q.Ellipsis,{className:"unread-count",expandable:!1,children:l})]})},jd=()=>{const e=Mc(),t=ur(),n=je(_=>_.collapsed),r=ce(hi),s=ce(dr),i=ce(di),l=ce(_u),o=ce(Eo),c=ce(To),u=ce(Ao),d=ce(An),f=ce(Ro),p=je(_=>_.toggleCollapsed),[w,y]=v.useState([]),[g,b]=v.useState([]),h=ce(_e),{showAllFeeds:E,showFeedIcon:C}=h,j=e.pathname,T=(_,O)=>{b(O)},k=r.reduce((_,O)=>{if(!E&&d.includes(O.id))return _;ro(O.site_url)||(O.site_url=zo(O.feed_url));const{id:I}=O.category;return _[I]=_[I]||[],_[I].push(O),_},{});return v.useEffect(()=>{y([j]),n||window.innerWidth<=992&&p(!0)},[j]),v.useEffect(()=>{i||b([])},[i]),a.jsx(Sd,{breakpoint:"lg",className:"sidebar",collapsed:n,collapsedWidth:0,collapsible:!0,onCollapse:p,trigger:null,width:240,style:{borderRight:n?"none":"1px solid var(--color-border-2)",display:n?"none":"block"},children:a.jsxs(Ut,{autoScrollIntoView:!0,collapse:n,defaultSelectedKeys:[j],hasCollapseButton:!0,onClickSubMenu:T,onCollapseChange:p,selectedKeys:w,style:{width:"240px",height:"100%"},children:[a.jsxs("div",{className:"menu-header",style:{visibility:n?"hidden":"visible"},children:[a.jsx(Qa,{className:"avatar",size:32,children:a.jsx(so,{style:{color:"var(--color-bg-1)"}})}),a.jsx(q.Title,{heading:6,style:{margin:"0"},children:"ReactFlux"})]}),a.jsx(ot,{className:"divider"}),a.jsx(q.Title,{className:"section-title",heading:6,children:"Articles"}),a.jsx(Lr,{loading:!i,animation:!0,text:{rows:3}}),i?a.jsxs("div",{children:[a.jsx(Dn,{onClick:()=>t("/all"),children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(Rc,{}),"All"]}),a.jsx(q.Ellipsis,{className:"item-count",expandable:!1,children:l||""})]})},"/all"),a.jsx(Dn,{onClick:()=>t("/today"),children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(Pc,{}),"Today"]}),a.jsx(q.Ellipsis,{className:"item-count",expandable:!1,children:o||""})]})},"/today"),a.jsx(Dn,{onClick:()=>t("/starred"),children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(ai,{}),"Starred"]}),a.jsx(q.Ellipsis,{className:"item-count",expandable:!1,children:c||""})]})},"/starred"),a.jsx(Dn,{onClick:()=>t("/history"),children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(Nc,{}),"History"]}),a.jsx(q.Ellipsis,{className:"item-count",expandable:!1,children:u||""})]})},"/history")]}):null,a.jsx(q.Title,{className:"section-title",heading:6,children:"Feeds"}),a.jsx(Lr,{loading:!i,animation:!0,text:{rows:6}}),i?s.filter(_=>E||!f.includes(_.id)).map(_=>{var O;return a.jsx(Ut.SubMenu,{selectable:!0,title:a.jsx(Td,{category:_,isOpen:g.includes(`/category/${_.id}`),feedsGroupedById:k}),onClick:I=>{y([`/category/${_.id}`]),!(I.target.tagName==="svg"||I.target.tagName==="path")&&j!==`/category/${_.id}`&&t(`/category/${_.id}`)},children:(O=k[_.id])==null?void 0:O.map(I=>a.jsx(Dn,{onClick:N=>{N.stopPropagation(),y([`/category/${_.id}`]),t(`/feed/${I.id}`)},children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs(q.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:I.unreadCount!==0?"80%":"100%"},children:[C&&a.jsx("img",{src:`https://icons.duckduckgo.com/ip3/${new URL(I.site_url).hostname}.ico`,alt:"Icon",style:{marginRight:"8px",width:"16px",height:"16px",verticalAlign:"-2px"}}),I.title]}),I.unreadCount!==0&&a.jsx(q.Ellipsis,{className:"item-count",expandable:!1,children:I.unreadCount})]})},`/feed/${I.id}`))},`/category/${_.id}`)}):null]})})},_d=()=>{const e=ce(_e),{theme:t}=e,n=je(s=>s.isSysDarkMode),r=je(s=>s.setIsSysDarkMode);return v.useEffect(()=>{const s=l=>{r(l.matches)},i=window.matchMedia("(prefers-color-scheme: dark)");return i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}},[]),v.useEffect(()=>{(i=>{document.body.setAttribute("arco-theme",i?"dark":"light"),document.body.style.colorScheme=i?"dark":"light"})(t==="system"?n:t==="dark")},[n,t]),a.jsxs("div",{className:"app",children:[a.jsx(jd,{}),a.jsx(su,{}),a.jsx(Cd,{})]})};var fr={};(function e(t,n,r,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!t.OffscreenCanvas)return!1;var x=new OffscreenCanvas(1,1),m=x.getContext("2d");m.fillRect(0,0,1,1);var M=x.transferToImageBitmap();try{m.createPattern(M,"no-repeat")}catch{return!1}return!0}();function c(){}function u(x){var m=n.exports.Promise,M=m!==void 0?m:t.Promise;return typeof M=="function"?new M(x):(x(c,c),null)}var d=function(x,m){return{transform:function(M){if(x)return M;if(m.has(M))return m.get(M);var R=new OffscreenCanvas(M.width,M.height),D=R.getContext("2d");return D.drawImage(M,0,0),m.set(M,R),R},clear:function(){m.clear()}}}(o,new Map),f=function(){var x=Math.floor(16.666666666666668),m,M,R={},D=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function(V){var $=Math.random();return R[$]=requestAnimationFrame(function B(X){D===X||D+x-1<X?(D=X,delete R[$],V()):R[$]=requestAnimationFrame(B)}),$},M=function(V){R[V]&&cancelAnimationFrame(R[V])}):(m=function(V){return setTimeout(V,x)},M=function(V){return clearTimeout(V)}),{frame:m,cancel:M}}(),p=function(){var x,m,M={};function R(D){function V($,B){D.postMessage({options:$||{},callback:B})}D.init=function(B){var X=B.transferControlToOffscreen();D.postMessage({canvas:X},[X])},D.fire=function(B,X,J){if(m)return V(B,null),m;var G=Math.random().toString(36).slice(2);return m=u(function(oe){function U(H){H.data.callback===G&&(delete M[G],D.removeEventListener("message",U),m=null,d.clear(),J(),oe())}D.addEventListener("message",U),V(B,G),M[G]=U.bind(null,{data:{callback:G}})}),m},D.reset=function(){D.postMessage({reset:!0});for(var B in M)M[B](),delete M[B]}}return function(){if(x)return x;if(!r&&i){var D=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{x=new Worker(URL.createObjectURL(new Blob([D])))}catch(V){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",V),null}R(x)}return x}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function y(x,m){return m?m(x):x}function g(x){return x!=null}function b(x,m,M){return y(x&&g(x[m])?x[m]:w[m],M)}function h(x){return x<0?0:Math.floor(x)}function E(x,m){return Math.floor(Math.random()*(m-x))+x}function C(x){return parseInt(x,16)}function j(x){return x.map(T)}function T(x){var m=String(x).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:C(m.substring(0,2)),g:C(m.substring(2,4)),b:C(m.substring(4,6))}}function k(x){var m=b(x,"origin",Object);return m.x=b(m,"x",Number),m.y=b(m,"y",Number),m}function _(x){x.width=document.documentElement.clientWidth,x.height=document.documentElement.clientHeight}function O(x){var m=x.getBoundingClientRect();x.width=m.width,x.height=m.height}function I(x){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=x,m}function N(x,m,M,R,D,V,$,B,X){x.save(),x.translate(m,M),x.rotate(V),x.scale(R,D),x.arc(0,0,1,$,B,X),x.restore()}function z(x){var m=x.angle*(Math.PI/180),M=x.spread*(Math.PI/180);return{x:x.x,y:x.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:x.startVelocity*.5+Math.random()*x.startVelocity,angle2D:-m+(.5*M-Math.random()*M),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:x.color,shape:x.shape,tick:0,totalTicks:x.ticks,decay:x.decay,drift:x.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:x.gravity*3,ovalScalar:.6,scalar:x.scalar,flat:x.flat}}function ne(x,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.velocity*=m.decay,m.flat?(m.wobble=0,m.wobbleX=m.x+10*m.scalar,m.wobbleY=m.y+10*m.scalar,m.tiltSin=0,m.tiltCos=0,m.random=1):(m.wobble+=m.wobbleSpeed,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble),m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2);var M=m.tick++/m.totalTicks,R=m.x+m.random*m.tiltCos,D=m.y+m.random*m.tiltSin,V=m.wobbleX+m.random*m.tiltCos,$=m.wobbleY+m.random*m.tiltSin;if(x.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-M)+")",x.beginPath(),l&&m.shape.type==="path"&&typeof m.shape.path=="string"&&Array.isArray(m.shape.matrix))x.fill(Re(m.shape.path,m.shape.matrix,m.x,m.y,Math.abs(V-R)*.1,Math.abs($-D)*.1,Math.PI/10*m.wobble));else if(m.shape.type==="bitmap"){var B=Math.PI/10*m.wobble,X=Math.abs(V-R)*.1,J=Math.abs($-D)*.1,G=m.shape.bitmap.width*m.scalar,oe=m.shape.bitmap.height*m.scalar,U=new DOMMatrix([Math.cos(B)*X,Math.sin(B)*X,-Math.sin(B)*J,Math.cos(B)*J,m.x,m.y]);U.multiplySelf(new DOMMatrix(m.shape.matrix));var H=x.createPattern(d.transform(m.shape.bitmap),"no-repeat");H.setTransform(U),x.globalAlpha=1-M,x.fillStyle=H,x.fillRect(m.x-G/2,m.y-oe/2,G,oe),x.globalAlpha=1}else if(m.shape==="circle")x.ellipse?x.ellipse(m.x,m.y,Math.abs(V-R)*m.ovalScalar,Math.abs($-D)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):N(x,m.x,m.y,Math.abs(V-R)*m.ovalScalar,Math.abs($-D)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var F=Math.PI/2*3,P=4*m.scalar,de=8*m.scalar,L=m.x,W=m.y,ae=5,ee=Math.PI/ae;ae--;)L=m.x+Math.cos(F)*de,W=m.y+Math.sin(F)*de,x.lineTo(L,W),F+=ee,L=m.x+Math.cos(F)*P,W=m.y+Math.sin(F)*P,x.lineTo(L,W),F+=ee;else x.moveTo(Math.floor(m.x),Math.floor(m.y)),x.lineTo(Math.floor(m.wobbleX),Math.floor(D)),x.lineTo(Math.floor(V),Math.floor($)),x.lineTo(Math.floor(R),Math.floor(m.wobbleY));return x.closePath(),x.fill(),m.tick<m.totalTicks}function Q(x,m,M,R,D){var V=m.slice(),$=x.getContext("2d"),B,X,J=u(function(G){function oe(){B=X=null,$.clearRect(0,0,R.width,R.height),d.clear(),D(),G()}function U(){r&&!(R.width===s.width&&R.height===s.height)&&(R.width=x.width=s.width,R.height=x.height=s.height),!R.width&&!R.height&&(M(x),R.width=x.width,R.height=x.height),$.clearRect(0,0,R.width,R.height),V=V.filter(function(H){return ne($,H)}),V.length?B=f.frame(U):oe()}B=f.frame(U),X=oe});return{addFettis:function(G){return V=V.concat(G),J},canvas:x,promise:J,reset:function(){B&&f.cancel(B),X&&X()}}}function Z(x,m){var M=!x,R=!!b(m||{},"resize"),D=!1,V=b(m,"disableForReducedMotion",Boolean),$=i&&!!b(m||{},"useWorker"),B=$?p():null,X=M?_:O,J=x&&B?!!x.__confetti_initialized:!1,G=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,oe;function U(F,P,de){for(var L=b(F,"particleCount",h),W=b(F,"angle",Number),ae=b(F,"spread",Number),ee=b(F,"startVelocity",Number),Ve=b(F,"decay",Number),Ge=b(F,"gravity",Number),Ue=b(F,"drift",Number),Ee=b(F,"colors",j),Ie=b(F,"ticks",Number),Pe=b(F,"shapes"),Be=b(F,"scalar"),ze=!!b(F,"flat"),Mt=k(F),Gt=L,Rt=[],cn=x.width*Mt.x,Ne=x.height*Mt.y;Gt--;)Rt.push(z({x:cn,y:Ne,angle:W,spread:ae,startVelocity:ee,color:Ee[Gt%Ee.length],shape:Pe[E(0,Pe.length)],ticks:Ie,decay:Ve,gravity:Ge,drift:Ue,scalar:Be,flat:ze}));return oe?oe.addFettis(Rt):(oe=Q(x,Rt,X,P,de),oe.promise)}function H(F){var P=V||b(F,"disableForReducedMotion",Boolean),de=b(F,"zIndex",Number);if(P&&G)return u(function(ee){ee()});M&&oe?x=oe.canvas:M&&!x&&(x=I(de),document.body.appendChild(x)),R&&!J&&X(x);var L={width:x.width,height:x.height};B&&!J&&B.init(x),J=!0,B&&(x.__confetti_initialized=!0);function W(){if(B){var ee={getBoundingClientRect:function(){if(!M)return x.getBoundingClientRect()}};X(ee),B.postMessage({resize:{width:ee.width,height:ee.height}});return}L.width=L.height=null}function ae(){oe=null,R&&(D=!1,t.removeEventListener("resize",W)),M&&x&&(document.body.removeChild(x),x=null,J=!1)}return R&&!D&&(D=!0,t.addEventListener("resize",W,!1)),B?B.fire(F,L,ae):U(F,L,ae)}return H.reset=function(){B&&B.reset(),oe&&oe.reset()},H}var me;function ve(){return me||(me=Z(null,{useWorker:!0,resize:!0})),me}function Re(x,m,M,R,D,V,$){var B=new Path2D(x),X=new Path2D;X.addPath(B,new DOMMatrix(m));var J=new Path2D;return J.addPath(X,new DOMMatrix([Math.cos($)*D,Math.sin($)*D,-Math.sin($)*V,Math.cos($)*V,M,R])),J}function be(x){if(!l)throw new Error("path confetti are not supported in this browser");var m,M;typeof x=="string"?m=x:(m=x.path,M=x.matrix);var R=new Path2D(m),D=document.createElement("canvas"),V=D.getContext("2d");if(!M){for(var $=1e3,B=$,X=$,J=0,G=0,oe,U,H=0;H<$;H+=2)for(var F=0;F<$;F+=2)V.isPointInPath(R,H,F,"nonzero")&&(B=Math.min(B,H),X=Math.min(X,F),J=Math.max(J,H),G=Math.max(G,F));oe=J-B,U=G-X;var P=10,de=Math.min(P/oe,P/U);M=[de,0,0,de,-Math.round(oe/2+B)*de,-Math.round(U/2+X)*de]}return{type:"path",path:m,matrix:M}}function tt(x){var m,M=1,R="#000000",D='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof x=="string"?m=x:(m=x.text,M="scalar"in x?x.scalar:M,D="fontFamily"in x?x.fontFamily:D,R="color"in x?x.color:R);var V=10*M,$=""+V+"px "+D,B=new OffscreenCanvas(V,V),X=B.getContext("2d");X.font=$;var J=X.measureText(m),G=Math.ceil(J.actualBoundingBoxRight+J.actualBoundingBoxLeft),oe=Math.ceil(J.actualBoundingBoxAscent+J.actualBoundingBoxDescent),U=2,H=J.actualBoundingBoxLeft+U,F=J.actualBoundingBoxAscent+U;G+=U+U,oe+=U+U,B=new OffscreenCanvas(G,oe),X=B.getContext("2d"),X.font=$,X.fillStyle=R,X.fillText(m,H,F);var P=1/M;return{type:"bitmap",bitmap:B.transferToImageBitmap(),matrix:[P,0,0,P,-G*P/2,-oe*P/2]}}n.exports=function(){return ve().apply(this,arguments)},n.exports.reset=function(){ve().reset()},n.exports.create=Z,n.exports.shapeFromPath=be,n.exports.shapeFromText=tt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),fr,!1);const Ad=fr.exports;fr.exports.create;const xt=v.createContext(null),kn=({children:e})=>{const[t,n]=v.useState(0),[r,s]=v.useState(0),[i,l]=v.useState(0),[o,c]=v.useState(0),[u,d]=v.useState(!1),[f,p]=v.useState(!1),[w,y]=v.useState([]),[g,b]=v.useState([]),[h,E]=v.useState([]),[C,j]=v.useState(yt("showStatus")),[T,k]=v.useState("0"),[_,O]=v.useState(""),[I,N]=v.useState(!0),[z,ne]=v.useState(!1),Q=v.useRef(null),Z=v.useMemo(()=>({entries:w,entryDetailRef:Q,filteredEntries:h,filterStatus:C,filterString:_,filterType:T,isArticleFocused:z,loading:I,loadMoreUnreadVisible:f,loadMoreVisible:u,offset:i,setEntries:y,setFilteredEntries:E,setFilterStatus:j,setFilterString:O,setFilterType:k,setIsArticleFocused:ne,setLoading:N,setLoadMoreUnreadVisible:p,setLoadMoreVisible:d,setOffset:l,setTotal:n,setUnreadCount:s,setUnreadEntries:b,setUnreadOffset:c,total:t,unreadCount:r,unreadEntries:g,unreadOffset:o}),[w,h,C,_,T,z,I,f,u,i,t,r,g,o]);return a.jsx(xt.Provider,{value:Z,children:e})},vi=()=>{const e=vt(fi),t=vt(Eo),n=vt(Ao),r=vt(To),s=je(b=>b.activeContent),i=je(b=>b.setActiveContent),{setEntries:l,setFilteredEntries:o,setUnreadCount:c,setUnreadEntries:u}=v.useContext(xt),d=(b,h)=>b.map(E=>E.id===h.id?h:E),f=(b,h)=>{const E=b.feed.id,C=ou(b.published_at);h==="read"?(e(T=>({...T,[E]:Math.max(0,T[E]-1)})),c(T=>Math.max(0,T-1)),n(T=>T+1),C&&t(T=>Math.max(0,T-1))):(e(T=>({...T,[E]:T[E]+1})),c(T=>T+1),n(T=>Math.max(0,T-1)),C&&t(T=>T+1));const j={...b,status:h};s&&i(j),l(T=>d(T,j)),u(T=>d(T,j)),o(T=>d(T,j))},p=(b,h)=>{h?(r(C=>C+1),Ad({particleCount:100,angle:120,spread:70,origin:{x:1,y:1}})):r(C=>Math.max(0,C-1));const E={...b,starred:h};s&&i(E),l(C=>d(C,E)),u(C=>d(C,E)),o(C=>d(C,E))};return{handleEntryStatusUpdate:f,handleFetchContent:async()=>{hu(s.id).then(b=>{fe.success("Fetched content successfully"),i({...s,content:b.data.content})}).catch(()=>{fe.error("Failed to fetch content, please try again later")})},handleToggleStarred:async b=>{const h=!b.starred;p(b,h),fu(b.id).catch(()=>{fe.error(`Failed to ${h?"star":"unstar"} entry, please try again later`),p(b,!h)})},handleToggleStatus:async b=>{const h=b.status,E=h==="read"?"unread":"read";f(b,E),ui([b.id],E).catch(()=>{fe.error(`Failed to mark entry as ${E}, please try again later`),f(b,h)})}}},ra=(e,t="start")=>{const n=document.querySelector(e);n&&n.scrollIntoView({behavior:"smooth",block:t})},yi=()=>{const e=ce(_e),{pageSize:t,showAllFeeds:n}=e,r=ce(An),{entries:s,filterStatus:i,filterString:l,filterType:o,offset:c,setEntries:u,setFilteredEntries:d,setLoadMoreUnreadVisible:f,setLoadMoreVisible:p,setOffset:w,setUnreadEntries:y,setUnreadOffset:g,total:b,unreadCount:h,unreadEntries:E,unreadOffset:C}=v.useContext(xt),[j,T]=v.useState(!1),k=z=>{var me;const Z=(me=new DOMParser().parseFromString(z.content,"text/html").querySelector("img"))==null?void 0:me.getAttribute("src");return{...z,imgSrc:Z}},_=()=>{i==="all"?w(z=>z+t):g(z=>z+t)},O=z=>{const ne=new Map([...(i==="all"?s:E).map(Z=>[Z.id,Z]),...z.map(Z=>[Z.id,Z])]),Q=Array.from(ne.values());return i==="all"?(u(Q),p(Q.length<b)):(y(Q),f(Q.length<h)),Q},I=(z,ne)=>{const Q=l?Bo(z,o,i,l):z;return Ur(Q,ne,n,r)};return{parseFirstImage:k,handleLoadMore:async(z,ne)=>{var Q;T(!0);try{let Z;if(i==="all"?Z=await ne(c+t):Z=await ne(C+t,i),(Q=Z==null?void 0:Z.data)!=null&&Q.entries){_();const me=Z.data.entries.map(k),ve=O(me),Re=I(ve,z);d(Re)}}catch(Z){console.error("Error fetching more articles:",Z)}T(!1)},loadingMore:j}},$o=(e,t,n)=>{const{entryDetailRef:r,filteredEntries:s,filterStatus:i,loadMoreUnreadVisible:l,loadMoreVisible:o}=v.useContext(xt),c=je(_=>_.activeContent),u=je(_=>_.setActiveContent),{handleLoadMore:d}=yi(),[f,p]=v.useState(!1),[w,y]=v.useState(!1),{isMobileView:g}=Zr();v.useEffect(()=>{const _=document.querySelector(".entry-list");!_||!g||(c?_.style.visibility="hidden":_.style.visibility="visible")},[c,g]),v.useEffect(()=>{w&&!f&&(E(e),y(!1))},[f,w]);const b=_=>{c&&(u(null),_.current&&(_.current.setAttribute("tabIndex","-1"),_.current.focus()),r.current&&r.current.scrollTo(0,0))},h=()=>{const _=s.findIndex(O=>O.id===(c==null?void 0:c.id));if(_>0){const O=s[_-1];t(O),ra(".card-custom-selected-style","end")}},E=_=>{if(f)return;const O=s.findIndex(N=>N.id===(c==null?void 0:c.id));if(O===s.length-1&&(i==="all"&&o||l)){p(!0),d(_,n).then(()=>y(!0)).finally(()=>p(!1));return}if(O===-1){const N=document.querySelector(".entry-list");N&&N.scrollTo(0,0)}if(O<s.length-1){const N=s[O+1];t(N),y(!1),ra(".card-custom-selected-style")}};return{handleEscapeKey:b,handleLeftKey:h,handleRightKey:E,handleBKey:()=>{c&&window.open(c.url,"_blank")},handleDKey:_=>{c&&_()},handleMKey:_=>{c&&_()},handleSKey:_=>{c&&_()}}};var Ho={},bi={},xi={};Object.defineProperty(xi,"__esModule",{value:!0});var sa="html",ia="head",Er="body",Id=/<([a-zA-Z]+[0-9]?)/,aa=/<head[^]*>/i,oa=/<body[^]*>/i,Br=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Us=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},la=typeof window=="object"&&window.DOMParser;if(typeof la=="function"){var kd=new la,Od="text/html";Us=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),kd.parseFromString(e,Od)},Br=Us}if(typeof document=="object"&&document.implementation){var Cr=document.implementation.createHTMLDocument();Br=function(e,t){if(t){var n=Cr.documentElement.querySelector(t);return n&&(n.innerHTML=e),Cr}return Cr.documentElement.innerHTML=e,Cr}}var Sr=typeof document=="object"&&document.createElement("template"),Bs;Sr&&Sr.content&&(Bs=function(e){return Sr.innerHTML=e,Sr.content.childNodes});function Md(e){var t,n,r=e.match(Id),s=r&&r[1]?r[1].toLowerCase():"";switch(s){case sa:{var i=Us(e);if(!aa.test(e)){var l=i.querySelector(ia);(t=l==null?void 0:l.parentNode)===null||t===void 0||t.removeChild(l)}if(!oa.test(e)){var l=i.querySelector(Er);(n=l==null?void 0:l.parentNode)===null||n===void 0||n.removeChild(l)}return i.querySelectorAll(sa)}case ia:case Er:{var o=Br(e).querySelectorAll(s);return oa.test(e)&&aa.test(e)?o[0].parentNode.childNodes:o}default:{if(Bs)return Bs(e);var l=Br(e,Er).querySelector(Er);return l.childNodes}}}xi.default=Md;var Sn={},Wo={},hr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(hr);var se={},qt=pe&&pe.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$n=pe&&pe.__assign||function(){return $n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$n.apply(this,arguments)};Object.defineProperty(se,"__esModule",{value:!0});se.cloneNode=se.hasChildren=se.isDocument=se.isDirective=se.isComment=se.isText=se.isCDATA=se.isTag=se.Element=se.Document=se.CDATA=se.NodeWithChildren=se.ProcessingInstruction=se.Comment=se.Text=se.DataNode=se.Node=void 0;var We=hr,wi=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),Ei(this,t)},e}();se.Node=wi;var Jr=function(e){qt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(wi);se.DataNode=Jr;var qo=function(e){qt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=We.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Jr);se.Text=qo;var Xo=function(e){qt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=We.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Jr);se.Comment=Xo;var Yo=function(e){qt(t,e);function t(n,r){var s=e.call(this,r)||this;return s.name=n,s.type=We.ElementType.Directive,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Jr);se.ProcessingInstruction=Yo;var es=function(e){qt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(wi);se.NodeWithChildren=es;var Go=function(e){qt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=We.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(es);se.CDATA=Go;var Ko=function(e){qt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=We.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(es);se.Document=Ko;var Qo=function(e){qt(t,e);function t(n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=n==="script"?We.ElementType.Script:n==="style"?We.ElementType.Style:We.ElementType.Tag);var l=e.call(this,s)||this;return l.name=n,l.attribs=r,l.type=i,l}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,i;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(i=n["x-attribsPrefix"])===null||i===void 0?void 0:i[r]}})},enumerable:!1,configurable:!0}),t}(es);se.Element=Qo;function Zo(e){return(0,We.isTag)(e)}se.isTag=Zo;function Jo(e){return e.type===We.ElementType.CDATA}se.isCDATA=Jo;function el(e){return e.type===We.ElementType.Text}se.isText=el;function tl(e){return e.type===We.ElementType.Comment}se.isComment=tl;function nl(e){return e.type===We.ElementType.Directive}se.isDirective=nl;function rl(e){return e.type===We.ElementType.Root}se.isDocument=rl;function Rd(e){return Object.prototype.hasOwnProperty.call(e,"children")}se.hasChildren=Rd;function Ei(e,t){t===void 0&&(t=!1);var n;if(el(e))n=new qo(e.data);else if(tl(e))n=new Xo(e.data);else if(Zo(e)){var r=t?Cs(e.children):[],s=new Qo(e.name,$n({},e.attribs),r);r.forEach(function(c){return c.parent=s}),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]=$n({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]=$n({},e["x-attribsPrefix"])),n=s}else if(Jo(e)){var r=t?Cs(e.children):[],i=new Go(r);r.forEach(function(u){return u.parent=i}),n=i}else if(rl(e)){var r=t?Cs(e.children):[],l=new Ko(r);r.forEach(function(u){return u.parent=l}),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else if(nl(e)){var o=new Yo(e.name,e.data);e["x-name"]!=null&&(o["x-name"]=e["x-name"],o["x-publicId"]=e["x-publicId"],o["x-systemId"]=e["x-systemId"]),n=o}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}se.cloneNode=Ei;function Cs(e){for(var t=e.map(function(r){return Ei(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=pe&&pe.__createBinding||(Object.create?function(o,c,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(c,u);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(o,d,f)}:function(o,c,u,d){d===void 0&&(d=u),o[d]=c[u]}),n=pe&&pe.__exportStar||function(o,c){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=hr,s=se;n(se,e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function o(c,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=i),typeof c=="object"&&(u=c,c=void 0),this.callback=c??null,this.options=u??i,this.elementCB=d??null}return o.prototype.onparserinit=function(c){this.parser=c},o.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(c){this.handleCallback(c)},o.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},o.prototype.onopentag=function(c,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,f=new s.Element(c,u,void 0,d);this.addNode(f),this.tagStack.push(f)},o.prototype.ontext=function(c){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=c,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(c);this.addNode(d),this.lastNode=d}},o.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=c;return}var u=new s.Comment(c);this.addNode(u),this.lastNode=u},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var c=new s.Text(""),u=new s.CDATA([c]);this.addNode(u),c.parent=u,this.lastNode=c},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(c,u){var d=new s.ProcessingInstruction(c,u);this.addNode(d)},o.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},o.prototype.addNode=function(c){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),u.children.push(c),d&&(c.prev=d,d.next=c),c.parent=u,this.lastNode=null},o}();e.DomHandler=l,e.default=l})(Wo);var sl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(sl);Object.defineProperty(Sn,"__esModule",{value:!0});Sn.formatDOM=Sn.formatAttributes=void 0;var Tr=Wo,Pd=sl;function Nd(e){return Pd.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function il(e){for(var t={},n=0,r=e.length;n<r;n++){var s=e[n];t[s.name]=s.value}return t}Sn.formatAttributes=il;function Fd(e){e=e.toLowerCase();var t=Nd(e);return t||e}function al(e,t,n){t===void 0&&(t=null);for(var r=[],s,i=0,l=e.length;i<l;i++){var o=e[i];switch(o.nodeType){case 1:{var c=Fd(o.nodeName);s=new Tr.Element(c,il(o.attributes)),s.children=al(c==="template"?o.content.childNodes:o.childNodes,s);break}case 3:s=new Tr.Text(o.nodeValue);break;case 8:s=new Tr.Comment(o.nodeValue);break;default:continue}var u=r[i-1]||null;u&&(u.next=s),s.parent=t,s.prev=u,s.next=null,r.push(s)}return n&&(s=new Tr.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),s.next=r[0]||null,s.parent=t,r.unshift(s),r[1]&&(r[1].prev=r[0])),r}Sn.formatDOM=al;var Dd=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bi,"__esModule",{value:!0});var Ld=Dd(xi),Vd=Sn,Ud=/<(![a-zA-Z\s]+)>/;function Bd(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(Ud),n=t?t[1]:void 0;return(0,Vd.formatDOM)((0,Ld.default)(e),null,n)}bi.default=Bd;var ts={},dt={},ns={},zd=0;ns.SAME=zd;var $d=1;ns.CAMELCASE=$d;ns.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const ol=0,Xt=1,rs=2,ss=3,Ci=4,ll=5,cl=6;function Hd(e){return Oe.hasOwnProperty(e)?Oe[e]:null}function Le(e,t,n,r,s,i,l){this.acceptsBooleans=t===rs||t===ss||t===Ci,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}const Oe={},Wd=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Wd.forEach(e=>{Oe[e]=new Le(e,ol,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{Oe[e]=new Le(e,Xt,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{Oe[e]=new Le(e,rs,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{Oe[e]=new Le(e,rs,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{Oe[e]=new Le(e,ss,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{Oe[e]=new Le(e,ss,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{Oe[e]=new Le(e,Ci,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{Oe[e]=new Le(e,cl,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{Oe[e]=new Le(e,ll,!1,e.toLowerCase(),null,!1,!1)});const Si=/[\-\:]([a-z])/g,Ti=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(Si,Ti);Oe[t]=new Le(t,Xt,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(Si,Ti);Oe[t]=new Le(t,Xt,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(Si,Ti);Oe[t]=new Le(t,Xt,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{Oe[e]=new Le(e,Xt,!1,e.toLowerCase(),null,!1,!1)});const qd="xlinkHref";Oe[qd]=new Le("xlinkHref",Xt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{Oe[e]=new Le(e,Xt,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:Xd,SAME:Yd,possibleStandardNames:ca}=ns,Gd=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Kd=Gd+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Qd=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+Kd+"]*$")),Zd=Object.keys(ca).reduce((e,t)=>{const n=ca[t];return n===Yd?e[t]=t:n===Xd?e[t.toLowerCase()]=t:e[t]=n,e},{});dt.BOOLEAN=ss;dt.BOOLEANISH_STRING=rs;dt.NUMERIC=ll;dt.OVERLOADED_BOOLEAN=Ci;dt.POSITIVE_NUMERIC=cl;dt.RESERVED=ol;dt.STRING=Xt;dt.getPropertyInfo=Hd;dt.isCustomAttribute=Qd;dt.possibleStandardNames=Zd;var ji={},_i={},ua=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Jd=/\n/g,ef=/^\s*/,tf=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,nf=/^:\s*/,rf=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,sf=/^[;\s]*/,af=/^\s+|\s+$/g,of=`
`,da="/",fa="*",nn="",lf="comment",cf="declaration",uf=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(y){var g=y.match(Jd);g&&(n+=g.length);var b=y.lastIndexOf(of);r=~b?y.length-b:r+y.length}function i(){var y={line:n,column:r};return function(g){return g.position=new l(y),u(),g}}function l(y){this.start=y,this.end={line:n,column:r},this.source=t.source}l.prototype.content=e;function o(y){var g=new Error(t.source+":"+n+":"+r+": "+y);if(g.reason=y,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function c(y){var g=y.exec(e);if(g){var b=g[0];return s(b),e=e.slice(b.length),g}}function u(){c(ef)}function d(y){var g;for(y=y||[];g=f();)g!==!1&&y.push(g);return y}function f(){var y=i();if(!(da!=e.charAt(0)||fa!=e.charAt(1))){for(var g=2;nn!=e.charAt(g)&&(fa!=e.charAt(g)||da!=e.charAt(g+1));)++g;if(g+=2,nn===e.charAt(g-1))return o("End of comment missing");var b=e.slice(2,g-2);return r+=2,s(b),e=e.slice(g),r+=2,y({type:lf,comment:b})}}function p(){var y=i(),g=c(tf);if(g){if(f(),!c(nf))return o("property missing ':'");var b=c(rf),h=y({type:cf,property:ha(g[0].replace(ua,nn)),value:b?ha(b[0].replace(ua,nn)):nn});return c(sf),h}}function w(){var y=[];d(y);for(var g;g=p();)g!==!1&&(y.push(g),d(y));return y}return u(),w()};function ha(e){return e?e.replace(af,nn):nn}var df=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_i,"__esModule",{value:!0});var ff=df(uf);function hf(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,ff.default)(e),s=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var l=i.property,o=i.value;s?t(l,o,i):o&&(n=n||{},n[l]=o)}}),n}_i.default=hf;var is={};Object.defineProperty(is,"__esModule",{value:!0});is.camelCase=void 0;var mf=/^--[a-zA-Z0-9-]+$/,pf=/-([a-z])/g,gf=/^[^-]+$/,vf=/^-(webkit|moz|ms|o|khtml)-/,yf=/^-(ms)-/,bf=function(e){return!e||gf.test(e)||mf.test(e)},xf=function(e,t){return t.toUpperCase()},ma=function(e,t){return"".concat(t,"-")},wf=function(e,t){return t===void 0&&(t={}),bf(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(yf,ma):e=e.replace(vf,ma),e.replace(pf,xf))};is.camelCase=wf;var Ef=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Cf=Ef(_i),Sf=is;function zs(e,t){var n={};return!e||typeof e!="string"||(0,Cf.default)(e,function(r,s){r&&s&&(n[(0,Sf.camelCase)(r,t)]=s)}),n}zs.default=zs;var Tf=zs;(function(e){var t=pe&&pe.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var n=v,r=t(Tf),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function i(d,f){return d.includes("-")?!s.has(d):!!(f&&typeof f.is=="string")}e.isCustomComponent=i;var l={reactCompat:!0};function o(d,f){if(typeof d=="string"){if(!d.trim()){f.style={};return}try{f.style=(0,r.default)(d,l)}catch{f.style={}}}}e.setStyleProp=o,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var c=function(d){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};e.canTextBeChildOfNode=c;var u=function(d){return d};e.returnFirstArg=u})(ji);Object.defineProperty(ts,"__esModule",{value:!0});var Bn=dt,pa=ji,jf=["checked","value"],_f=["input","select","textarea"],Af={reset:!0,submit:!0};function If(e,t){e===void 0&&(e={});var n={},r=!!(e.type&&Af[e.type]);for(var s in e){var i=e[s];if((0,Bn.isCustomAttribute)(s)){n[s]=i;continue}var l=s.toLowerCase(),o=ga(l);if(o){var c=(0,Bn.getPropertyInfo)(o);switch(jf.includes(o)&&_f.includes(t)&&!r&&(o=ga("default"+l)),n[o]=i,c&&c.type){case Bn.BOOLEAN:n[o]=!0;break;case Bn.OVERLOADED_BOOLEAN:i===""&&(n[o]=!0);break}continue}pa.PRESERVE_CUSTOM_ATTRIBUTES&&(n[s]=i)}return(0,pa.setStyleProp)(e.style,n),n}ts.default=If;function ga(e){return Bn.possibleStandardNames[e]}var Ai={},kf=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ai,"__esModule",{value:!0});var Ss=v,Of=kf(ts),Hn=ji,Mf={cloneElement:Ss.cloneElement,createElement:Ss.createElement,isValidElement:Ss.isValidElement};function ul(e,t){t===void 0&&(t={});for(var n=[],r=typeof t.replace=="function",s=t.transform||Hn.returnFirstArg,i=t.library||Mf,l=i.cloneElement,o=i.createElement,c=i.isValidElement,u=e.length,d=0;d<u;d++){var f=e[d];if(r){var p=t.replace(f,d);if(c(p)){u>1&&(p=l(p,{key:p.key||d})),n.push(s(p,f,d));continue}}if(f.type==="text"){var w=!f.data.trim().length;if(w&&f.parent&&!(0,Hn.canTextBeChildOfNode)(f.parent)||t.trim&&w)continue;n.push(s(f.data,f,d));continue}var y=f,g={};Rf(y)?((0,Hn.setStyleProp)(y.attribs.style,y.attribs),g=y.attribs):y.attribs&&(g=(0,Of.default)(y.attribs,y.name));var b=void 0;switch(f.type){case"script":case"style":f.children[0]&&(g.dangerouslySetInnerHTML={__html:f.children[0].data});break;case"tag":f.name==="textarea"&&f.children[0]?g.defaultValue=f.children[0].data:f.children&&f.children.length&&(b=ul(f.children,t));break;default:continue}u>1&&(g.key=d),n.push(s(o(f.name,g,b),f,d))}return n.length===1?n[0]:n}Ai.default=ul;function Rf(e){return Hn.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,Hn.isCustomComponent)(e.name,e.attribs)}var dl={},ie={},Yt=pe&&pe.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wn=pe&&pe.__assign||function(){return Wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Wn.apply(this,arguments)};Object.defineProperty(ie,"__esModule",{value:!0});ie.cloneNode=ie.hasChildren=ie.isDocument=ie.isDirective=ie.isComment=ie.isText=ie.isCDATA=ie.isTag=ie.Element=ie.Document=ie.CDATA=ie.NodeWithChildren=ie.ProcessingInstruction=ie.Comment=ie.Text=ie.DataNode=ie.Node=void 0;var qe=hr,Ii=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),ki(this,t)},e}();ie.Node=Ii;var as=function(e){Yt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(Ii);ie.DataNode=as;var fl=function(e){Yt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=qe.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(as);ie.Text=fl;var hl=function(e){Yt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=qe.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(as);ie.Comment=hl;var ml=function(e){Yt(t,e);function t(n,r){var s=e.call(this,r)||this;return s.name=n,s.type=qe.ElementType.Directive,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(as);ie.ProcessingInstruction=ml;var os=function(e){Yt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(Ii);ie.NodeWithChildren=os;var pl=function(e){Yt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=qe.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(os);ie.CDATA=pl;var gl=function(e){Yt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=qe.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(os);ie.Document=gl;var vl=function(e){Yt(t,e);function t(n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=n==="script"?qe.ElementType.Script:n==="style"?qe.ElementType.Style:qe.ElementType.Tag);var l=e.call(this,s)||this;return l.name=n,l.attribs=r,l.type=i,l}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,i;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(i=n["x-attribsPrefix"])===null||i===void 0?void 0:i[r]}})},enumerable:!1,configurable:!0}),t}(os);ie.Element=vl;function yl(e){return(0,qe.isTag)(e)}ie.isTag=yl;function bl(e){return e.type===qe.ElementType.CDATA}ie.isCDATA=bl;function xl(e){return e.type===qe.ElementType.Text}ie.isText=xl;function wl(e){return e.type===qe.ElementType.Comment}ie.isComment=wl;function El(e){return e.type===qe.ElementType.Directive}ie.isDirective=El;function Cl(e){return e.type===qe.ElementType.Root}ie.isDocument=Cl;function Pf(e){return Object.prototype.hasOwnProperty.call(e,"children")}ie.hasChildren=Pf;function ki(e,t){t===void 0&&(t=!1);var n;if(xl(e))n=new fl(e.data);else if(wl(e))n=new hl(e.data);else if(yl(e)){var r=t?Ts(e.children):[],s=new vl(e.name,Wn({},e.attribs),r);r.forEach(function(c){return c.parent=s}),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]=Wn({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]=Wn({},e["x-attribsPrefix"])),n=s}else if(bl(e)){var r=t?Ts(e.children):[],i=new pl(r);r.forEach(function(u){return u.parent=i}),n=i}else if(Cl(e)){var r=t?Ts(e.children):[],l=new gl(r);r.forEach(function(u){return u.parent=l}),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else if(El(e)){var o=new ml(e.name,e.data);e["x-name"]!=null&&(o["x-name"]=e["x-name"],o["x-publicId"]=e["x-publicId"],o["x-systemId"]=e["x-systemId"]),n=o}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}ie.cloneNode=ki;function Ts(e){for(var t=e.map(function(r){return ki(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=pe&&pe.__createBinding||(Object.create?function(o,c,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(c,u);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(o,d,f)}:function(o,c,u,d){d===void 0&&(d=u),o[d]=c[u]}),n=pe&&pe.__exportStar||function(o,c){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=hr,s=ie;n(ie,e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function o(c,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=i),typeof c=="object"&&(u=c,c=void 0),this.callback=c??null,this.options=u??i,this.elementCB=d??null}return o.prototype.onparserinit=function(c){this.parser=c},o.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(c){this.handleCallback(c)},o.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},o.prototype.onopentag=function(c,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,f=new s.Element(c,u,void 0,d);this.addNode(f),this.tagStack.push(f)},o.prototype.ontext=function(c){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=c,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(c);this.addNode(d),this.lastNode=d}},o.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=c;return}var u=new s.Comment(c);this.addNode(u),this.lastNode=u},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var c=new s.Text(""),u=new s.CDATA([c]);this.addNode(u),c.parent=u,this.lastNode=c},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(c,u){var d=new s.ProcessingInstruction(c,u);this.addNode(d)},o.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},o.prototype.addNode=function(c){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),u.children.push(c),d&&(c.prev=d,d.next=c),c.parent=u,this.lastNode=null},o}();e.DomHandler=l,e.default=l})(dl);(function(e){var t=pe&&pe.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var n=t(bi);e.htmlToDOM=n.default;var r=t(ts);e.attributesToProps=r.default;var s=t(Ai);e.domToReact=s.default;var i=dl;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return i.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return i.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return i.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return i.Text}});var l={lowerCaseAttributeNames:!1};function o(c,u){if(typeof c!="string")throw new TypeError("First argument must be a string");return c?(0,s.default)((0,n.default)(c,(u==null?void 0:u.htmlparser2)||l),u):[]}e.default=o})(Ho);const va=ii(Ho),Nf=va.default||va;function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}function Oi(e,t){if(e==null)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(s[n]=e[n]);return s}function Pr(e){var t=v.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var n=Object.create(null);Object.keys(e).forEach(function(r){n[r]=function(){var s;return(s=t.fn[r]).call.apply(s,[t.fn].concat([].slice.call(arguments)))}}),t.curr=n}return t.curr}function $s(e){return v.useReducer(function(t,n){return Me({},t,typeof n=="function"?n(t):n)},e)}v.createContext(void 0);var It=typeof window<"u"&&"ontouchstart"in window,Hs=function(e,t,n){return Math.max(Math.min(e,n),t)},jr=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),Hs(e,1*(1-n),Math.max(6,t)*(1+n))},Ws=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?v.useEffect:v.useLayoutEffect;function bn(e,t,n){var r=v.useRef(t);r.current=t,v.useEffect(function(){function s(i){r.current(i)}return e&&window.addEventListener(e,s,n),function(){e&&window.removeEventListener(e,s)}},[e])}var Ff=["container"];function Df(e){var t=e.container,n=t===void 0?document.body:t,r=Oi(e,Ff);return io.createPortal(re.createElement("div",Me({},r)),n)}function Lf(e){return re.createElement("svg",Me({width:"44",height:"44",viewBox:"0 0 768 768"},e),re.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function Vf(e){return re.createElement("svg",Me({width:"44",height:"44",viewBox:"0 0 768 768"},e),re.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function Uf(e){return re.createElement("svg",Me({width:"44",height:"44",viewBox:"0 0 768 768"},e),re.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function Bf(){return v.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function ya(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var s=e.touches[1],i=s.clientX,l=s.clientY;return[(n+i)/2,(r+l)/2,Math.sqrt(Math.pow(i-n,2)+Math.pow(l-r,2))]}return[n,r,0]}var Vt=function(e,t,n,r){var s=n*t,i=(s-r)/2,l=void 0,o=e;return s<=r?(l=1,o=0):e>0&&i-e<=0?(l=2,o=i):e<0&&i+e<=0&&(l=3,o=-i),[l,o]};function js(e,t,n,r,s,i,l,o,c,u){l===void 0&&(l=innerWidth/2),o===void 0&&(o=innerHeight/2),c===void 0&&(c=0),u===void 0&&(u=0);var d=Vt(e,i,n,innerWidth)[0],f=Vt(t,i,r,innerHeight),p=innerWidth/2,w=innerHeight/2;return{x:l-i/s*(l-(p+e))-p+(r/n>=3&&n*i===innerWidth?0:d?c/2:c),y:o-i/s*(o-(w+t))-w+(f[0]?u/2:u),lastCX:l,lastCY:o}}function qs(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function _s(e,t,n){var r=qs(n,innerWidth,innerHeight),s=r[0],i=r[1],l=0,o=s,c=i,u=e/t*i,d=t/e*s;return e<s&&t<i?(o=e,c=t):e<s&&t>=i?o=u:e>=s&&t<i||e/t>s/i?c=d:t/e>=3&&!r[2]?l=((c=d)-i)/2:o=u,{width:o,height:c,x:0,y:l,pause:!0}}function _r(e,t){var n=t.leading,r=n!==void 0&&n,s=t.maxWait,i=t.wait,l=i===void 0?s||0:i,o=v.useRef(e);o.current=e;var c=v.useRef(0),u=v.useRef(),d=function(){return u.current&&clearTimeout(u.current)},f=v.useCallback(function(){var p=[].slice.call(arguments),w=Date.now();function y(){c.current=w,d(),o.current.apply(null,p)}var g=c.current,b=w-g;if(g===0&&(r&&y(),c.current=w),s!==void 0){if(b>s)return void y()}else b<l&&(c.current=w);d(),u.current=setTimeout(function(){y(),c.current=0},l)},[l,s,r]);return f.cancel=d,f}var ba=function(e,t,n){return rn(e,t,n,100,function(r){return r},function(){return rn(t,e,n)})},zf=function(e){return 1-Math.pow(1-e,4)};function rn(e,t,n,r,s,i){r===void 0&&(r=400),s===void 0&&(s=zf);var l=t-e;if(l!==0){var o=Date.now(),c=0,u=function(){var f=Math.min(1,(Date.now()-o)/r);n(e+s(f)*l)&&f<1?d():(cancelAnimationFrame(c),f>=1&&i&&i())};d()}function d(){c=requestAnimationFrame(u)}}var $f={T:0,L:0,W:0,H:0,FIT:void 0},Sl=function(){var e=v.useRef(!1);return v.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},Hf=["className"];function Wf(e){var t=e.className,n=Oi(e,Hf);return re.createElement("div",Me({className:"PhotoView__Spinner "+t},n),re.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},re.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),re.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var qf=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function Xf(e){var t=e.src,n=e.loaded,r=e.broken,s=e.className,i=e.onPhotoLoad,l=e.loadingElement,o=e.brokenElement,c=Oi(e,qf),u=Sl();return t&&!r?re.createElement(re.Fragment,null,re.createElement("img",Me({className:"PhotoView__Photo"+(s?" "+s:""),src:t,onLoad:function(d){var f=d.target;u.current&&i({loaded:!0,naturalWidth:f.naturalWidth,naturalHeight:f.naturalHeight})},onError:function(){u.current&&i({broken:!0})},alt:""},c)),!n&&(re.createElement("span",{className:"PhotoView__icon"},l)||re.createElement(Wf,{className:"PhotoView__icon"}))):o?re.createElement("span",{className:"PhotoView__icon"},typeof o=="function"?o({src:t}):o):null}var Yf={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function Gf(e){var t=e.item,n=t.src,r=t.render,s=t.width,i=s===void 0?0:s,l=t.height,o=l===void 0?0:l,c=t.originRef,u=e.visible,d=e.speed,f=e.easing,p=e.wrapClassName,w=e.className,y=e.style,g=e.loadingElement,b=e.brokenElement,h=e.onPhotoTap,E=e.onMaskTap,C=e.onReachMove,j=e.onReachUp,T=e.onPhotoResize,k=e.isActive,_=e.expose,O=$s(Yf),I=O[0],N=O[1],z=v.useRef(0),ne=Sl(),Q=I.naturalWidth,Z=Q===void 0?i:Q,me=I.naturalHeight,ve=me===void 0?o:me,Re=I.width,be=Re===void 0?i:Re,tt=I.height,x=tt===void 0?o:tt,m=I.loaded,M=m===void 0?!n:m,R=I.broken,D=I.x,V=I.y,$=I.touched,B=I.stopRaf,X=I.maskTouched,J=I.rotate,G=I.scale,oe=I.CX,U=I.CY,H=I.lastX,F=I.lastY,P=I.lastCX,de=I.lastCY,L=I.lastScale,W=I.touchTime,ae=I.touchLength,ee=I.pause,Ve=I.reach,Ge=Pr({onScale:function(S){return Ue(jr(S))},onRotate:function(S){J!==S&&(_({rotate:S}),N(Me({rotate:S},_s(Z,ve,S))))}});function Ue(S,Y,he){G!==S&&(_({scale:S}),N(Me({scale:S},js(D,V,be,x,G,S,Y,he),S<=1&&{x:0,y:0})))}var Ee=_r(function(S,Y,he){if(he===void 0&&(he=0),($||X)&&k){var Kt=qs(J,be,x),wt=Kt[0],nt=Kt[1];if(he===0&&z.current===0){var ke=Math.abs(S-oe)<=20,Xe=Math.abs(Y-U)<=20;if(ke&&Xe)return void N({lastCX:S,lastCY:Y});z.current=ke?Y>U?3:2:1}var Qt=S-P,Zt=Y-de,rt=void 0;if(he===0){var Jt=Vt(Qt+H,G,wt,innerWidth)[0],fn=Vt(Zt+F,G,nt,innerHeight);rt=function(Pt,Ct,St,ht){return Ct&&Pt===1||ht==="x"?"x":St&&Pt>1||ht==="y"?"y":void 0}(z.current,Jt,fn[0],Ve),rt!==void 0&&C(rt,S,Y,G)}if(rt==="x"||X)return void N({reach:"x"});var Et=jr(G+(he-ae)/100/2*G,Z/be,.2);_({scale:Et}),N(Me({touchLength:he,reach:rt,scale:Et},js(D,V,be,x,G,Et,S,Y,Qt,Zt)))}},{maxWait:8});function Ie(S){return!B&&!$&&(ne.current&&N(Me({},S,{pause:u})),ne.current)}var Pe,Be,ze,Mt,Gt,Rt,cn,Ne,vr=(Gt=function(S){return Ie({x:S})},Rt=function(S){return Ie({y:S})},cn=function(S){return ne.current&&(_({scale:S}),N({scale:S})),!$&&ne.current},Ne=Pr({X:function(S){return Gt(S)},Y:function(S){return Rt(S)},S:function(S){return cn(S)}}),function(S,Y,he,Kt,wt,nt,ke,Xe,Qt,Zt,rt){var Jt=qs(Zt,wt,nt),fn=Jt[0],Et=Jt[1],Pt=Vt(S,Xe,fn,innerWidth),Ct=Pt[0],St=Pt[1],ht=Vt(Y,Xe,Et,innerHeight),hn=ht[0],br=ht[1],mn=Date.now()-rt;if(mn>=200||Xe!=ke||Math.abs(Qt-ke)>1){var Nt=js(S,Y,wt,nt,ke,Xe),Tt=Nt.x,en=Nt.y,Ke=Ct?St:Tt!==S?Tt:null,pn=hn?br:en!==Y?en:null;return Ke!==null&&rn(S,Ke,Ne.X),pn!==null&&rn(Y,pn,Ne.Y),void(Xe!=ke&&rn(ke,Xe,Ne.S))}var tn=(S-he)/mn,Ft=(Y-Kt)/mn,Dt=Math.sqrt(Math.pow(tn,2)+Math.pow(Ft,2)),jt=!1,_t=!1;(function(st,Fe){var De=st,At=0,it=void 0,Qe=0,gn=function(Pn){it||(it=Pn);var Nn=Pn-it,qi=Math.sign(st),Xi=-.001*qi,Yi=Math.sign(-De)*Math.pow(De,2)*2e-4,lc=De*Nn+(Xi+Yi)*Math.pow(Nn,2)/2;At+=lc,it=Pn,qi*(De+=(Xi+Yi)*Nn)<=0?Ze():Fe(At)?mt():Ze()};function mt(){Qe=requestAnimationFrame(gn)}function Ze(){cancelAnimationFrame(Qe)}mt()})(Dt,function(st){var Fe=S+st*(tn/Dt),De=Y+st*(Ft/Dt),At=Vt(Fe,ke,fn,innerWidth),it=At[0],Qe=At[1],gn=Vt(De,ke,Et,innerHeight),mt=gn[0],Ze=gn[1];if(it&&!jt&&(jt=!0,Ct?rn(Fe,Qe,Ne.X):ba(Qe,Fe+(Fe-Qe),Ne.X)),mt&&!_t&&(_t=!0,hn?rn(De,Ze,Ne.Y):ba(Ze,De+(De-Ze),Ne.Y)),jt&&_t)return!1;var Pn=jt||Ne.X(Qe),Nn=_t||Ne.Y(Ze);return Pn&&Nn})}),un=(Pe=h,Be=function(S,Y){Ve||Ue(G!==1?1:Math.max(2,Z/be),S,Y)},ze=v.useRef(0),Mt=_r(function(){ze.current=0,Pe.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var S=[].slice.call(arguments);ze.current+=1,Mt.apply(void 0,S),ze.current>=2&&(Mt.cancel(),ze.current=0,Be.apply(void 0,S))});function dn(S,Y){if(z.current=0,($||X)&&k){N({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var he=jr(G,Z/be);if(vr(D,V,H,F,be,x,G,he,L,J,W),j(S,Y),oe===S&&U===Y){if($)return void un(S,Y);X&&E(S,Y)}}}function Rn(S,Y,he){he===void 0&&(he=0),N({touched:!0,CX:S,CY:Y,lastCX:S,lastCY:Y,lastX:D,lastY:V,lastScale:G,touchLength:he,touchTime:Date.now()})}function yr(S){N({maskTouched:!0,CX:S.clientX,CY:S.clientY,lastX:D,lastY:V})}bn(It?void 0:"mousemove",function(S){S.preventDefault(),Ee(S.clientX,S.clientY)}),bn(It?void 0:"mouseup",function(S){dn(S.clientX,S.clientY)}),bn(It?"touchmove":void 0,function(S){S.preventDefault();var Y=ya(S);Ee.apply(void 0,Y)},{passive:!1}),bn(It?"touchend":void 0,function(S){var Y=S.changedTouches[0];dn(Y.clientX,Y.clientY)},{passive:!1}),bn("resize",_r(function(){M&&!$&&(N(_s(Z,ve,J)),T())},{maxWait:8})),Ws(function(){k&&_(Me({scale:G,rotate:J},Ge))},[k]);var ft=function(S,Y,he,Kt,wt,nt,ke,Xe,Qt,Zt){var rt=function(Tt,en,Ke,pn,tn){var Ft=v.useRef(!1),Dt=$s({lead:!0,scale:Ke}),jt=Dt[0],_t=jt.lead,st=jt.scale,Fe=Dt[1],De=_r(function(At){try{return tn(!0),Fe({lead:!1,scale:At}),Promise.resolve()}catch(it){return Promise.reject(it)}},{wait:pn});return Ws(function(){Ft.current?(tn(!1),Fe({lead:!0}),De(Ke)):Ft.current=!0},[Ke]),_t?[Tt*st,en*st,Ke/st]:[Tt*Ke,en*Ke,1]}(nt,ke,Xe,Qt,Zt),Jt=rt[0],fn=rt[1],Et=rt[2],Pt=function(Tt,en,Ke,pn,tn){var Ft=v.useState($f),Dt=Ft[0],jt=Ft[1],_t=v.useState(0),st=_t[0],Fe=_t[1],De=v.useRef(),At=Pr({OK:function(){return Tt&&Fe(4)}});function it(Qe){tn(!1),Fe(Qe)}return v.useEffect(function(){if(De.current||(De.current=Date.now()),Ke){if(function(Qe,gn){var mt=Qe&&Qe.current;if(mt&&mt.nodeType===1){var Ze=mt.getBoundingClientRect();gn({T:Ze.top,L:Ze.left,W:Ze.width,H:Ze.height,FIT:mt.tagName==="IMG"?getComputedStyle(mt).objectFit:void 0})}}(en,jt),Tt)return Date.now()-De.current<250?(Fe(1),requestAnimationFrame(function(){Fe(2),requestAnimationFrame(function(){return it(3)})}),void setTimeout(At.OK,pn)):void Fe(4);it(5)}},[Tt,Ke]),[st,Dt]}(S,Y,he,Qt,Zt),Ct=Pt[0],St=Pt[1],ht=St.W,hn=St.FIT,br=innerWidth/2,mn=innerHeight/2,Nt=Ct<3||Ct>4;return[Nt?ht?St.L:br:Kt+(br-nt*Xe/2),Nt?ht?St.T:mn:wt+(mn-ke*Xe/2),Jt,Nt&&hn?Jt*(St.H/ht):fn,Ct===0?Et:Nt?ht/(nt*Xe)||.01:Et,Nt?hn?1:0:1,Ct,hn]}(u,c,M,D,V,be,x,G,d,function(S){return N({pause:S})}),te=ft[4],ye=ft[6],Te="transform "+d+"ms "+f,Ce={className:w,onMouseDown:It?void 0:function(S){S.stopPropagation(),S.button===0&&Rn(S.clientX,S.clientY,0)},onTouchStart:It?function(S){S.stopPropagation(),Rn.apply(void 0,ya(S))}:void 0,onWheel:function(S){if(!Ve){var Y=jr(G-S.deltaY/100/2,Z/be);N({stopRaf:!0}),Ue(Y,S.clientX,S.clientY)}},style:{width:ft[2],height:ft[3],opacity:ft[5],objectFit:ye===4?void 0:ft[7],transform:J?"rotate("+J+"deg)":void 0,transition:ye>2?Te+", opacity "+d+"ms ease, height "+(ye<4?d/2:ye>4?d:0)+"ms "+f:void 0}};return re.createElement("div",{className:"PhotoView__PhotoWrap"+(p?" "+p:""),style:y,onMouseDown:!It&&k?yr:void 0,onTouchStart:It&&k?function(S){return yr(S.touches[0])}:void 0},re.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+te+", 0, 0, "+te+", "+ft[0]+", "+ft[1]+")",transition:$||ee?void 0:Te,willChange:k?"transform":void 0}},n?re.createElement(Xf,Me({src:n,loaded:M,broken:R},Ce,{onPhotoLoad:function(S){N(Me({},S,S.loaded&&_s(S.naturalWidth||0,S.naturalHeight||0,J)))},loadingElement:g,brokenElement:b})):r&&r({attrs:Ce,scale:te,rotate:J})))}var xa={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function Kf(e){var t=e.loop,n=t===void 0?3:t,r=e.speed,s=e.easing,i=e.photoClosable,l=e.maskClosable,o=l===void 0||l,c=e.maskOpacity,u=c===void 0?1:c,d=e.pullClosable,f=d===void 0||d,p=e.bannerVisible,w=p===void 0||p,y=e.overlayRender,g=e.toolbarRender,b=e.className,h=e.maskClassName,E=e.photoClassName,C=e.photoWrapClassName,j=e.loadingElement,T=e.brokenElement,k=e.images,_=e.index,O=_===void 0?0:_,I=e.onIndexChange,N=e.visible,z=e.onClose,ne=e.afterClose,Q=e.portalContainer,Z=$s(xa),me=Z[0],ve=Z[1],Re=v.useState(0),be=Re[0],tt=Re[1],x=me.x,m=me.touched,M=me.pause,R=me.lastCX,D=me.lastCY,V=me.bg,$=V===void 0?u:V,B=me.lastBg,X=me.overlay,J=me.minimal,G=me.scale,oe=me.rotate,U=me.onScale,H=me.onRotate,F=e.hasOwnProperty("index"),P=F?O:be,de=F?I:tt,L=v.useRef(P),W=k.length,ae=k[P],ee=typeof n=="boolean"?n:W>n,Ve=function(te,ye){var Te=v.useReducer(function(he){return!he},!1)[1],Ce=v.useRef(0),S=function(he,Kt){var wt=v.useRef(he);function nt(ke){wt.current=ke}return v.useMemo(function(){(function(ke){te?(ke(te),Ce.current=1):Ce.current=2})(nt)},[he]),[wt.current,nt]}(te),Y=S[1];return[S[0],Ce.current,function(){Te(),Ce.current===2&&(Y(!1),ye&&ye()),Ce.current=0}]}(N,ne),Ge=Ve[0],Ue=Ve[1],Ee=Ve[2];Ws(function(){if(Ge)return ve({pause:!0,x:P*-(innerWidth+20)}),void(L.current=P);ve(xa)},[Ge]);var Ie=Pr({close:function(te){H&&H(0),ve({overlay:!0,lastBg:$}),z(te)},changeIndex:function(te,ye){ye===void 0&&(ye=!1);var Te=ee?L.current+(te-P):te,Ce=W-1,S=Hs(Te,0,Ce),Y=ee?Te:S,he=innerWidth+20;ve({touched:!1,lastCX:void 0,lastCY:void 0,x:-he*Y,pause:ye}),L.current=Y,de&&de(ee?te<0?Ce:te>Ce?0:te:S)}}),Pe=Ie.close,Be=Ie.changeIndex;function ze(te){return te?Pe():ve({overlay:!X})}function Mt(){ve({x:-(innerWidth+20)*P,lastCX:void 0,lastCY:void 0,pause:!0}),L.current=P}function Gt(te,ye,Te,Ce){te==="x"?function(S){if(R!==void 0){var Y=S-R,he=Y;!ee&&(P===0&&Y>0||P===W-1&&Y<0)&&(he=Y/2),ve({touched:!0,lastCX:R,x:-(innerWidth+20)*L.current+he,pause:!1})}else ve({touched:!0,lastCX:S,x,pause:!1})}(ye):te==="y"&&function(S,Y){if(D!==void 0){var he=u===null?null:Hs(u,.01,u-Math.abs(S-D)/100/4);ve({touched:!0,lastCY:D,bg:Y===1?he:u,minimal:Y===1})}else ve({touched:!0,lastCY:S,bg:$,minimal:!0})}(Te,Ce)}function Rt(te,ye){var Te=te-(R??te),Ce=ye-(D??ye),S=!1;if(Te<-40)Be(P+1);else if(Te>40)Be(P-1);else{var Y=-(innerWidth+20)*L.current;Math.abs(Ce)>100&&J&&f&&(S=!0,Pe()),ve({touched:!1,x:Y,lastCX:void 0,lastCY:void 0,bg:u,overlay:!!S||X})}}bn("keydown",function(te){if(N)switch(te.key){case"ArrowLeft":Be(P-1,!0);break;case"ArrowRight":Be(P+1,!0);break;case"Escape":Pe()}});var cn=function(te,ye,Te){return v.useMemo(function(){var Ce=te.length;return Te?te.concat(te).concat(te).slice(Ce+ye-1,Ce+ye+2):te.slice(Math.max(ye-1,0),Math.min(ye+2,Ce+1))},[te,ye,Te])}(k,P,ee);if(!Ge)return null;var Ne=X&&!Ue,vr=N?$:B,un=U&&H&&{images:k,index:P,visible:N,onClose:Pe,onIndexChange:Be,overlayVisible:Ne,overlay:ae&&ae.overlay,scale:G,rotate:oe,onScale:U,onRotate:H},dn=r?r(Ue):400,Rn=s?s(Ue):"cubic-bezier(0.25, 0.8, 0.25, 1)",yr=r?r(3):600,ft=s?s(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return re.createElement(Df,{className:"PhotoView-Portal"+(Ne?"":" PhotoView-Slider__clean")+(N?"":" PhotoView-Slider__willClose")+(b?" "+b:""),role:"dialog",onClick:function(te){return te.stopPropagation()},container:Q},N&&re.createElement(Bf,null),re.createElement("div",{className:"PhotoView-Slider__Backdrop"+(h?" "+h:"")+(Ue===1?" PhotoView-Slider__fadeIn":Ue===2?" PhotoView-Slider__fadeOut":""),style:{background:vr?"rgba(0, 0, 0, "+vr+")":void 0,transitionTimingFunction:Rn,transitionDuration:(m?0:dn)+"ms",animationDuration:dn+"ms"},onAnimationEnd:Ee}),w&&re.createElement("div",{className:"PhotoView-Slider__BannerWrap"},re.createElement("div",{className:"PhotoView-Slider__Counter"},P+1," / ",W),re.createElement("div",{className:"PhotoView-Slider__BannerRight"},g&&un&&g(un),re.createElement(Lf,{className:"PhotoView-Slider__toolbarIcon",onClick:Pe}))),cn.map(function(te,ye){var Te=ee||P!==0?L.current-1+ye:P+ye;return re.createElement(Gf,{key:ee?te.key+"/"+te.src+"/"+Te:te.key,item:te,speed:dn,easing:Rn,visible:N,onReachMove:Gt,onReachUp:Rt,onPhotoTap:function(){return ze(i)},onMaskTap:function(){return ze(o)},wrapClassName:C,className:E,style:{left:(innerWidth+20)*Te+"px",transform:"translate3d("+x+"px, 0px, 0)",transition:m||M?void 0:"transform "+yr+"ms "+ft},loadingElement:j,brokenElement:T,onPhotoResize:Mt,isActive:L.current===Te,expose:ve})}),!It&&w&&re.createElement(re.Fragment,null,(ee||P!==0)&&re.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Be(P-1,!0)}},re.createElement(Vf,null)),(ee||P+1<W)&&re.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Be(P+1,!0)}},re.createElement(Uf,null))),y&&un&&re.createElement("div",{className:"PhotoView-Slider__Overlay"},y(un)))}const Qf=e=>{const n=new DOMParser().parseFromString(e,"text/html").querySelectorAll("img");return Array.from(n).map(r=>r.getAttribute("src"))},Zf=({info:e,handleEntryClick:t,getEntries:n})=>{const r=je(p=>p.activeContent),{handleFetchContent:s,handleToggleStarred:i,handleToggleStatus:l}=vi(),{handleLeftKey:o,handleRightKey:c,handleEscapeKey:u}=$o(e,t,n);if(!r)return null;const d=r.status==="unread",f=r.starred;return a.jsxs(Se.Group,{className:"action-buttons",children:[a.jsx(Se,{icon:a.jsx(Vc,{}),onClick:u,shape:"round",type:"primary"}),a.jsx(Se,{icon:d?a.jsx(ao,{}):a.jsx(oo,{}),onClick:()=>l(r),type:"primary"}),a.jsx(Se,{onClick:()=>i(r),type:"primary",icon:f?a.jsx(oi,{style:{color:"#ffcd00"}}):a.jsx(ai,{})}),a.jsx(Se,{icon:a.jsx(Uc,{}),onClick:o,type:"primary"}),a.jsx(Se,{icon:a.jsx(Bc,{}),onClick:c,type:"primary"}),a.jsx(Se,{icon:a.jsx(zc,{}),onClick:s,shape:"round",type:"primary"})]})},Jf=({url:e,text:t})=>{const[n,r]=v.useState(!1),s=()=>r(!0),i=()=>r(!1);return a.jsx(Hc,{to:e,style:{color:"inherit",textDecoration:n?"underline":"none"},onMouseEnter:s,onMouseLeave:i,children:t})},eh=({node:e,index:t,togglePhotoSlider:n})=>{const[r,s]=v.useState(!1),{isMobileView:i}=Zr();return a.jsx("div",{style:{textAlign:"center",position:"relative"},children:a.jsxs("div",{style:{display:"inline-block",position:"relative"},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[a.jsx("img",{...e.attribs,alt:e.attribs.alt}),a.jsx(Se,{icon:a.jsx(Wc,{}),style:{position:"absolute",top:30,right:10,backgroundColor:"rgba(0, 0, 0, 0.5)",opacity:i||r?1:0,transition:"opacity 0.3s"},onClick:l=>{l.preventDefault(),n(t)}})]})})},th=(e,t)=>({replace:n=>{if(n.type==="tag"&&n.name==="img"){const r=e.findIndex(s=>s===n.attribs.src);return a.jsx(eh,{node:n,index:r,togglePhotoSlider:t})}return n}}),nh=v.forwardRef(({info:e,handleEntryClick:t,getEntries:n,isFilteredEntriesUpdated:r,setIsFilteredEntriesUpdated:s},i)=>{const l=ur(),o=je(k=>k.activeContent),c=ce(_e),{articleWidth:u,fontSize:d}=c,{setIsArticleFocused:f}=v.useContext(xt),[p,w]=v.useState(!1),[y,g]=v.useState(0),b=k=>{g(k),w(_=>!_)};if(!o)return a.jsxs("div",{ref:i,className:"content-empty",children:[a.jsx($c,{style:{fontSize:"64px"}}),a.jsx(q.Title,{heading:6,style:{color:"var(--color-text-3)",marginTop:"10px"},children:"ReactFlux"})]});const h=Qf(o.content),E=th(h,b),C=Nf(o.content,E),j=o.feed.category.id,T=o.feed.category.title;return a.jsxs("div",{className:"article-content",onBlur:()=>f(!1),onFocus:()=>f(!0),ref:i,children:[a.jsxs("div",{className:"scroll-container",children:[a.jsxs("div",{className:"article-header",style:{width:`${u}%`},children:[a.jsx(q.Title,{className:"article-title",heading:5,children:a.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),a.jsxs("div",{className:"article-meta",children:[a.jsx(q.Text,{children:a.jsx(Jf,{url:`/feed/${o.feed.id}`,text:o.feed.title})}),a.jsx(q.Text,{children:` - ${o.author}`}),a.jsx(q.Text,{children:a.jsx(Qn,{size:"small",onClick:()=>{l(`/category/${j}`)},style:{marginLeft:"10px",cursor:"pointer"},children:T})})]}),a.jsx(q.Text,{className:"article-date",children:Cn(o.published_at).format("dddd, MMMM D, YYYY [at] h:mm A")}),a.jsx(ot,{})]}),a.jsxs("div",{className:"article-body",style:{fontSize:`${d}rem`,width:`${u}%`},children:[C,a.jsx(Kf,{images:h.map(k=>({src:k,key:k})),visible:p,onClose:()=>{w(!1),f(!0)},index:y,onIndexChange:g})]},o.id)]}),a.jsx(Zf,{info:e,handleEntryClick:t,getEntries:n,isFilteredEntriesUpdated:r,setIsFilteredEntriesUpdated:s})]})});var rh=Object.defineProperty,sh=(e,t)=>{for(var n in t)rh(e,n,{get:t[n],enumerable:!0})},ut={};sh(ut,{assign:()=>oh,colors:()=>Ht,createStringInterpolator:()=>Li,skipAnimation:()=>Ol,to:()=>kl,willAdvance:()=>Vi});var Mi=pr(),K=e=>mr(e,Mi),Ri=pr();K.write=e=>mr(e,Ri);var ls=pr();K.onStart=e=>mr(e,ls);var Pi=pr();K.onFrame=e=>mr(e,Pi);var Ni=pr();K.onFinish=e=>mr(e,Ni);var wn=[];K.setTimeout=(e,t)=>{const n=K.now()+t,r=()=>{const i=wn.findIndex(l=>l.cancel==r);~i&&wn.splice(i,1),$t-=~i?1:0},s={time:n,handler:e,cancel:r};return wn.splice(Tl(n),0,s),$t+=1,jl(),s};var Tl=e=>~(~wn.findIndex(t=>t.time>e)||~wn.length);K.cancel=e=>{ls.delete(e),Pi.delete(e),Ni.delete(e),Mi.delete(e),Ri.delete(e)};K.sync=e=>{Xs=!0,K.batchedUpdates(e),Xs=!1};K.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,K.onStart(n)}return r.handler=e,r.cancel=()=>{ls.delete(n),t=null},r};var Fi=typeof window<"u"?window.requestAnimationFrame:()=>{};K.use=e=>Fi=e;K.now=typeof performance<"u"?()=>performance.now():Date.now;K.batchedUpdates=e=>e();K.catch=console.error;K.frameLoop="always";K.advance=()=>{K.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Al()};var zt=-1,$t=0,Xs=!1;function mr(e,t){Xs?(t.delete(e),e(0)):(t.add(e),jl())}function jl(){zt<0&&(zt=0,K.frameLoop!=="demand"&&Fi(_l))}function ih(){zt=-1}function _l(){~zt&&(Fi(_l),K.batchedUpdates(Al))}function Al(){const e=zt;zt=K.now();const t=Tl(zt);if(t&&(Il(wn.splice(0,t),n=>n.handler()),$t-=t),!$t){ih();return}ls.flush(),Mi.flush(e?Math.min(64,zt-e):16.667),Pi.flush(),Ri.flush(),Ni.flush()}function pr(){let e=new Set,t=e;return{add(n){$t+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return $t-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,$t-=t.size,Il(t,r=>r(n)&&e.add(r)),$t+=e.size,t=e)}}}function Il(e,t){e.forEach(n=>{try{t(n)}catch(r){K.catch(r)}})}function Ys(){}var ah=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),A={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function kt(e,t){if(A.arr(e)){if(!A.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var le=(e,t)=>e.forEach(t);function bt(e,t,n){if(A.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Ye=e=>A.und(e)?[]:A.arr(e)?e:[e];function qn(e,t){if(e.size){const n=Array.from(e);e.clear(),le(n,t)}}var zn=(e,...t)=>qn(e,n=>n(...t)),Di=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Li,kl,Ht=null,Ol=!1,Vi=Ys,oh=e=>{e.to&&(kl=e.to),e.now&&(K.now=e.now),e.colors!==void 0&&(Ht=e.colors),e.skipAnimation!=null&&(Ol=e.skipAnimation),e.createStringInterpolator&&(Li=e.createStringInterpolator),e.requestAnimationFrame&&K.use(e.requestAnimationFrame),e.batchedUpdates&&(K.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Vi=e.willAdvance),e.frameLoop&&(K.frameLoop=e.frameLoop)},Xn=new Set,et=[],As=[],zr=0,cs={get idle(){return!Xn.size&&!et.length},start(e){zr>e.priority?(Xn.add(e),K.onStart(lh)):(Ml(e),K(Gs))},advance:Gs,sort(e){if(zr)K.onFrame(()=>cs.sort(e));else{const t=et.indexOf(e);~t&&(et.splice(t,1),Rl(e))}},clear(){et=[],Xn.clear()}};function lh(){Xn.forEach(Ml),Xn.clear(),K(Gs)}function Ml(e){et.includes(e)||Rl(e)}function Rl(e){et.splice(ch(et,t=>t.priority>e.priority),0,e)}function Gs(e){const t=As;for(let n=0;n<et.length;n++){const r=et[n];zr=r.priority,r.idle||(Vi(r),r.advance(e),r.idle||t.push(r))}return zr=0,As=et,As.length=0,et=t,et.length>0}function ch(e,t){const n=e.findIndex(t);return n<0?e.length:n}var uh=(e,t,n)=>Math.min(Math.max(n,e),t),dh={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ct="[-+]?\\d*\\.?\\d+",$r=ct+"%";function us(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var fh=new RegExp("rgb"+us(ct,ct,ct)),hh=new RegExp("rgba"+us(ct,ct,ct,ct)),mh=new RegExp("hsl"+us(ct,$r,$r)),ph=new RegExp("hsla"+us(ct,$r,$r,ct)),gh=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,vh=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,yh=/^#([0-9a-fA-F]{6})$/,bh=/^#([0-9a-fA-F]{8})$/;function xh(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=yh.exec(e))?parseInt(t[1]+"ff",16)>>>0:Ht&&Ht[e]!==void 0?Ht[e]:(t=fh.exec(e))?(yn(t[1])<<24|yn(t[2])<<16|yn(t[3])<<8|255)>>>0:(t=hh.exec(e))?(yn(t[1])<<24|yn(t[2])<<16|yn(t[3])<<8|Ca(t[4]))>>>0:(t=gh.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=bh.exec(e))?parseInt(t[1],16)>>>0:(t=vh.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=mh.exec(e))?(wa(Ea(t[1]),Ar(t[2]),Ar(t[3]))|255)>>>0:(t=ph.exec(e))?(wa(Ea(t[1]),Ar(t[2]),Ar(t[3]))|Ca(t[4]))>>>0:null}function Is(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wa(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,i=Is(s,r,e+1/3),l=Is(s,r,e),o=Is(s,r,e-1/3);return Math.round(i*255)<<24|Math.round(l*255)<<16|Math.round(o*255)<<8}function yn(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Ea(e){return(parseFloat(e)%360+360)%360/360}function Ca(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Ar(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Sa(e){let t=xh(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,i=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${i})`}var tr=(e,t,n)=>{if(A.fun(e))return e;if(A.arr(e))return tr({range:e,output:t,extrapolate:n});if(A.str(e.output[0]))return Li(e);const r=e,s=r.output,i=r.range||[0,1],l=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(u=>u);return u=>{const d=Eh(u,i);return wh(u,i[d],i[d+1],s[d],s[d+1],c,l,o,r.map)}};function wh(e,t,n,r,s,i,l,o,c){let u=c?c(e):e;if(u<t){if(l==="identity")return u;l==="clamp"&&(u=t)}if(u>n){if(o==="identity")return u;o==="clamp"&&(u=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=i(u),r===-1/0?u=-u:s===1/0?u=u+r:u=u*(s-r)+r,u)}function Eh(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Ch=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,s=t==="end"?Math.floor(r):Math.ceil(r);return uh(0,1,s/e)},Hr=1.70158,Ir=Hr*1.525,Ta=Hr+1,ja=2*Math.PI/3,_a=2*Math.PI/4.5,kr=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Sh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Ta*e*e*e-Hr*e*e,easeOutBack:e=>1+Ta*Math.pow(e-1,3)+Hr*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((Ir+1)*2*e-Ir)/2:(Math.pow(2*e-2,2)*((Ir+1)*(e*2-2)+Ir)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*ja),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*ja)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*_a))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*_a)/2+1,easeInBounce:e=>1-kr(1-e),easeOutBounce:kr,easeInOutBounce:e=>e<.5?(1-kr(1-2*e))/2:(1+kr(2*e-1))/2,steps:Ch},nr=Symbol.for("FluidValue.get"),Tn=Symbol.for("FluidValue.observers"),Je=e=>!!(e&&e[nr]),$e=e=>e&&e[nr]?e[nr]():e,Aa=e=>e[Tn]||null;function Th(e,t){e.eventObserved?e.eventObserved(t):e(t)}function rr(e,t){const n=e[Tn];n&&n.forEach(r=>{Th(r,t)})}var Pl=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");jh(this,e)}},jh=(e,t)=>Nl(e,nr,t);function On(e,t){if(e[nr]){let n=e[Tn];n||Nl(e,Tn,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function sr(e,t){const n=e[Tn];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Tn]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Nl=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Nr=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_h=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ia=new RegExp(`(${Nr.source})(%|[a-z]+)`,"i"),Ah=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ds=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Fl=e=>{const[t,n]=Ih(e);if(!t||Di())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&ds.test(n))return Fl(n);if(n)return n}return e},Ih=e=>{const t=ds.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},ks,kh=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,Dl=e=>{ks||(ks=Ht?new RegExp(`(${Object.keys(Ht).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>$e(i).replace(ds,Fl).replace(_h,Sa).replace(ks,Sa)),n=t.map(i=>i.match(Nr).map(Number)),s=n[0].map((i,l)=>n.map(o=>{if(!(l in o))throw Error('The arity of each "output" value must be equal');return o[l]})).map(i=>tr({...e,output:i}));return i=>{var c;const l=!Ia.test(t[0])&&((c=t.find(u=>Ia.test(u)))==null?void 0:c.replace(Nr,""));let o=0;return t[0].replace(Nr,()=>`${s[o++](i)}${l||""}`).replace(Ah,kh)}},Ui="react-spring: ",Ll=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Ui}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Oh=Ll(console.warn);function Mh(){Oh(`${Ui}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Rh=Ll(console.warn);function Ph(){Rh(`${Ui}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function fs(e){return A.str(e)&&(e[0]=="#"||/\d/.test(e)||!Di()&&ds.test(e)||e in(Ht||{}))}var Bi=Di()?v.useEffect:v.useLayoutEffect,Nh=()=>{const e=v.useRef(!1);return Bi(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Vl(){const e=v.useState()[1],t=Nh();return()=>{t.current&&e(Math.random())}}function Fh(e,t){const[n]=v.useState(()=>({inputs:t,result:e()})),r=v.useRef(),s=r.current;let i=s;return i?t&&i.inputs&&Dh(t,i.inputs)||(i={inputs:t,result:e()}):i=n,v.useEffect(()=>{r.current=i,s==n&&(n.inputs=n.result=void 0)},[i]),i.result}function Dh(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var Ul=e=>v.useEffect(e,Lh),Lh=[];function ka(e){const t=v.useRef();return v.useEffect(()=>{t.current=e}),t.current}var ir=Symbol.for("Animated:node"),Vh=e=>!!e&&e[ir]===e,pt=e=>e&&e[ir],zi=(e,t)=>ah(e,ir,t),hs=e=>e&&e[ir]&&e[ir].getPayload(),Bl=class{constructor(){zi(this,this)}getPayload(){return this.payload||[]}},gr=class extends Bl{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,A.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new gr(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return A.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,A.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},ar=class extends gr{constructor(e){super(0),this._string=null,this._toString=tr({output:[e,e]})}static create(e){return new ar(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(A.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=tr({output:[this.getValue(),e]})),this._value=0,super.reset()}},Wr={dependencies:null},ms=class extends Bl{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return bt(this.source,(n,r)=>{Vh(n)?t[r]=n.getValue(e):Je(n)?t[r]=$e(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&le(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return bt(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Wr.dependencies&&Je(e)&&Wr.dependencies.add(e);const t=hs(e);t&&le(t,n=>this.add(n))}},zl=class extends ms{constructor(e){super(e)}static create(e){return new zl(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Uh)),!0)}};function Uh(e){return(fs(e)?ar:gr).create(e)}function Ks(e){const t=pt(e);return t?t.constructor:A.arr(e)?zl:fs(e)?ar:gr}var Oa=(e,t)=>{const n=!A.fun(e)||e.prototype&&e.prototype.isReactComponent;return v.forwardRef((r,s)=>{const i=v.useRef(null),l=n&&v.useCallback(y=>{i.current=$h(s,y)},[s]),[o,c]=zh(r,t),u=Vl(),d=()=>{const y=i.current;if(n&&!y)return;(y?t.applyAnimatedValues(y,o.getValue(!0)):!1)===!1&&u()},f=new Bh(d,c),p=v.useRef();Bi(()=>(p.current=f,le(c,y=>On(y,f)),()=>{p.current&&(le(p.current.deps,y=>sr(y,p.current)),K.cancel(p.current.update))})),v.useEffect(d,[]),Ul(()=>()=>{const y=p.current;le(y.deps,g=>sr(g,y))});const w=t.getComponentProps(o.getValue());return v.createElement(e,{...w,ref:l})})},Bh=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&K.write(this.update)}};function zh(e,t){const n=new Set;return Wr.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new ms(e),Wr.dependencies=null,[e,n]}function $h(e,t){return e&&(A.fun(e)?e(t):e.current=t),t}var Ma=Symbol.for("AnimatedComponent"),Hh=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new ms(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=l=>{const o=Ra(l)||"Anonymous";return A.str(l)?l=i[l]||(i[l]=Oa(l,s)):l=l[Ma]||(l[Ma]=Oa(l,s)),l.displayName=`Animated(${o})`,l};return bt(e,(l,o)=>{A.arr(e)&&(o=Ra(l)),i[o]=i(l)}),{animated:i}},Ra=e=>A.str(e)?e:e&&A.str(e.displayName)?e.displayName:A.fun(e)&&e.name||null;function sn(e,...t){return A.fun(e)?e(...t):e}var Yn=(e,t)=>e===!0||!!(t&&e&&(A.fun(e)?e(t):Ye(e).includes(t))),$l=(e,t)=>A.obj(e)?t&&e[t]:e,Hl=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Wh=e=>e,$i=(e,t=Wh)=>{let n=qh;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const i=t(e[s],s);A.und(i)||(r[s]=i)}return r},qh=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Xh={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Yh(e){const t={};let n=0;if(bt(e,(r,s)=>{Xh[s]||(t[s]=r,n++)}),n)return t}function Wl(e){const t=Yh(e);if(t){const n={to:t};return bt(e,(r,s)=>s in t||(n[s]=r)),n}return{...e}}function or(e){return e=$e(e),A.arr(e)?e.map(or):fs(e)?ut.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Gh(e){for(const t in e)return!0;return!1}function Qs(e){return A.fun(e)||A.arr(e)&&A.obj(e[0])}function Kh(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Qh(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var Zh={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Zs={...Zh.default,mass:1,damping:1,easing:Sh.linear,clamp:!1},Jh=class{constructor(){this.velocity=0,Object.assign(this,Zs)}};function em(e,t,n){n&&(n={...n},Pa(n,t),t={...n,...t}),Pa(e,t),Object.assign(e,t);for(const l in Zs)e[l]==null&&(e[l]=Zs[l]);let{frequency:r,damping:s}=e;const{mass:i}=e;return A.und(r)||(r<.01&&(r=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/r,2)*i,e.friction=4*Math.PI*s*i/r),e}function Pa(e,t){if(!A.und(t.decay))e.duration=void 0;else{const n=!A.und(t.tension)||!A.und(t.friction);(n||!A.und(t.frequency)||!A.und(t.damping)||!A.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var Na=[],tm=class{constructor(){this.changed=!1,this.values=Na,this.toValues=null,this.fromValues=Na,this.config=new Jh,this.immediate=!1}};function ql(e,{key:t,props:n,defaultProps:r,state:s,actions:i}){return new Promise((l,o)=>{let c,u,d=Yn(n.cancel??(r==null?void 0:r.cancel),t);if(d)w();else{A.und(n.pause)||(s.paused=Yn(n.pause,t));let y=r==null?void 0:r.pause;y!==!0&&(y=s.paused||Yn(y,t)),c=sn(n.delay||0,t),y?(s.resumeQueue.add(p),i.pause()):(i.resume(),p())}function f(){s.resumeQueue.add(p),s.timeouts.delete(u),u.cancel(),c=u.time-K.now()}function p(){c>0&&!ut.skipAnimation?(s.delayed=!0,u=K.setTimeout(w,c),s.pauseQueue.add(f),s.timeouts.add(u)):w()}function w(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(f),s.timeouts.delete(u),e<=(s.cancelId||0)&&(d=!0);try{i.start({...n,callId:e,cancel:d},l)}catch(y){o(y)}}})}var Hi=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?En(e.get()):t.every(n=>n.noop)?Xl(e.get()):at(e.get(),t.every(n=>n.finished)),Xl=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),at=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),En=e=>({value:e,cancelled:!0,finished:!1});function Yl(e,t,n,r){const{callId:s,parentId:i,onRest:l}=t,{asyncTo:o,promise:c}=n;return!i&&e===o&&!t.reset?c:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const u=$i(t,(b,h)=>h==="onRest"?void 0:b);let d,f;const p=new Promise((b,h)=>(d=b,f=h)),w=b=>{const h=s<=(n.cancelId||0)&&En(r)||s!==n.asyncId&&at(r,!1);if(h)throw b.result=h,f(b),b},y=(b,h)=>{const E=new Fa,C=new Da;return(async()=>{if(ut.skipAnimation)throw lr(n),C.result=at(r,!1),f(C),C;w(E);const j=A.obj(b)?{...b}:{...h,to:b};j.parentId=s,bt(u,(k,_)=>{A.und(j[_])&&(j[_]=k)});const T=await r.start(j);return w(E),n.paused&&await new Promise(k=>{n.resumeQueue.add(k)}),T})()};let g;if(ut.skipAnimation)return lr(n),at(r,!1);try{let b;A.arr(e)?b=(async h=>{for(const E of h)await y(E)})(e):b=Promise.resolve(e(y,r.stop.bind(r))),await Promise.all([b.then(d),p]),g=at(r.get(),!0,!1)}catch(b){if(b instanceof Fa)g=b.result;else if(b instanceof Da)g=b.result;else throw b}finally{s==n.asyncId&&(n.asyncId=i,n.asyncTo=i?o:void 0,n.promise=i?c:void 0)}return A.fun(l)&&K.batchedUpdates(()=>{l(g,r,r.item)}),g})()}function lr(e,t){qn(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Fa=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Da=class extends Error{constructor(){super("SkipAnimationSignal")}},Js=e=>e instanceof Wi,nm=1,Wi=class extends Pl{constructor(){super(...arguments),this.id=nm++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=pt(this);return e&&e.getValue()}to(...e){return ut.to(this,e)}interpolate(...e){return Mh(),ut.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){rr(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||cs.sort(this),rr(this,{type:"priority",parent:this,priority:e})}},ln=Symbol.for("SpringPhase"),Gl=1,ei=2,ti=4,Os=e=>(e[ln]&Gl)>0,Lt=e=>(e[ln]&ei)>0,Ln=e=>(e[ln]&ti)>0,La=(e,t)=>t?e[ln]|=ei|Gl:e[ln]&=~ei,Va=(e,t)=>t?e[ln]|=ti:e[ln]&=~ti,rm=class extends Wi{constructor(e,t){if(super(),this.animation=new tm,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!A.und(e)||!A.und(t)){const n=A.obj(e)?{...e}:{...t,from:e};A.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Lt(this)||this._state.asyncTo)||Ln(this)}get goal(){return $e(this.animation.to)}get velocity(){const e=pt(this);return e instanceof gr?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Os(this)}get isAnimating(){return Lt(this)}get isPaused(){return Ln(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:s}=r;const{config:i}=r,l=hs(r.to);!l&&Je(r.to)&&(s=Ye($e(r.to))),r.values.forEach((u,d)=>{if(u.done)return;const f=u.constructor==ar?1:l?l[d].lastPosition:s[d];let p=r.immediate,w=f;if(!p){if(w=u.lastPosition,i.tension<=0){u.done=!0;return}let y=u.elapsedTime+=e;const g=r.fromValues[d],b=u.v0!=null?u.v0:u.v0=A.arr(i.velocity)?i.velocity[d]:i.velocity;let h;const E=i.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if(A.und(i.duration))if(i.decay){const C=i.decay===!0?.998:i.decay,j=Math.exp(-(1-C)*y);w=g+b/(1-C)*(1-j),p=Math.abs(u.lastPosition-w)<=E,h=b*j}else{h=u.lastVelocity==null?b:u.lastVelocity;const C=i.restVelocity||E/10,j=i.clamp?0:i.bounce,T=!A.und(j),k=g==f?u.v0>0:g<f;let _,O=!1;const I=1,N=Math.ceil(e/I);for(let z=0;z<N&&(_=Math.abs(h)>C,!(!_&&(p=Math.abs(f-w)<=E,p)));++z){T&&(O=w==f||w>f==k,O&&(h=-h*j,w=f));const ne=-i.tension*1e-6*(w-f),Q=-i.friction*.001*h,Z=(ne+Q)/i.mass;h=h+Z*I,w=w+h*I}}else{let C=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,y=u.elapsedTime+=e)),C=(i.progress||0)+y/this._memoizedDuration,C=C>1?1:C<0?0:C,u.durationProgress=C),w=g+i.easing(C)*(f-g),h=(w-u.lastPosition)/e,p=C==1}u.lastVelocity=h,Number.isNaN(w)&&(console.warn("Got NaN while animating:",this),p=!0)}l&&!l[d].done&&(p=!1),p?u.done=!0:t=!1,u.setValue(w,i.round)&&(n=!0)});const o=pt(this),c=o.getValue();if(t){const u=$e(r.to);(c!==u||n)&&!i.decay?(o.setValue(u),this._onChange(u)):n&&i.decay&&this._onChange(c),this._stop()}else n&&this._onChange(c)}set(e){return K.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Lt(this)){const{to:e,config:t}=this.animation;K.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return A.und(e)?(n=this.queue||[],this.queue=[]):n=[A.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Hi(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),lr(this._state,e&&this._lastCallId),K.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=A.obj(n)?n[t]:n,(n==null||Qs(n))&&(n=void 0),r=A.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:n,from:r};return Os(this)||(e.reverse&&([n,r]=[r,n]),r=$e(r),A.und(r)?pt(this)||this._set(n):this._set(r)),s}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,$i(e,(l,o)=>/^on/.test(o)?$l(l,n):l)),Ba(this,e,"onProps"),Un(this,"onProps",e,this);const s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return ql(++this._lastCallId,{key:n,props:e,defaultProps:r,state:i,actions:{pause:()=>{Ln(this)||(Va(this,!0),zn(i.pauseQueue),Un(this,"onPause",at(this,Vn(this,this.animation.to)),this))},resume:()=>{Ln(this)&&(Va(this,!1),Lt(this)&&this._resume(),zn(i.resumeQueue),Un(this,"onResume",at(this,Vn(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(l=>{if(e.loop&&l.finished&&!(t&&l.noop)){const o=Kl(e);if(o)return this._update(o,!0)}return l})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(En(this));const r=!A.und(e.to),s=!A.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(En(this));const{key:i,defaultProps:l,animation:o}=this,{to:c,from:u}=o;let{to:d=c,from:f=u}=e;s&&!r&&(!t.default||A.und(d))&&(d=f),t.reverse&&([d,f]=[f,d]);const p=!kt(f,u);p&&(o.from=f),f=$e(f);const w=!kt(d,c);w&&this._focus(d);const y=Qs(t.to),{config:g}=o,{decay:b,velocity:h}=g;(r||s)&&(g.velocity=0),t.config&&!y&&em(g,sn(t.config,i),t.config!==l.config?sn(l.config,i):void 0);let E=pt(this);if(!E||A.und(d))return n(at(this,!0));const C=A.und(t.reset)?s&&!t.default:!A.und(f)&&Yn(t.reset,i),j=C?f:this.get(),T=or(d),k=A.num(T)||A.arr(T)||fs(T),_=!y&&(!k||Yn(l.immediate||t.immediate,i));if(w){const z=Ks(d);if(z!==E.constructor)if(_)E=this._set(T);else throw Error(`Cannot animate between ${E.constructor.name} and ${z.name}, as the "to" prop suggests`)}const O=E.constructor;let I=Je(d),N=!1;if(!I){const z=C||!Os(this)&&p;(w||z)&&(N=kt(or(j),T),I=!N),(!kt(o.immediate,_)&&!_||!kt(g.decay,b)||!kt(g.velocity,h))&&(I=!0)}if(N&&Lt(this)&&(o.changed&&!C?I=!0:I||this._stop(c)),!y&&((I||Je(c))&&(o.values=E.getPayload(),o.toValues=Je(d)?null:O==ar?[1]:Ye(T)),o.immediate!=_&&(o.immediate=_,!_&&!C&&this._set(c)),I)){const{onRest:z}=o;le(im,Q=>Ba(this,t,Q));const ne=at(this,Vn(this,c));zn(this._pendingCalls,ne),this._pendingCalls.add(n),o.changed&&K.batchedUpdates(()=>{var Q;o.changed=!C,z==null||z(ne,this),C?sn(l.onRest,ne):(Q=o.onStart)==null||Q.call(o,ne,this)})}C&&this._set(j),y?n(Yl(t.to,t,this._state,this)):I?this._start():Lt(this)&&!w?this._pendingCalls.add(n):n(Xl(j))}_focus(e){const t=this.animation;e!==t.to&&(Aa(this)&&this._detach(),t.to=e,Aa(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Je(t)&&(On(t,this),Js(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Je(e)&&sr(e,this)}_set(e,t=!0){const n=$e(e);if(!A.und(n)){const r=pt(this);if(!r||!kt(n,r.getValue())){const s=Ks(n);!r||r.constructor!=s?zi(this,s.create(n)):r.setValue(n),r&&K.batchedUpdates(()=>{this._onChange(n,t)})}}return pt(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Un(this,"onStart",at(this,Vn(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),sn(this.animation.onChange,e,this)),sn(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;pt(this).reset($e(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Lt(this)||(La(this,!0),Ln(this)||this._resume())}_resume(){ut.skipAnimation?this.finish():cs.start(this)}_stop(e,t){if(Lt(this)){La(this,!1);const n=this.animation;le(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),rr(this,{type:"idle",parent:this});const r=t?En(this.get()):at(this.get(),Vn(this,e??n.to));zn(this._pendingCalls,r),n.changed&&(n.changed=!1,Un(this,"onRest",r,this))}}};function Vn(e,t){const n=or(t),r=or(e.get());return kt(r,n)}function Kl(e,t=e.loop,n=e.to){const r=sn(t);if(r){const s=r!==!0&&Wl(r),i=(s||e).reverse,l=!s||s.reset;return cr({...e,loop:t,default:!1,pause:void 0,to:!i||Qs(n)?n:void 0,from:l?e.from:void 0,reset:l,...s})}}function cr(e){const{to:t,from:n}=e=Wl(e),r=new Set;return A.obj(t)&&Ua(t,r),A.obj(n)&&Ua(n,r),e.keys=r.size?Array.from(r):null,e}function sm(e){const t=cr(e);return A.und(t.default)&&(t.default=$i(t)),t}function Ua(e,t){bt(e,(n,r)=>n!=null&&t.add(r))}var im=["onStart","onRest","onChange","onPause","onResume"];function Ba(e,t,n){e.animation[n]=t[n]!==Hl(t,n)?$l(t[n],e.key):void 0}function Un(e,t,...n){var r,s,i,l;(s=(r=e.animation)[t])==null||s.call(r,...n),(l=(i=e.defaultProps)[t])==null||l.call(i,...n)}var am=["onStart","onChange","onRest"],om=1,lm=class{constructor(e,t){this.id=om++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];A.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(cr(e)),this}start(e){let{queue:t}=this;return e?t=Ye(e).map(cr):this.queue=[],this._flush?this._flush(this,t):(tc(this,t),ni(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;le(Ye(t),r=>n[r].stop(!!e))}else lr(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(A.und(e))this.start({pause:!0});else{const t=this.springs;le(Ye(e),n=>t[n].pause())}return this}resume(e){if(A.und(e))this.start({pause:!1});else{const t=this.springs;le(Ye(e),n=>t[n].resume())}return this}each(e){bt(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,qn(e,([o,c])=>{c.value=this.get(),o(c,this,this._item)}));const i=!r&&this._started,l=s||i&&n.size?this.get():null;s&&t.size&&qn(t,([o,c])=>{c.value=l,o(c,this,this._item)}),i&&(this._started=!1,qn(n,([o,c])=>{c.value=l,o(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;K.onFrame(this._onFrame)}};function ni(e,t){return Promise.all(t.map(n=>Ql(e,n))).then(n=>Hi(e,n))}async function Ql(e,t,n){const{keys:r,to:s,from:i,loop:l,onRest:o,onResolve:c}=t,u=A.obj(t.default)&&t.default;l&&(t.loop=!1),s===!1&&(t.to=null),i===!1&&(t.from=null);const d=A.arr(s)||A.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):le(am,g=>{const b=t[g];if(A.fun(b)){const h=e._events[g];t[g]=({finished:E,cancelled:C})=>{const j=h.get(b);j?(E||(j.finished=!1),C&&(j.cancelled=!0)):h.set(b,{value:null,finished:E||!1,cancelled:C||!1})},u&&(u[g]=t[g])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,zn(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const p=(r||Object.keys(e.springs)).map(g=>e.springs[g].start(t)),w=t.cancel===!0||Hl(t,"cancel")===!0;(d||w&&f.asyncId)&&p.push(ql(++e._lastAsyncId,{props:t,state:f,actions:{pause:Ys,resume:Ys,start(g,b){w?(lr(f,e._lastAsyncId),b(En(e))):(g.onRest=o,b(Yl(d,g,f,e)))}}})),f.paused&&await new Promise(g=>{f.resumeQueue.add(g)});const y=Hi(e,await Promise.all(p));if(l&&y.finished&&!(n&&y.noop)){const g=Kl(t,l,s);if(g)return tc(e,[g]),Ql(e,g,!0)}return c&&K.batchedUpdates(()=>c(y,e,e.item)),y}function za(e,t){const n={...e.springs};return t&&le(Ye(t),r=>{A.und(r.keys)&&(r=cr(r)),A.obj(r.to)||(r={...r,to:void 0}),ec(n,r,s=>Jl(s))}),Zl(e,n),n}function Zl(e,t){bt(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,On(n,e))})}function Jl(e,t){const n=new rm;return n.key=e,t&&On(n,t),n}function ec(e,t,n){t.keys&&le(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function tc(e,t){le(t,n=>{ec(e.springs,n,r=>Jl(r,e))})}var ps=({children:e,...t})=>{const n=v.useContext(qr),r=t.pause||!!n.pause,s=t.immediate||!!n.immediate;t=Fh(()=>({pause:r,immediate:s}),[r,s]);const{Provider:i}=qr;return v.createElement(i,{value:t},e)},qr=cm(ps,{});ps.Provider=qr.Provider;ps.Consumer=qr.Consumer;function cm(e,t){return Object.assign(e,v.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var um=()=>{const e=[],t=function(r){Ph();const s=[];return le(e,(i,l)=>{if(A.und(r))s.push(i.start());else{const o=n(r,i,l);o&&s.push(i.start(o))}}),s};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return le(e,r=>r.pause(...arguments)),this},t.resume=function(){return le(e,r=>r.resume(...arguments)),this},t.set=function(r){le(e,(s,i)=>{const l=A.fun(r)?r(i,s):r;l&&s.set(l)})},t.start=function(r){const s=[];return le(e,(i,l)=>{if(A.und(r))s.push(i.start());else{const o=this._getProps(r,i,l);o&&s.push(i.start(o))}}),s},t.stop=function(){return le(e,r=>r.stop(...arguments)),this},t.update=function(r){return le(e,(s,i)=>s.update(this._getProps(r,s,i))),this};const n=function(r,s,i){return A.fun(r)?r(i,s):r};return t._getProps=n,t};function dm(e,t,n){const r=A.fun(t)&&t;r&&!n&&(n=[]);const s=v.useMemo(()=>r||arguments.length==3?um():void 0,[]),i=v.useRef(0),l=Vl(),o=v.useMemo(()=>({ctrls:[],queue:[],flush(h,E){const C=za(h,E);return i.current>0&&!o.queue.length&&!Object.keys(C).some(T=>!h.springs[T])?ni(h,E):new Promise(T=>{Zl(h,C),o.queue.push(()=>{T(ni(h,E))}),l()})}}),[]),c=v.useRef([...o.ctrls]),u=[],d=ka(e)||0;v.useMemo(()=>{le(c.current.slice(e,d),h=>{Kh(h,s),h.stop(!0)}),c.current.length=e,f(d,e)},[e]),v.useMemo(()=>{f(0,Math.min(d,e))},n);function f(h,E){for(let C=h;C<E;C++){const j=c.current[C]||(c.current[C]=new lm(null,o.flush)),T=r?r(C,j):t[C];T&&(u[C]=sm(T))}}const p=c.current.map((h,E)=>za(h,u[E])),w=v.useContext(ps),y=ka(w),g=w!==y&&Gh(w);Bi(()=>{i.current++,o.ctrls=c.current;const{queue:h}=o;h.length&&(o.queue=[],le(h,E=>E())),le(c.current,(E,C)=>{s==null||s.add(E),g&&E.start({default:w});const j=u[C];j&&(Qh(E,j.ref),E.ref?E.queue.push(j):E.start(j))})}),Ul(()=>()=>{le(o.ctrls,h=>h.stop(!0))});const b=p.map(h=>({...h}));return s?[b,s]:b}function fm(e,t){const n=A.fun(e),[[r],s]=dm(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,s]:r}var hm=class extends Wi{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=tr(...t);const n=this._get(),r=Ks(n);zi(this,r.create(n))}advance(e){const t=this._get(),n=this.get();kt(t,n)||(pt(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&$a(this._active)&&Ms(this)}_get(){const e=A.arr(this.source)?this.source.map($e):Ye($e(this.source));return this.calc(...e)}_start(){this.idle&&!$a(this._active)&&(this.idle=!1,le(hs(this),e=>{e.done=!1}),ut.skipAnimation?(K.batchedUpdates(()=>this.advance()),Ms(this)):cs.start(this))}_attach(){let e=1;le(Ye(this.source),t=>{Je(t)&&On(t,this),Js(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){le(Ye(this.source),e=>{Je(e)&&sr(e,this)}),this._active.clear(),Ms(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Ye(this.source).reduce((t,n)=>Math.max(t,(Js(n)?n.priority:0)+1),0))}};function mm(e){return e.idle!==!1}function $a(e){return!e.size||Array.from(e).every(mm)}function Ms(e){e.idle||(e.idle=!0,le(hs(e),t=>{t.done=!0}),rr(e,{type:"idle",parent:e}))}ut.assign({createStringInterpolator:Dl,to:(e,t)=>new hm(e,t)});var nc=/^--/;function pm(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!nc.test(e)&&!(Gn.hasOwnProperty(e)&&Gn[e])?t+"px":(""+t).trim()}var Ha={};function gm(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:s,scrollTop:i,scrollLeft:l,viewBox:o,...c}=t,u=Object.values(c),d=Object.keys(c).map(f=>n||e.hasAttribute(f)?f:Ha[f]||(Ha[f]=f.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));s!==void 0&&(e.textContent=s);for(const f in r)if(r.hasOwnProperty(f)){const p=pm(f,r[f]);nc.test(f)?e.style.setProperty(f,p):e.style[f]=p}d.forEach((f,p)=>{e.setAttribute(f,u[p])}),i!==void 0&&(e.scrollTop=i),l!==void 0&&(e.scrollLeft=l),o!==void 0&&e.setAttribute("viewBox",o)}var Gn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vm=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),ym=["Webkit","Ms","Moz","O"];Gn=Object.keys(Gn).reduce((e,t)=>(ym.forEach(n=>e[vm(n,t)]=e[t]),e),Gn);var bm=/^(matrix|translate|scale|rotate|skew)/,xm=/^(translate)/,wm=/^(rotate|skew)/,Rs=(e,t)=>A.num(e)&&e!==0?e+t:e,Fr=(e,t)=>A.arr(e)?e.every(n=>Fr(n,t)):A.num(e)?e===t:parseFloat(e)===t,Em=class extends ms{constructor({x:e,y:t,z:n,...r}){const s=[],i=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),i.push(l=>[`translate3d(${l.map(o=>Rs(o,"px")).join(",")})`,Fr(l,0)])),bt(r,(l,o)=>{if(o==="transform")s.push([l||""]),i.push(c=>[c,c===""]);else if(bm.test(o)){if(delete r[o],A.und(l))return;const c=xm.test(o)?"px":wm.test(o)?"deg":"";s.push(Ye(l)),i.push(o==="rotate3d"?([u,d,f,p])=>[`rotate3d(${u},${d},${f},${Rs(p,c)})`,Fr(p,0)]:u=>[`${o}(${u.map(d=>Rs(d,c)).join(",")})`,Fr(u,o.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new Cm(s,i)),super(r)}},Cm=class extends Pl{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return le(this.inputs,(n,r)=>{const s=$e(n[0]),[i,l]=this.transforms[r](A.arr(s)?s:n.map($e));e+=" "+i,t=t&&l}),t?"none":e}observerAdded(e){e==1&&le(this.inputs,t=>le(t,n=>Je(n)&&On(n,this)))}observerRemoved(e){e==0&&le(this.inputs,t=>le(t,n=>Je(n)&&sr(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),rr(this,e)}},Sm=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];ut.assign({batchedUpdates:io.unstable_batchedUpdates,createStringInterpolator:Dl,colors:dh});var Tm=Hh(Sm,{applyAnimatedValues:gm,createAnimatedStyle:e=>new Em(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),jm=Tm.animated,rc={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",l=0;l<arguments.length;l++){var o=arguments[l];o&&(i=s(i,r(o)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var l="";for(var o in i)t.call(i,o)&&i[o]&&(l=s(l,o));return l}function s(i,l){return l?i?i+" "+l:i+l:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(rc);var _m=rc.exports;const sc=ii(_m);var ri=new Map,Or=new WeakMap,Wa=0,Am=void 0;function Im(e){return e?(Or.has(e)||(Wa+=1,Or.set(e,Wa.toString())),Or.get(e)):"0"}function km(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Im(e.root):e[t]}`).toString()}function Om(e){const t=km(e);let n=ri.get(t);if(!n){const r=new Map;let s;const i=new IntersectionObserver(l=>{l.forEach(o=>{var c;const u=o.isIntersecting&&s.some(d=>o.intersectionRatio>=d);e.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=u),(c=r.get(o.target))==null||c.forEach(d=>{d(u,o)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:r},ri.set(t,n)}return n}function Mm(e,t,n={},r=Am){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const c=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:i,elements:l}=Om(n),o=l.get(e)||[];return l.has(e)||l.set(e,o),o.push(t),i.observe(e),function(){o.splice(o.indexOf(t),1),o.length===0&&(l.delete(e),i.unobserve(e)),l.size===0&&(i.disconnect(),ri.delete(s))}}function ic({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:s,triggerOnce:i,skip:l,initialInView:o,fallbackInView:c,onChange:u}={}){var d;const[f,p]=v.useState(null),w=v.useRef(),[y,g]=v.useState({inView:!!o,entry:void 0});w.current=u,v.useEffect(()=>{if(l||!f)return;let C;return C=Mm(f,(j,T)=>{g({inView:j,entry:T}),w.current&&w.current(j,T),T.isIntersecting&&i&&C&&(C(),C=void 0)},{root:s,rootMargin:r,threshold:e,trackVisibility:n,delay:t},c),()=>{C&&C()}},[Array.isArray(e)?e.toString():e,f,s,r,i,l,n,c,t]);const b=(d=y.entry)==null?void 0:d.target,h=v.useRef();!f&&b&&!i&&!l&&h.current!==b&&(h.current=b,g({inView:!!o,entry:void 0}));const E=[p,y.inView,y.entry];return E.ref=E[0],E.inView=E[1],E.entry=E[2],E}const Rm="Left",Pm="Right",Nm="Up",Fm="Down",xn={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},si={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},qa="mousemove",Xa="mouseup",Dm="touchend",Lm="touchmove",Vm="touchstart";function Um(e,t,n,r){return e>t?n>0?Pm:Rm:r>0?Fm:Nm}function Ya(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),s=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,s]}function Bm(e,t){const n=d=>{const f="touches"in d;f&&d.touches.length>1||e((p,w)=>{w.trackMouse&&!f&&(document.addEventListener(qa,r),document.addEventListener(Xa,l));const{clientX:y,clientY:g}=f?d.touches[0]:d,b=Ya([y,g],w.rotationAngle);return w.onTouchStartOrOnMouseDown&&w.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},p),si),{initial:b.slice(),xy:b,start:d.timeStamp||0})})},r=d=>{e((f,p)=>{const w="touches"in d;if(w&&d.touches.length>1)return f;if(d.timeStamp-f.start>p.swipeDuration)return f.swiping?Object.assign(Object.assign({},f),{swiping:!1}):f;const{clientX:y,clientY:g}=w?d.touches[0]:d,[b,h]=Ya([y,g],p.rotationAngle),E=b-f.xy[0],C=h-f.xy[1],j=Math.abs(E),T=Math.abs(C),k=(d.timeStamp||0)-f.start,_=Math.sqrt(j*j+T*T)/(k||1),O=[E/(k||1),C/(k||1)],I=Um(j,T,E,C),N=typeof p.delta=="number"?p.delta:p.delta[I.toLowerCase()]||xn.delta;if(j<N&&T<N&&!f.swiping)return f;const z={absX:j,absY:T,deltaX:E,deltaY:C,dir:I,event:d,first:f.first,initial:f.initial,velocity:_,vxvy:O};z.first&&p.onSwipeStart&&p.onSwipeStart(z),p.onSwiping&&p.onSwiping(z);let ne=!1;return(p.onSwiping||p.onSwiped||p[`onSwiped${I}`])&&(ne=!0),ne&&p.preventScrollOnSwipe&&p.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},f),{first:!1,eventData:z,swiping:!0})})},s=d=>{e((f,p)=>{let w;if(f.swiping&&f.eventData){if(d.timeStamp-f.start<p.swipeDuration){w=Object.assign(Object.assign({},f.eventData),{event:d}),p.onSwiped&&p.onSwiped(w);const y=p[`onSwiped${w.dir}`];y&&y(w)}}else p.onTap&&p.onTap({event:d});return p.onTouchEndOrOnMouseUp&&p.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},f),si),{eventData:w})})},i=()=>{document.removeEventListener(qa,r),document.removeEventListener(Xa,l)},l=d=>{i(),s(d)},o=(d,f)=>{let p=()=>{};if(d&&d.addEventListener){const w=Object.assign(Object.assign({},xn.touchEventOptions),f.touchEventOptions),y=[[Vm,n,w],[Lm,r,Object.assign(Object.assign({},w),f.preventScrollOnSwipe?{passive:!1}:{})],[Dm,s,w]];y.forEach(([g,b,h])=>d.addEventListener(g,b,h)),p=()=>y.forEach(([g,b])=>d.removeEventListener(g,b))}return p},u={ref:d=>{d!==null&&e((f,p)=>{if(f.el===d)return f;const w={};return f.el&&f.el!==d&&f.cleanUpTouch&&(f.cleanUpTouch(),w.cleanUpTouch=void 0),p.trackTouch&&d&&(w.cleanUpTouch=o(d,p)),Object.assign(Object.assign(Object.assign({},f),{el:d}),w)})}};return t.trackMouse&&(u.onMouseDown=n),[u,o]}function zm(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function $m(e){const{trackMouse:t}=e,n=v.useRef(Object.assign({},si)),r=v.useRef(Object.assign({},xn)),s=v.useRef(Object.assign({},r.current));s.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},xn),e);let i;for(i in xn)r.current[i]===void 0&&(r.current[i]=xn[i]);const[l,o]=v.useMemo(()=>Bm(c=>n.current=c(n.current,r.current),{trackMouse:t}),[t]);return n.current=zm(n.current,r.current,s.current,o),l}const Hm=({alt:e,borderRadius:t,height:n,src:r,status:s,width:i})=>{const[l,o]=v.useState(!1),{ref:c,inView:u}=ic();return v.useEffect(()=>{if(u&&!l){const d=new Image;d.onload=()=>o(!0),d.onerror=()=>{var p;const f=(p=c.current)==null?void 0:p.parentElement;f&&(f.style.display="none")},d.src=r}},[u,l,r]),a.jsx("div",{className:"image-container",ref:c,children:l?a.jsx("img",{className:s==="unread"?"":"read",src:r,alt:e,style:{width:i,height:n,objectFit:"cover",borderRadius:t}}):a.jsx("div",{className:"skeleton-container",children:a.jsx(Lr,{text:{rows:0},image:{style:{width:i,height:n,margin:"0",borderRadius:t}},animation:!0})})})},Wm=({url:e,mini:t})=>a.jsx("img",{className:t?"feed-icon-mini":"feed-icon",src:`https://icons.duckduckgo.com/ip3/${new URL(e).hostname}.ico`,alt:"Feed icon"}),qm=({entry:e,isThumbnail:t})=>{const n=t?{width:"100px",height:"100px"}:{width:"100%",height:"160px"};return e.imgSrc?a.jsx("div",{className:t?"thumbnail":"cover-image",children:a.jsx(Hm,{alt:e.id,borderRadius:t?"4px":void 0,src:e.imgSrc,status:e.status,width:n.width,height:n.height})}):null},Xm=({entry:e,showFeedIcon:t,mini:n})=>{const r=sc({"article-card-mini-content":n,"article-card-mini-content-padding":n&&t});return a.jsxs("div",{className:r,style:{width:"calc(100% - 32px)"},children:[a.jsx("div",{style:{padding:n?"0 8px 0 0":"0 0 8px 0"},children:a.jsx(qm,{entry:e,isThumbnail:n})}),a.jsxs("div",{className:n?"article-card-mini-content-text":"",children:[a.jsx(q.Text,{className:e.status==="unread"?"title-unread":"title-read",children:e.title}),a.jsxs(q.Text,{className:"article-info",children:[a.jsx("br",{}),t&&a.jsx(Wm,{url:e.feed.site_url,mini:n}),e.feed.title,a.jsx("br",{}),po(e.published_at)]}),e.starred&&a.jsx(oi,{className:"icon-starred"})]})]})},Ym=({entry:e,handleEntryClick:t,mini:n})=>{const r=je(I=>I.activeContent),s=ce(_e),{markReadOnScroll:i,showFeedIcon:l}=s,o=r&&e.id===r.id,{handleToggleStarred:c,handleToggleStatus:u}=vi(),[d,f]=v.useState(0),p=100,w=.5,y=e.starred,g=e.status==="unread",b=$m({preventScrollOnSwipe:!0,delta:p/2,onSwiping:I=>{const N=Math.min(Math.abs(I.deltaX*w),p)*Math.sign(I.deltaX);f(N)},onSwiped:I=>{I.deltaX>p?c(e).then(()=>fe.success(y?"Unmarked as starred":"Marked as starred")):I.deltaX<-p&&u(e).then(()=>fe.success(g?"Marked as read":"Marked as unread")),f(0)}}),[h,E]=v.useState(!1),[C,j]=v.useState(!1),T=()=>u(e),k=20,{ref:_}=ic({skip:C,onChange:(I,N)=>{if(!(!i||!g)){if(I)E(!0);else if(h){const{top:z}=N.boundingClientRect;z<k&&(T(),j(!0))}}}}),O=fm({x:d});return v.createElement("div",{...b,className:"article-card",key:e.id},a.jsxs("div",{ref:_,children:[a.jsx(jm.div,{className:"swipe-card",style:O,children:a.jsx(Zn,{className:sc("swipe-content","card-custom-style","card-custom-hover-style",{"card-custom-selected-style":o}),"data-entry-id":e.id,hoverable:!0,onClick:()=>t(e),bordered:!1,children:a.jsx(Zn.Meta,{description:a.jsx(Xm,{entry:e,showFeedIcon:l,mini:n})})})}),a.jsxs("div",{className:"swipe-actions",children:[a.jsx("div",{className:"swipe-action left",children:y?a.jsx(oi,{style:{color:"#ffcd00"}}):a.jsx(ai,{})}),a.jsx("div",{className:"swipe-action right",children:g?a.jsx(ao,{}):a.jsx(oo,{})})]})]}))},Gm=({loading:e})=>{const t=ce(_e),{layout:n}=t,r=n==="large"?2:4,s=i=>a.jsx(Zn,{className:"card-style",cover:n==="large"&&a.jsx("div",{className:"card-cover-style"}),children:a.jsx(Zn.Meta,{description:a.jsx(Lr,{loading:e,animation:!0,text:{rows:3,width:150}})})},i);return e?Array.from({length:r},(i,l)=>s(l)):null},ac=e=>{const t=ce(_e),{showAllFeeds:n}=t,r=ce(An),{entries:s,filterStatus:i,filterString:l,filterType:o,setFilteredEntries:c,setFilterStatus:u,setFilterString:d,setFilterType:f}=v.useContext(xt);return v.useEffect(()=>{c([]);const p=Bo(s,o,i,l);c(Ur(p,e,n,r))},[i,l,o]),{setFilterStatus:u,setFilterString:d,setFilterType:f}},Km=e=>{const{filterString:t,filterType:n}=v.useContext(xt),{isMobileView:r}=Zr(),{setFilterString:s,setFilterType:i}=ac(e),l=ce(_e),{updateConfig:o}=Gr(),{orderDirection:c}=l,u=()=>{o({orderDirection:c==="desc"?"asc":"desc"})};return a.jsxs("div",{className:"search-and-sort-bar",children:[a.jsx(lt.Search,{allowClear:!0,placeholder:"Search...",value:t,addBefore:a.jsxs(Ae,{placeholder:"Select type",onChange:i,style:{width:100},value:n,children:[a.jsx(Ae.Option,{value:"0",children:"Title"}),a.jsx(Ae.Option,{value:"1",children:"Content"})]}),onChange:s,style:{width:r?"100%":278,marginLeft:8}}),a.jsx(Kn,{mini:!0,position:"left",content:c==="desc"?"Newest first":"Oldest first",children:a.jsx(Se,{shape:"circle",size:"small",style:{margin:"0 8px",flexShrink:0},icon:c==="desc"?a.jsx(qc,{}):a.jsx(Xc,{}),onClick:u})})]})},Qm=v.forwardRef(({info:e,loading:t,getEntries:n,handleEntryClick:r,cardsRef:s},i)=>{const{filteredEntries:l,filterStatus:o,loadMoreUnreadVisible:c,loadMoreVisible:u}=v.useContext(xt),{loadingMore:d,handleLoadMore:f}=yi(),p=ce(_e),{layout:w}=p,y=w==="small";return a.jsxs(a.Fragment,{children:[a.jsx(Km,{info:e}),a.jsxs("div",{className:"entry-list",ref:i,children:[a.jsx(Gm,{loading:t}),t?null:a.jsx("div",{ref:s,children:l.map(g=>(ro(g.feed.site_url)||(g.feed.site_url=zo(g.feed.feed_url)),a.jsx(Ym,{entry:g,handleEntryClick:r,mini:y},g.id)))}),!t&&(o==="all"?u:c)&&a.jsxs(Se,{className:"load-more-button",loading:d,long:!0,onClick:()=>f(e,n),children:[!d&&a.jsx(Yc,{}),"Load more"]})]})]})}),Zm=v.forwardRef(({info:e,refreshArticleList:t,markAllAsRead:n},r)=>{const{entries:s,filteredEntries:i,filterStatus:l,loading:o,setEntries:c,setFilteredEntries:u,setUnreadCount:d,setUnreadEntries:f,unreadEntries:p}=v.useContext(xt),{setFilterStatus:w}=ac(e),y=ce(_e),{loadData:g}=gi(),{showStatus:b}=y,h=async()=>{n().then(()=>{fe.success("Marked all as read successfully"),g(),c(s.map(C=>({...C,status:"read"}))),f([]),u(l==="all"?i.map(C=>({...C,status:"read"})):[]),d(0)}).catch(()=>{fe.error("Failed to mark all as read")})};v.useEffect(()=>{e.from==="history"&&w("all")},[]),v.useEffect(()=>{e.from!=="history"&&w(b)},[b]);const E=C=>{r.current&&r.current.scrollTo(0,0),w(C),u(C==="all"?s:p)};return a.jsxs("div",{className:"entry-panel",children:[!["starred","history"].includes(e.from)&&a.jsx(no,{focusLock:!0,title:"Mark All As Read?",onOk:h,children:a.jsx(Se,{icon:a.jsx(Ka,{}),shape:"circle"})}),a.jsxs(gs.Group,{disabled:e.from==="history",name:"lang",onChange:C=>E(C),type:"button",value:e.from==="history"?"all":l,children:[a.jsx(gs,{value:"all",children:"ALL"}),a.jsx(gs,{value:"unread",children:"UNREAD"})]}),a.jsx(Se,{icon:a.jsx(to,{}),loading:o,shape:"circle",onClick:t})]})}),Mn=({info:e,getEntries:t,markAllAsRead:n})=>{const r=je(L=>L.activeContent),s=je(L=>L.setActiveContent),i=ce(An),l=ce(di),{loadData:o}=gi(),c=ce(_e),{orderBy:u,orderDirection:d,showAllFeeds:f}=c,{entries:p,entryDetailRef:w,filteredEntries:y,filterStatus:g,isArticleFocused:b,loading:h,setEntries:E,setFilteredEntries:C,setIsArticleFocused:j,setLoading:T,setLoadMoreUnreadVisible:k,setLoadMoreVisible:_,setOffset:O,setTotal:I,setUnreadCount:N,setUnreadEntries:z,setUnreadOffset:ne,unreadEntries:Q}=v.useContext(xt),{handleFetchContent:Z,handleToggleStarred:me,handleToggleStatus:ve,handleEntryStatusUpdate:Re}=vi(),{parseFirstImage:be}=yi(),[tt,x]=v.useState(!1),[m,M]=v.useState(!1),R=v.useRef(null),D=v.useRef(null);v.useEffect(()=>{!m||e.from==="history"||de()},[u]),v.useEffect(()=>{de()},[e,d]),v.useEffect(()=>{C(()=>["all","today","category"].includes(e.from)&&!f?(g==="all"?p:Q).filter(W=>!i.includes(W.feed.id)):g==="all"?p:Q),x(!0)},[g,i,f]);const V=async L=>{s(null),setTimeout(()=>{s({...L,status:"read"})},200),L.status==="unread"&&(setTimeout(()=>{Re(L,"read")},200),ui([L.id],"read").catch(()=>{fe.error("Failed to mark entry as read, please try again later"),Re(L,"unread")})),w.current&&(w.current.setAttribute("tabIndex","-1"),w.current.focus(),w.current.scrollTo(0,0))},{handleBKey:$,handleDKey:B,handleEscapeKey:X,handleLeftKey:J,handleMKey:G,handleRightKey:oe,handleSKey:U}=$o(e,V,t);v.useEffect(()=>{const L={27:()=>X(R),37:()=>J(),39:()=>oe(e),66:()=>$(),68:()=>B(Z),77:()=>G(()=>ve(r)),83:()=>U(()=>me(r))},W=ae=>{const ee=L[ae.keyCode];ee&&ee()};return b?document.addEventListener("keydown",W):document.removeEventListener("keydown",W),()=>{document.removeEventListener("keydown",W)}},[r,y,b]);const H=(L,W,ae,ee)=>{E(L),z(W),C(Ur(g==="all"?L:W,e,f,i)),I(ae.data.total),_(L.length<ae.data.total),N(ee.data.total),k(W.length<ee.data.total)},F=(L,W)=>{var ae,ee;if((ae=L==null?void 0:L.data)!=null&&ae.entries&&((ee=W==null?void 0:W.data)==null?void 0:ee.total)>=0){const Ve=L.data.entries.map(be),Ge=W.data.entries.map(be);H(Ve,Ge,L,W)}},P=async()=>{T(!0);try{const L=await t();if(e.from==="history")F(L,L);else{const W=await t(0,"unread");F(L,W)}}catch(L){console.error("Error fetching articles:",L)}finally{T(!1)}},de=async()=>{if(R.current&&R.current.scrollTo(0,0),O(0),ne(0),!l){o();return}await P()};return v.useEffect(()=>{r&&s(null)},[]),v.useEffect(()=>{l&&(P().then(()=>M(!0)),j(!0))},[l]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"entry-col",children:[a.jsx(Qi,{in:!h,timeout:200,nodeRef:D,classNames:"fade",children:a.jsx(Qm,{info:e,cardsRef:D,loading:h,getEntries:t,handleEntryClick:V,ref:R})}),a.jsx(Zm,{info:e,refreshArticleList:de,markAllAsRead:n,ref:R})]}),a.jsx(Qi,{in:r!=null,timeout:200,nodeRef:w,classNames:"fade",unmountOnExit:!0,children:a.jsx(nh,{info:e,handleEntryClick:V,getEntries:t,isFilteredEntriesUpdated:tt,setIsFilteredEntriesUpdated:x,ref:w})})]})},Jm=()=>{const e=async()=>{const t=await mu();return ge.put(`/v1/users/${t.data.id}/mark-all-as-read`)};return a.jsx(kn,{children:a.jsx(Mn,{info:{from:"all",id:""},getEntries:Tu,markAllAsRead:e})})},ep=()=>{const{id:e}=lo(),t=ce(_e),{orderBy:n,pageSize:r}=t,s=async(l=0,o=null)=>{const c={baseUrl:`/v1/categories/${e}/entries`,orderField:n,offset:l,limit:r,status:o},u=_n(c);return ge.get(u)},i=async()=>ge.put(`/v1/categories/${e}/mark-all-as-read`);return a.jsx(kn,{children:a.jsx(Mn,{info:{from:"category",id:e},getEntries:s,markAllAsRead:i})})},tp=()=>{const e=ur();return a.jsx("div",{id:"error-page",style:{top:"30%",position:"relative"},children:a.jsx("div",{children:a.jsx(Gc,{status:"404",subTitle:"Whoops, that page is gone. ",extra:[a.jsx(Se,{type:"primary",onClick:()=>e("/"),children:"Back to Home"},"back")]})})})},np=()=>{const{id:e}=lo(),t=ce(_e),{orderBy:n,pageSize:r}=t,s=async(l=0,o=null)=>{const c={baseUrl:`/v1/feeds/${e}/entries`,orderField:n,offset:l,limit:r,status:o},u=_n(c);return ge.get(u)},i=async()=>ge.put(`/v1/feeds/${e}/mark-all-as-read`);return a.jsx(kn,{children:a.jsx(Mn,{info:{from:"feed",id:e},getEntries:s,markAllAsRead:i})})},rp=()=>a.jsx(kn,{children:a.jsx(Mn,{info:{from:"history",id:""},getEntries:go})}),sp=e=>{var r;const t=e.getFieldsValue();let n=!0;for(const s of Object.keys(t))if(s!=="password"){const i=(r=t[s])==null?void 0:r.trim();e.setFieldValue(s,i),i||(n=!1)}else t[s]||(n=!1);return n},Mr=(e,t)=>{e.key==="Enter"&&t.submit()},ip=()=>{const[e]=Kc(),[t,n]=v.useState(!1),[r,s]=Xr(li),[i,l]=v.useState("token"),o=ur();v.useEffect(()=>{ci(r)&&o("/")},[r,o]);const c=async()=>{n(!0);try{(await Ja({url:"/v1/me",method:"get",baseURL:e.getFieldsValue().server,headers:{"X-Auth-Token":e.getFieldsValue().token},auth:{username:e.getFieldsValue().username,password:e.getFieldsValue().password},timeout:5e3})).status===200&&(fe.success("Success"),s(e.getFieldsValue()),o("/"))}catch(d){console.error(d),fe.error(d.message)}n(!1)},u=()=>{c()};return a.jsx("div",{style:{backgroundColor:"var(--color-bg-1)",height:"100%"},children:a.jsx("div",{style:{backgroundColor:"var(--color-fill-1)",height:"100%"},children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",overflowY:"auto"},children:[a.jsx(so,{style:{fontSize:48,color:"rgb(var(--primary-6))",marginTop:"20px"}}),a.jsx(q.Title,{heading:3,children:"Connect to your server"}),a.jsxs(Zn,{style:{boxShadow:"0 4px 10px rgb(var(--color-bg-3))",padding:"20px",width:"380px",marginTop:"20px"},children:[a.jsxs(we,{autoComplete:"off",form:e,layout:"vertical",onSubmit:()=>{sp(e)?u():fe.error("Please fill in all required fields")},children:[a.jsx(we.Item,{field:"server",label:"Server address",rules:[{required:!0}],onKeyDown:d=>{Mr(d,e)},children:a.jsx(lt,{disabled:t,placeholder:"Please input server address",prefix:a.jsx(Qc,{})})}),i==="token"&&a.jsx(we.Item,{field:"token",label:"API Token",rules:[{required:!0}],onKeyDown:d=>{Mr(d,e)},children:a.jsx(lt,{disabled:t,placeholder:"Please input api token",prefix:a.jsx(Zi,{})})}),i==="user"&&a.jsxs(a.Fragment,{children:[a.jsx(we.Item,{field:"username",label:"Username",rules:[{required:!0}],onKeyDown:d=>{Mr(d,e)},children:a.jsx(lt,{disabled:t,prefix:a.jsx(Za,{}),placeholder:"Please input username"})}),a.jsx(we.Item,{field:"password",label:"Password",rules:[{required:!0}],onKeyDown:d=>{Mr(d,e)},children:a.jsx(lt.Password,{disabled:t,prefix:a.jsx(Zi,{}),placeholder:"Please input password"})})]})]}),a.jsx(Se,{loading:t,type:"primary",long:!0,onClick:u,style:{marginTop:"20px"},children:"Connect"}),a.jsx(ot,{orientation:"center",children:"Or connect with"}),a.jsx(Se,{type:"secondary",long:!0,onClick:()=>l(i==="token"?"user":"token"),style:{marginTop:"20px"},children:i==="token"?"Username and password":"API Token"})]}),a.jsxs("div",{style:{display:"flex",marginTop:"40px"},children:[a.jsx(q.Text,{disabled:!0,children:"Need more information?"}),a.jsx(Zc,{href:"https://miniflux.app/docs/api.html#authentication",style:{fontWeight:"500"},children:"Go to Miniflux official website"})]})]})})})},ap=({children:e})=>{const t=ce(li);return ci(t)?a.jsx(a.Fragment,{children:e}):a.jsx(co,{to:"/login"})},op=()=>a.jsx(kn,{children:a.jsx(Mn,{info:{from:"starred",id:""},getEntries:vo})}),lp=()=>{const e=async()=>{const t=await Rr(0,"unread"),n=t.data.entries.map(r=>r.id);if(t.data.total>n.length){const r=t.data.total-n.length,s=Math.ceil(r/100)*100,i=await Rr(n.length,"unread",s);n.push(...i.data.entries.map(l=>l.id))}return ui(n,"read")};return a.jsx(kn,{children:a.jsx(Mn,{info:{from:"today",id:""},getEntries:Rr,markAllAsRead:e})})},cp=yt("homePage"),up=[{path:"/all",element:a.jsx(Jm,{})},{path:"/today",element:a.jsx(lp,{})},{path:"/starred",element:a.jsx(op,{})},{path:"/history",element:a.jsx(rp,{})},{path:"/category/:id",element:a.jsx(ep,{})},{path:"/feed/:id",element:a.jsx(np,{})}],oc=Jc([{path:"/",element:a.jsx(ap,{children:a.jsx(_d,{})}),errorElement:a.jsx(tp,{}),children:[...up,{index:!0,element:a.jsx(co,{to:`/${cp}`,replace:!0})}]},{path:"/login",element:a.jsx(ip,{})}]);eu.createRoot(document.getElementById("root")).render(a.jsx(tu,{locale:nu,children:a.jsx(ru,{router:oc})}))});export default dp();
